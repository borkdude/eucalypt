<!DOCTYPE html>
<html lang="en">
<head>
    <title>Eucalypt</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
  <script type="module">function k(e){if(e==null||e instanceof Function)return e;const t=typeof e;return t==="string"?(n,r)=>_(n,e,r):t==="object"?(n,r)=>_(e,n,r):e}function ft(e,t,n,...r){if(r.length%2!==0)throw new Error("Illegal argument: assoc expects an odd number of arguments.");switch(G(e)){case B:e.set(t,n);for(let o=0;o<r.length;o+=2)e.set(r[o],r[o+1]);break;case F:case W:e[t]=n;for(let o=0;o<r.length;o+=2)e[r[o]]=r[o+1];break;default:throw new Error(`Illegal argument: assoc! expects a Map, Array, or Object as the first argument, but got ${typeof e}.`)}return e}function ye(e){switch(G(e)){case B:return new Map(e);case H:return new e.constructor(e);case F:return[...e];case W:return{...e};default:throw new Error(`Don't know how to copy object of type ${typeof e}.`)}}function w(e,t,n,...r){e||(e={});const o=ye(e);return ft(o,t,n,...r),o}const B=1,F=2,W=3,we=4,H=5,We=6;function He(e){switch(e){case B:return new Map;case F:return[];case W:return{};case we:return new Oe;case H:return new Set;case We:return E(function*(){})}}function be(e){return e.constructor===Object}function Ft(e){return e!=null&&be(e)}function G(e){if(e!=null){if(be(e))return W;if(e instanceof Map)return B;if(e instanceof Set)return H;if(e instanceof Oe)return we;if(Array.isArray(e))return F;if(e instanceof Ve)return We;if(e instanceof Me)return H;if(e instanceof Object)return W}}function Kt(e,t,n,r,o){r=q(r);const s=G(n);if(s!==B&&s!==F&&s!==W)throw new Error(`Illegal argument: ${t} expects the first argument to be a Map, Array, or Object.`);const i=[n];let a=n;for(let u=0;u<r.length-1;u+=1){const f=r[u];let l;a instanceof Map?l=a.get(f):l=a[f],l||(l=He(s)),i.push(l),a=l}i.push(o);for(let u=i.length-2;u>=0;u-=1)i[u]=e(i[u],r[u],i[u+1]);return i[0]}function ue(e,t,n){return Kt(w,"assoc-in",e,t,n)}function Ut(...e){if(e=e.map(k),e.length===0)return Z;if(e.length===1)return e[0];const[t,...n]=e.slice().reverse();return function(...r){let o=t(...r);for(const s of n)o=s(o);return o}}function _t(e,t){for(const n of t)e.add(n);return e}function dt(...e){if(e.length===0)return wt();const[t,...n]=e;let r=t;switch(r==null&&(r=[]),G(r)){case H:_t(r,n);break;case we:r.unshift(...n.reverse());break;case F:r.push(...n);break;case B:for(const o of n)Array.isArray(o)?r.set(o[0],o[1]):h(o).forEach(s=>{r.set(s[0],s[1])});break;case W:for(const o of n)Array.isArray(o)?r[o[0]]=o[1]:Object.assign(r,o);break;default:throw new Error("Illegal argument: conj! expects a Set, Array, List, Map, or Object as the first argument.")}return r}function Ae(...e){if(e.length===0)return wt();const[t,...n]=e;let r=t;r==null&&(r=tn());let o,s;switch(G(r)){case H:return r instanceof Me?_t(new r.constructor(r),n):new r.constructor([...r,...n]);case we:return new Oe(...n.reverse(),...r);case F:return[...r,...n];case B:o=new Map(r);for(const i of n)Array.isArray(i)?o.set(i[0],i[1]):h(i).forEach(a=>{o.set(a[0],a[1])});return o;case We:return E(function*(){yield*n,yield*r});case W:s={...r};for(const i of n)Array.isArray(i)?s[i[0]]=i[1]:Object.assign(s,i);return s;default:throw new Error("Illegal argument: conj expects a Set, Array, List, Map, or Object as the first argument.")}}function ce(e,t){switch(G(e)){case H:case B:return e.has(t);case void 0:return!1;default:return t in e}}function Te(e,...t){if(t.length===0)return e;const n=ye(e);switch(G(e)){case B:for(const r of t)n.delete(r);break;default:for(const r of t)delete n[r];break}return n}function je(e){return e+1}function Qt(e){return e-1}function T(e,t,n){if(e){var r=void 0;if(Array.isArray(e))r=e[t];else{const o=h(e);let s=0;for(const i of o)if(s++==t){r=i;break}}if(r!==void 0)return r}return n}function _(e,t,n=void 0){if(e==null)return n;let r;if(be(e))return r=e[t],r===void 0?n:r;let o;switch(G(e)){case H:e.has(t)&&(r=t);break;case B:r=e.get(t);break;case F:r=e[t];break;default:if(o=e.get,o instanceof Function)try{r=e.get(t);break}catch{}r=e[t];break}return r!==void 0?r:n}function Ye(e){return e!=null&&!!e[Symbol.iterator]}const Se=Ye;function Wt(e){return e==null||!!e[Symbol.iterator]}function h(e){if(e==null)return[];if(Wt(e))return e;if(e instanceof Object)return Object.entries(e);throw new TypeError(`${e} is not iterable`)}const ht=Symbol("Iterable"),Ht=Symbol.iterator;function pt(e){return e[Symbol.iterator]()}const Yt=pt;function K(e){if(e==null)return e;const t=h(e);return t.length===0||t.size===0||t[Symbol.iterator]().next().done?null:t}function b(e){const[t]=h(e);return t}function xe(e){const[t,n]=h(e);return n}function L(e){return E(function*(){let t=!0;for(const n of h(e))t?t=!1:yield n})}class ze{value;constructor(t){this.value=t}_deref(){return this.value}}function Vt(e){return e instanceof ze}function mt(e,t,n){e=k(e);let r,o;if(arguments.length===2){const s=h(t)[Symbol.iterator](),i=s.next();i.done?o=e():o=i.value,r=s}else o=t,r=h(n);if(o instanceof ze)return o.value;for(const s of r)if(o=e(o,s),o instanceof ze){o=o.value;break}return o}var Xt=!1;class Ve{constructor(t){this.gen=t,this.usages=0}[Symbol.iterator](){return this.usages++,this.usages>=2,this.gen()}}Ve.prototype[ht]=!0;function E(e){return new Ve(e)}function ne(e,...t){switch(e=k(e),t.length){case 0:return n=>(...r)=>{switch(r.length){case 0:return n();case 1:return n(r[0]);case 2:return n(r[0],e(r[1]));default:return n(r[0],e(...r.slice(1)))}};case 1:return E(function*(){for(const n of h(t[0]))yield e(n)});default:return E(function*(){const n=t.map(r=>Yt(h(r)));for(;;){const r=[];for(const o of n){const s=o.next();if(s.done)return;r.push(s.value)}yield e(...r)}})}}function gt(e){return t=>(...n)=>{switch(n.length){case 0:return t();case 1:return t(n[0]);case 2:{const r=n[0],o=n[1];return c(e(o))?t(r,o):r}}}}function Pe(e,t){return arguments.length===1?gt(e):(e=k(e),E(function*(){for(const n of h(t))c(e(n))&&(yield n)}))}function J(e,t){return arguments.length===1?gt(De(e)):Pe(De(e),t)}function Jt(e){return t=>{let n=-1;return(...r)=>{switch(r.length){case 0:return t();case 1:return t(r[0]);case 2:return t(r[0],e((n=n+1,n),r[1]))}}}}function nt(e,t){if(e=k(e),arguments.length===1)return Jt(e);const n=[];let r=0;for(const o of h(t))n.push(e(r,o)),r++;return n}function S(...e){return e.join("")}function O(e){return!c(e)}function pe(e){return e==null}class Zt{constructor(t){this.val=t,this._watches={},this._deref=()=>this.val,this._hasWatches=!1,this._reset_BANG_=n=>{const r=this.val;if(this.val=n,this._hasWatches)for(const o of Object.entries(this._watches)){const s=o[0],i=o[1];i(s,this,r,n)}return n},this._add_watch=(n,r)=>{this._watches[n]=r,this._hasWatches=!0},this._remove_watch=n=>{delete this._watches[n]}}}function vt(e){return new Zt(e)}function m(e){return e._deref()}function j(e,t){e._reset_BANG_(t)}function g(e,t,...n){t=k(t);const r=t(m(e),...n);return j(e,r),r}function yt(e,t,n){return E(function*(){let r=e,o=t,s=n;t===void 0&&(r=0,o=e);let i=r||0;s=1;const a=s>=0;for(;o===void 0||a&&i<o||!a&&o<i;)yield i,i+=s})}function Re(e,t){if(D(t)){const n=e.exec(t);return n!=null?n.length===1?n[0]:[...n]:null}else throw new TypeError("re-find must match against a string.")}function wt(...e){return e}function C(e){return G(e)===F}function Le(...e){if(e.length===2){const[r,o]=e,s=h(o);if(Array.isArray(s)){const i=new Array(s.length);for(var t=0;t<s.length;t++)i[t]=r(s[t]);return i}else{var n=[];for(const i of s)n.push(r(i));return n}}return[...ne(...e)]}function q(e){return nn(e)?e:[...h(e)]}function ke(e){return new Set(h(e))}const en=Symbol("IApply__apply");function Ie(e,...t){e=k(e);const n=t.slice(0,t.length-1),r=h(t[t.length-1]),o=e[en];return o?o(...n,r):e(...n,...r)}function De(e){return e=k(e),(...t)=>O(e(...t))}class Oe extends Array{constructor(...t){super(),this.push(...t)}}function tn(...e){return new Oe(...e)}function nn(e){return Array.isArray(e)}function Z(e){return e}function rn(e,t){const n=G(e),r=He(n)||{};for(const o of t){const s=_(e,o);s!=null&&ft(r,o,s)}return r}function on(e){return Vt(e)?m(e):e}function sn(e){return t=>{let n=[];return(...r)=>{let o,s;switch(r.length){case 0:return t();case 1:return o=r[0],n.length!==0&&(s=[...n],n=[],o=on(t(o,s))),t(o);case 2:return o=r[0],n.push(r[1]),e===n.length?(s=[...n],n=[],t(o,s)):o}}}}function cn(e,...t){if(arguments.length===1)return sn(e);let n=e,r=t[0];return t.length===2&&([n,r]=t),un(e,n,[],r,!0)}function un(e,t,n,r,o){return E(function*(){let s=[],i=0;for(const a of h(r))i<e&&(s.push(a),s.length===e&&(yield s,s=t<e?s.slice(t):[])),i++,i===t&&(i=0);s.length>0&&(s.length===e||o)&&(yield s)})}function Xe(e){const t=G(e);if(t!=null)return He(t);throw new Error(`Can't create empty of ${typeof e}`)}function $e(...e){const t=e[0];let n;return t==null?n={}:n=I(Xe(t),t),dt(n,...e.slice(1))}function I(...e){let t,n,r,o,s;switch(e.length){case 0:return[];case 1:return e[0];case 2:return Ae(e[0]??[],...h(e[1]));case 3:return t=e[0],n=e[1],r=e[2],o=ye(t),s=(i,a)=>a===void 0?i:dt(i,a),kt(n,s,o,r);default:throw TypeError(`Invalid arity call of into: ${e.length}`)}}function an(...e){if(e.length==0||e.length>2)throw new Error(`Invalid arity: ${e.length}`);return{[ht]:!0,[Ht]:e.length==1?function*(){const t=e[0];for(;;)yield t}:function*(){const[t,n]=e;for(var r=0;r<t;r++)yield n}}}function ln(e){return t=>{let n=e;return(...r)=>{const o=r.length;if(o===0)return t();if(o===1)return t(r[0]);if(o===2){const s=r[0],i=r[1],a=n;return n--,a>0?s:t(s,i)}}}}function fn(e,t){return arguments.length===1?ln(e):E(function*(){const n=pt(h(t));for(let r=0;r<e;r++)n.next();yield*n})}function Ee(e,t,n,...r){return n=k(n),w(e,t,n(_(e,t),...r))}function bt(e,t,n){let r=e;for(const o of t)r=_(r,o);return r===void 0?n:r}function _n(e,t,n,...r){return n=k(n),ue(e,t,n(bt(e,t),...r))}function dn(e,t){e=k(e);for(const n of h(t))if(!e(n))return!1;return!0}function At(e,t){return arguments.length===1&&(t=e,e=void 0),e=k(e),t=h(t),[...t].sort(e||le)}function hn(e){return e===le?e:(t,n)=>{const r=e(t,n);return jt(r)?r:r?-1:e(n,t)?1:0}}function pn(e,t,n){return arguments.length===2&&(n=t,t=le),e=k(e),t=k(t),At((r,o)=>{const s=hn(t),i=e(r),a=e(o);return s(i,a)},n)}function mn(e,t){e=k(e);for(const n of h(t)){const r=e(n);if(c(r))return r}}function Tt(e){return!K(e)}function X(e){if(!e)return 0;const t=e.length||e.size;if(typeof t=="number")return t;let n=0;for(const r of h(e))n++;return n}function V(e){return e!=null}function gn(e,t,...n){return t==null?e:Math.min(e,t,...n)}function Y(e){return e==null?!1:!!(be(e)||e instanceof Map)}function ae(e){if(Array.isArray(e)){const t=e.slice(1);return t.length>0?t:null}else return K(L(e))}function le(e,t){if(e===t)return 0;{if(e==null)return-1;if(t==null)return 1;const n=typeof e,r=typeof t;if(n==="number"&&r==="number"||n==="string"&&r==="string")return e===t?0:e<t?-1:1;if(Array.isArray(e)&&Array.isArray(t)){if(e.length<t.length)return-1;if(e.length>t.length)return 1;for(let o=0;o<e.length;o++){let s=le(e[o],t[o]);if(s!=0)return s}return 0}else throw new Error(`comparing ${n} to ${r}`)}}function c(e){return e!=null&&e!==!1}function te(e){return typeof e=="function"}function jt(e){return typeof e=="number"}function vn(e){return e?Object.values(e):null}function D(e){return typeof e=="string"}const St=Symbol("meta");function me(e){return e instanceof Object?e[St]:null}function yn(e,t){const n=ye(e);return n[St]=t,n}function wn(e){return e===!0||e===!1}function kt(e,...t){switch(t.length){case 2:{const n=t[0],r=t[1];return kt(e,n,n(),r)}default:{let n=t[0];const r=t[1],o=t[2];n=e(n);const s=mt(n,r,o);return n(s)}}}class Me{constructor(t){t instanceof Me||(t=At(t));const r=new Set(t);this._elts=[...r],this._set=r}add(t){if(this._set.has(t))return this;const n=this._elts;let r=!1;for(let o=0;o<n.length;o++)if(le(t,n[o])<=0){n.splice(o,0,t),r=!0;break}return r?this._set=new Set(n):(n.push(t),this._set.add(t)),this.size=n.length,this}delete(t){if(!this._set.has(t))return this;const n=this._elts,r=n.indexOf(t);return n.splice(r,1),this._set=new Set(n),this.size=n.length,this}has(t){return this._set.has(t)}keys(){return this.values()}values(){return this._elts[Symbol.iterator]()}entries(){return this._set.entries()}forEach(...t){return this.set.forEach(...t)}clear(){this._elts=[],this._set=new Set(this._elts)}[Symbol.iterator](){return this.keys()}}function It(){return crypto.randomUUID()}function z(e,t,...n){if(t===void 0||e===t)return!1;for(const r of n)if(e===r)return!1;return!0}const bn=`# Eucalypt

Eucalypt is a frontend library for [Squint ClojureScript](https://github.com/squint-cljs/squint).
It replaces [Reagent & React](https://reagent-project.github.io/) with a compatible-ish subset of the Reagent API.
It supports form-1 and form-2 Reagent components.

The goal is to build very small frontend artifacts (<10k) using "Reagent" and "ClojureScript" (if you squint hard enough).
It's suitable for small pieces of one-off frontend code that do something simple, not large production web apps.
The examples from the Reagent homepage have been ported and work with Eucalypt.
Eucalypt is itself very small and fits in a single cljs file.

\x3C!-- end-about -->

- **[Try the demo](https://chr15m.github.io/eucalypt/)** - a single HTML file artifact gzipped to ~10k.
- [See the demo source code for examples](https://github.com/chr15m/eucalypt/tree/main/src/demo/).
- [Check out the tests](https://github.com/chr15m/eucalypt/tree/main/src/test/src/)
- ![Test badge](https://github.com/chr15m/eucalypt/actions/workflows/ci.yml/badge.svg)

[Use](#use) | [Bugs](#bugs) | [Dev](#dev) | [Tests](#tests) | [Build](#build) | [Use of AI](#use-of-ai) | [Mr Clean](#mr-clean-original-readme)

## Use

Install with npm:

\`\`\`
npm i eucalypt
\`\`\`

Use it in your Squint cljs script like this:

\`\`\`
(ns my-app
  (:require
    [eucalypt :as r]))

(defonce state (r/atom {}))

(defn component:main [state]
  [:<>
    [:p "Hello world!"]
    [:pre (pr-str @state)]])

(r/render
  [component:main state]
  (js/document.getElementById "app"))
\`\`\`

## Bugs

If you find an example form-1 or form-2 component that works in Reagent but doesn't work with Eucalypt, please create a failing test case in the \`tests/src\` folder, and raise a PR.

## Dev

\`\`\`
pnpm i
npm run dev
\`\`\`

## Tests

\`\`\`
npm run test
\`\`\`

## Build

\`\`\`
npm run build
\`\`\`

## Use of AI

Eucalypt is a fork of [Mr Clean](https://bitbucket.org/sonwh98/mr-clean/) that has been slop-coded with AI into compiling with Squint.

Slop-coded means this library was built by 1. creating failing test cases 2. using an LLM to fix the code until all tests pass.
If you're uncomfortable with this method of development, which involves less human oversight, then you may not want to use this library.
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED.

What's with the name? Eucalyptus oil (sometimes used in cleaning) looks like a reagent if you squint hard enough.

---

## Mr Clean (original README)

Mr Clean is a Reagent compatible ClojureScript library without dependency on React.js. At the heart of React.js
is a very simple idea GUI = function(data). Reagent takes this idea even further hiccup = function(data).  The
advantage of using Mr Clean over Reagent is that the generated javascript of a hello-world app is half
the size of that of reagent.

There is no diffing of virtual DOM. The state of components is flushed to the DOM when data changes. 

### What works?

Ractive atoms and cursors work as expected which are the important parts making components reactive to data changes. 
form 1, form 2 components are fully supported.

### What doesn't work?

None of the reagent macros are implemented. r/reaction is not a macro but a function that returns an atom holding the result of evaluating a function.

form 3 components are not fully supported because not all lifecycle methods are implemented.

`,An=Object.freeze(Object.defineProperty({__proto__:null,default:bn},Symbol.toStringTag,{value:"Module"}));function Tn(){}function rt(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function ot(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const jn="[object RegExp]",Sn="[object String]",kn="[object Number]",In="[object Boolean]",st="[object Arguments]",On="[object Symbol]",En="[object Date]",Mn="[object Map]",Rn="[object Set]",Gn="[object Array]",Nn="[object Function]",Cn="[object ArrayBuffer]",Ge="[object Object]",qn="[object Error]",Bn="[object DataView]",xn="[object Uint8Array]",zn="[object Uint8ClampedArray]",Pn="[object Uint16Array]",Ln="[object Uint32Array]",Dn="[object BigUint64Array]",$n="[object Int8Array]",Fn="[object Int16Array]",Kn="[object Int32Array]",Un="[object BigInt64Array]",Qn="[object Float32Array]",Wn="[object Float64Array]";function it(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype||Object.getPrototypeOf(t)===null?Object.prototype.toString.call(e)==="[object Object]":!1}function Hn(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function Yn(e,t,n){return oe(e,t,void 0,void 0,void 0,void 0,n)}function oe(e,t,n,r,o,s,i){const a=i(e,t,n,r,o,s);if(a!==void 0)return a;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return e===t;case"number":return e===t||Object.is(e,t);case"function":return e===t;case"object":return ie(e,t,s,i)}return ie(e,t,s,i)}function ie(e,t,n,r){if(Object.is(e,t))return!0;let o=ot(e),s=ot(t);if(o===st&&(o=Ge),s===st&&(s=Ge),o!==s)return!1;switch(o){case Sn:return e.toString()===t.toString();case kn:{const u=e.valueOf(),f=t.valueOf();return Hn(u,f)}case In:case En:case On:return Object.is(e.valueOf(),t.valueOf());case jn:return e.source===t.source&&e.flags===t.flags;case Nn:return e===t}n=n??new Map;const i=n.get(e),a=n.get(t);if(i!=null&&a!=null)return i===t;n.set(e,t),n.set(t,e);try{switch(o){case Mn:{if(e.size!==t.size)return!1;for(const[u,f]of e.entries())if(!t.has(u)||!oe(f,t.get(u),u,e,t,n,r))return!1;return!0}case Rn:{if(e.size!==t.size)return!1;const u=Array.from(e.values()),f=Array.from(t.values());for(let l=0;l<u.length;l++){const p=u[l],v=f.findIndex(y=>oe(p,y,void 0,e,t,n,r));if(v===-1)return!1;f.splice(v,1)}return!0}case Gn:case xn:case zn:case Pn:case Ln:case Dn:case $n:case Fn:case Kn:case Un:case Qn:case Wn:{if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let u=0;u<e.length;u++)if(!oe(e[u],t[u],u,e,t,n,r))return!1;return!0}case Cn:return e.byteLength!==t.byteLength?!1:ie(new Uint8Array(e),new Uint8Array(t),n,r);case Bn:return e.byteLength!==t.byteLength||e.byteOffset!==t.byteOffset?!1:ie(new Uint8Array(e),new Uint8Array(t),n,r);case qn:return e.name===t.name&&e.message===t.message;case Ge:{if(!(ie(e.constructor,t.constructor,n,r)||it(e)&&it(t)))return!1;const f=[...Object.keys(e),...rt(e)],l=[...Object.keys(t),...rt(t)];if(f.length!==l.length)return!1;for(let p=0;p<f.length;p++){const v=f[p],y=e[v];if(!Object.hasOwn(t,v))return!1;const M=t[v];if(!oe(y,M,v,e,t,n,r))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}function Vn(e,t){return Yn(e,t,Tn)}var P=vt,d=(()=>{const e=(function(t){const n=[],r=arguments.length;let o=0;for(;;){if(o<r){n.push(arguments[o]),o=o+1;continue}break}const s=0<n.length?n.slice(0):null;return e.cljs$core$IFn$_invoke$arity$variadic(s)});return e.cljs$core$IFn$_invoke$arity$variadic=(function(t){return(()=>{try{if(localStorage.getItem("debug")==="eucalypt:*")return console.log.apply(console,t)}catch{return null}})()}),e.cljs$lang$maxFixedArity=0,e})();d("eucalypt.cljs loading...");var Xn=function(e,t){return e["---meta"]=t,e},Ot=function(e){return e["---meta"]},Jn=function(e){const t=L(e);for(let n of h(t)){const r=n;if(c((()=>{const o=Ft(r);return c(o)?r.watchers:o})())){const o=r.watchers;for(let s of h(m(o))){const i=s;_(Ot(i),"normalized-component")===e&&g(o,(function(a){return ke(J((function(u){return i===u}),a))}))}}}return null},Q=null,Ne="http://www.w3.org/1999/xhtml",fe={"get-initial-state":(function(e){return null}),"component-will-receive-props":Z,"should-component-update":Z,"component-will-update":Z,"component-did-update":Z,"component-will-unmount":Jn},de=P({}),Fe=P({}),se=P({}),ee=P(0),Et=P({}),Mt=function(e,t){const n=Q;return(()=>{try{return Q=Xn((function(){return sr(e)}),{"normalized-component":e}),t()}finally{Q=n}})()},Rt=function(e){for(let t of h(m(Et))){const n=t;T(n,0,null);const o=T(n,1,null).watchers;c(o)&&g(o,(function(i){return ke(J((function(a){return _(Ot(a),"normalized-component")===e}),i))}))}return null},Gt=function(e){return Ie(S,ne((function(t){const n=t,r=T(n,0,null),o=T(n,1,null);return S(r,":",o,";")}),e))},Zn={"on-double-click":"ondblclick"},Ke=function(e,t){return c((()=>{const n=e==="on-change";return n&&_(new Set(["INPUT","TEXTAREA"]),t)})())?"oninput":_(Zn,e,e.replaceAll("-",""))},er=function(e,t){for(let n of h(t)){const r=n,o=T(r,0,null),s=T(r,1,null);if(o!=="xmlns")if(o==="ref")c(V(s))&&(e["---ref-fn"]=s,s(e));else if(c(o.startsWith("on-"))){if(c(V(s))){const i=Ke(o,e.tagName);e[i]=s}}else o==="style"?c(V(s))&&(e.style=Gt(s)):o==="class"?c((()=>{const i=s==null;return i||s===""})())?e.removeAttribute("class"):e.setAttribute("class",s):c((()=>{const i=o==="checked";return i||o==="selected"})())?c(V(s))&&(e[o]=s):c(V(s))&&e.setAttributeNS(null,o,s)}return null},tr=function(e){const n=K(e),r=b(n),o=ae(n),s=r,i=o,a=c(Y(b(i)))?b(i):{},u=_(a,"value"),f=Te(a,"value"),l=c(Y(b(i)))?L(i):i,p=Ne,v=s==="svg"?"http://www.w3.org/2000/svg":p,y=document.createElementNS(v,s);return(()=>{try{Ne=v,er(y,f);for(let M of h(l)){const re=N(M);if(c(re)){const $t=re;y.appendChild($t)}}if(c(V(u)))if(c((()=>{const M=y.tagName==="SELECT";return M&&y.multiple})())){const M=ke(u);for(let tt of h(y.options)){const re=tt;re.selected=ce(M,re.value)}}else y.value=u;return y}finally{Ne=p}})()},nr=function(e){const t=e._eucalypt_id;if(c(t))return t;{const n=S("fn_",It());return e._eucalypt_id=n,n}},Je=function(e){if(d("normalize-component called with:",e),d("normalize-component: component metadata:",me(e)),c(Se(e))){const t=b(e),n=L(e);if(c(te(t))){const r=t,o=q(n),s=me(e),i=nr(r),a=c(ce(s,"key"))?S(i,"_key_",_(s,"key")):S(i,"_pos_",g(ee,je)),u=i,f=_(m(se),a),l=_(m(se),u);if(c(f))return d("normalize-component: using cached instance for key:",a),I([_(f,"instance")],o);if(c(l))return d("normalize-component: using cached shared for key:",u),I([_(l,"instance")],o);{d("normalize-component: cache miss for keys:",a,"and",u);const p=Ie(r,o);if(c(te(p))){const y=$e(fe,{"reagent-render":p}),M=I([y],o);return d("normalize-component: Form-2, caching with key:",a),g(se,w,a,{type:"form-2",instance:y}),M}else{const v=$e(fe,{"reagent-render":r}),y=I([v],o);return d("normalize-component: Form-1, caching with key:",u),g(se,w,u,{type:"form-1",instance:v}),y}}}else{if(c(D(t)))return I([w(fe,"reagent-render",(function(){return e}))],n);if(c(Y(t))){const r=t,o=_(r,"reagent-render"),s=I({"reagent-render":o},ne((function(i){const a=i,u=T(a,0,null),f=T(a,1,null),l=_(r,u),p=c(l)?Ut(l,f):f;return[u,p]}),fe));return I([s],n)}else return null}}},Ze=function(e){const n=K(e),r=b(n),o=ae(n),s=r,i=o,a=_(s,"reagent-render");d("component->hiccup: calling reagent-render with params:",i);const u=Ie(a,i);return d("component->hiccup: reagent-render returned:",u),u},N=function(e){d("hiccup->dom called with:",e);const t=c((()=>{const n=D(e);return c(n)?n:jt(e)})())?document.createTextNode(S(e)):c(C(e))?(()=>{const r=K(e),o=b(r);ae(r);const s=o;if(c(te(s)))return N(Ze(Je(e)));if(c(C(s))){const i=document.createDocumentFragment();for(let a of h(e)){const f=N(a);if(c(f)){const l=f;i.appendChild(l)}}return i}else if(s==="<>"){const i=document.createDocumentFragment();for(let a of h(L(e))){const f=N(a);if(c(f)){const l=f;i.appendChild(l)}}return i}else return tr(e)})():c(Ye(e))?(()=>{const n=document.createDocumentFragment();for(let r of h(e)){const o=r,s=c((()=>{const a=C(o);return c(a)?me(o):a})())?yn(o,me(o)):o,i=N(s);if(c(i)){const a=i;n.appendChild(a)}}return n})():c(te(e))?N(e()):c(Y(e))?N(_(e,"reagent-render")()):c((()=>{const n=e==null;return n||wn(e)})())?null:document.createTextNode(S(e));return d("hiccup->dom returning:",t),t},rr=function(e,t){const n=Vn(e,t);return d("hiccup-eq?:",n),O(n)&&d("hiccup-eq? details: a:",e,"b:",t),n},ct=function(e){d("is-sequence-of-hiccup-elements? checking:",e);const t=(()=>{const n=Se(e);if(c(n)){const r=O(D(e));if(r){const o=K(e);return c(o)?dn((function(s){const i=s==null;return i||C(s)}),e):o}else return r}else return n})();return d("is-sequence-of-hiccup-elements? result:",t),t},Ue=function(e){const t=L(e);return c(Y(b(t)))?L(t):t},U=function(e){d("fully-render-hiccup called with:",e);const t=e==null?null:c(te(e))?U(e()):c(ct(e))||c((()=>{const n=V(e[Symbol.iterator]);if(c(n)){const r=O(C(e));return r&&O(D(e))}else return n})())?Le(U,e):c(C(e))?(()=>{const n=b(e);if(c(te(n)))return U(Ze(Je(e)));{const r=c(Y(xe(e)))?xe(e):null,o=c(r)?fn(2,e):L(e),s=c(r)?[b(e),r]:[b(e)];return I(s,mt((function(i,a){const u=U(a);if(d("fully-render-hiccup reduce: processing child, processed=",u),c((()=>{const f=Se(u);if(c(f)){const l=O(D(u));return l&&Tt(u)}else return f})()))return i;{const f=ct(u);return d("fully-render-hiccup reduce: is-sequence-of-hiccup-elements?=",f),c((()=>{const l=C(u);return c(l)?b(u)==="<>":l})())?(d("fully-render-hiccup reduce: unpacking fragment"),I(i,Ue(u))):c(f)?(d("fully-render-hiccup reduce: unpacking sequence of hiccup elements"),I(i,u)):(d("fully-render-hiccup reduce: appending single child"),Ae(i,u))}}),[],o))}})():c(Y(e))?U(_(e,"reagent-render")()):e;return d("fully-render-hiccup returning:",t),t},et=function(e){if(c(e)){const t=e["---ref-fn"];if(c(t)){const n=t;d("unmount-node-and-children: calling ref-fn for node",e),n(null),e["---ref-fn"]=null}for(let n of h(q(e.childNodes)))et(n);return null}},Nt=function(e){if(c(e))return et(e),e.remove()},Ct=function(e,t,n){d("--- patch-children start for dom:",n.toString());const r=q(J(pe,Ue(e))),o=q(J(pe,Ue(t))),s=P(q(n.childNodes)),i=X(r),a=X(o),u=X(m(s));d("patch-children: len-a:",i,"len-b:",a,"len-dom:",u),d("patch-children: children-a:",r),d("patch-children: children-b:",o);let f=0;for(;;){if(f<gn(i,a)){const l=T(r,f),p=T(o,f),v=T(m(s),f),y=qt(l,p,v);c(z(v,y))&&g(s,w,f,y),f=f+1;continue}break}if(a>i)for(let l of h(yt(i,a))){const p=l;n.appendChild(N(T(o,p)))}if(i>a){const l=i-a;let p=0;for(;;){if(p<l){Nt(n.lastChild),p=p+1;continue}break}}},ge=function(e){d("get-attrs called on hiccup:",e);const t=xe(e);return c(Y(t))?t:{}},or=function(e,t,n){d("patch-attributes called with hiccup-a:",e,"hiccup-b:",t);const r=ge(e),o=ge(t),s=_(r,"ref"),i=_(o,"ref"),a=n.tagName;d("patch-attributes: a-attrs:",r,"b-attrs:",o),d("patch-attributes: a-ref:",s,"b-ref:",i),d("patch-attributes: about to compare refs. are they equal?",s===i,"a-ref:",s,"b-ref:",i),s!==i&&(d("patch-attributes: refs are different, handling lifecycle"),c(s)&&s(null),c(i)&&i(n),n["---ref-fn"]=i);for(let u of h(r)){const f=u,l=T(f,0,null);T(f,1,null),c((()=>{const p=O(ce(o,l));if(p){const v=z(l,"ref");return c(v)?z(l,"xmlns"):v}else return p})())&&(c(l.startsWith("on-"))?n[Ke(l,a)]=null:n.removeAttribute(l))}for(let u of h(o)){const f=u,l=T(f,0,null),p=T(f,1,null);if(c((()=>{const v=z(l,"ref");return c(v)?z(l,"xmlns"):v})())){const v=_(r,l);if(c(l.startsWith("on-")))n[Ke(l,a)]=p;else if(c(z(p,v))&&(d("patch-attributes: updating attribute",l,"from",v,"to",p,"on",n),l!=="value"))if(l==="class")c((()=>{const y=p==null;return y||p===""})())?n.removeAttribute("class"):n.setAttribute("class",p);else if(c((()=>{const y=l==="checked";return y||l==="selected"})()))n[l]=p;else if(p==null)n.removeAttribute(l);else{const y=l==="style"?Gt(p):p;n.setAttributeNS(null,l,y)}}}return null},ve=function(e){return c((()=>{const t=Ye(e);return c(t)?e.gen:t})())?Le(ve,e):c((()=>{const t=Se(e);return c(t)?O(D(e)):t})())?I(Xe(e),ne(ve,e)):e},qt=function(e,t,n){d("patch: hiccup-a-rendered",e,"hiccup-b-rendered",t,"dom-a",n.toString());const r=ve(e),o=ve(t),s=rr(r,o);if(d("patch: are-equal is",s,"(type",typeof s,")"),c(s))return d("patch: hiccup is equal, doing nothing"),n;if(c((()=>{const i=O(C(r));if(i)return i;{const a=O(C(o));return a||z(b(r),b(o))}})())){const i=N(o);return d("patch: replacing node. dom-a:",n,"new-node:",i),c(n)&&d("patch: replacing node. dom-a.textContent:",n.textContent,"new-node.textContent:",i.textContent),et(n),n.replaceWith(i),i}else{d("patch: hiccup not equal, patching children and attributes"),or(r,o,n),Ct(r,o,n);const i=ge(r),a=ge(o),u=_(a,"value");if(c((()=>{const f=ce(a,"value");return c(f)?z(_(i,"value"),u):f})()))if(d("patch: value changed from",_(i,"value"),"to",u,"on",n),c((()=>{const f=n.tagName==="SELECT";return f&&n.multiple})())){const f=ke(u);for(let l of h(n.options)){const p=l;p.selected=ce(f,p.value)}}else n.value=u;return n}},sr=function(e){d("modify-dom called for component:",e),Rt(e),j(ee,0);const t=_(m(de),e);d("modify-dom: mounted-info from cache:",t);const n=t,r=_(n,"hiccup"),o=_(n,"dom"),s=_(n,"container"),i=Mt(e,(function(){return Ze(e)})),a=U(i);if(c((()=>{const u=C(r);return c(u)?b(r)==="<>":u})()))return j(ee,0),Ct(r,a,s),g(de,w,e,{hiccup:a,dom:o,container:s});{j(ee,0);const u=qt(r,a,o);if(d("modify-dom: new DOM",u),g(de,w,e,{hiccup:a,dom:u,container:s}),c(z(o,u)))return d("modify-dom: DOM changed, replacing in container"),s.innerHTML="",s.appendChild(u)}},ut=function(e){d("notify-watchers called with",X(m(e)),"watchers");for(let t of h(m(e))){const n=t;d("calling watcher");const r=Q;try{Q=n,n()}finally{Q=r}}return null},ir=function(e){return Mt(e,(function(){const t=_(b(e),"reagent-render"),n=L(e),r=Ie(t,n),o=N(r);return[r,o]}))},cr=function(e){const t=_(m(Fe),e);if(c(t)){const n=t;Rt(n);const o=K(n),s=b(o);ae(o),_(s,"component-will-unmount")(n),g(Fe,Te,e)}j(se,{});for(let n of h(q(e.childNodes)))Nt(n);return null},ur=function(e,t){cr(t),j(ee,0);const r=K(e),o=b(r);ae(r),_(o,"_reagent-render");const i=ir(e),a=T(i,0,null),u=T(i,1,null);j(ee,0);const f=U(a);return t.appendChild(u),g(de,w,e,{hiccup:f,dom:u,container:t}),g(Fe,w,t,e)},ar=function(e){const t=P(e),n=t._deref,r=t._reset_BANG_,o=S("ratom-",It());return t["ratom-id"]=o,t.watchers=P(new Set([])),t.cursors=P(new Set([])),t._deref=(function(){return c(Q)&&(d("ratom deref: watcher found, adding to set."),g(t.watchers,Ae,Q)),n.call(t)}),t._reset_BANG_=(function(s){d("ratom _reset_BANG_ called with",s);const i=r.call(t,s);ut(t.watchers);for(let a of h(m(t.cursors)))ut(a.watchers);return i}),g(Et,w,o,t),t},lr=function(e,t){d("render called with component:",e,"and container:",t);const n=Je(e);return d("render: normalized-component is",n),ur(n,t)},x=ar;function Bt(e,t){if(t===void 0&&(t=e,e=""),t instanceof Array)return t.join(e);let n="",r=!1;for(const o of h(t))r&&(n+=e),n+=o,r=!0;return n}function fr(e){return e.trim()}function _r(e,t){if(t.length>1)for(;t[t.length-1]==="";)t.pop();return t}function dr(e,t,n){const r=e.split(t,n);return _r(n,r)}const hr=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},at=function(e,t,n){var r="g";t.ignoreCase&&(r+="i"),t.multiline&&(r+="m"),t.unicode&&(r+="u");const o=new RegExp(t.source,r);return e.replace(o,n)},pr=function(e){return(...t)=>{const[n,r,o]=t;return n.length==1?e(n[0]):e(n)}};function lt(e,t,n){if(D(t))return e.replace(new RegExp(hr(t),"g"),n);if(t instanceof RegExp)return D(n)?at(e,t,n):at(e,t,pr(n));throw"Invalid match arg: $match"}console.log("main.cljs loading...");var A=x({page:"home",counter:0,timer:0,coins:99,showfrag:!1,"text-input":"","page-size":"loading...",slots:q(an(15,null))}),xt=x(new Date),Qe=x("#f34");setInterval((function(){return j(xt,new Date)}),1e3);var mr=function(){return fetch(location.href).then((function(e){const t=e.headers,n=t.get("content-encoding")==="gzip",r=t.get("content-length");if(c((()=>{const o=n;return o&&r})())){const o=parseInt(r)/1024;return g(A,w,"page-size",S(o.toFixed(1),"kb gzipped"))}else return e.text().then((function(o){const s=o.length/1024;return g(A,w,"page-size",S(s.toFixed(1),"kb"))}))})).catch((function(e){return console.error("Error fetching page size:",e),g(A,w,"page-size","Error")}))},gr=function(e){if(c(e))return Bt(`
`,ne((function(t){const n=lt(t,/\[(.*?)\]\((.*?)\)/,'<a href="$2">$1</a>');return c(Re(/^# /,t))?S("<h1>",lt(t,/^# /,""),"</h1>"):c(Re(/^- /,t))?S(n,`</br>
`):c(Re(/\[.*?\]\(.*?\)/,t))?n:S("<p>",t,"</p>")}),e.split(`

`)))},R=function(e,t){return["a",{href:"#",class:"nav-link","on-click":(function(n){return n.preventDefault(),g(A,w,"page",e)})},t]},vr=function(){return["div",["h1","Eucalypt demos"],["p","These demos are compiled into this single HTML file artifact."],["p","It has a file size of ",["strong",_(m(A),"page-size")],"."],["p","See ",["a",{href:"small.html"},"small.html"]," for the smallest possible artifact of around 9kb."],["p","Visit the ",["a",{href:"https://github.com/chr15m/eucalypt"},"GitHub project"]," for info on installing and using Eucalypt."],["section",{ref:(function(e){if(c(e)){const r=An.default.split("\x3C!-- end-about -->"),o=b(r),s=gr(o);return e.innerHTML=s}})}],["hr"],["p","Counter demo: ",_(m(A),"counter")],["button",{"on-click":(function(e){return g(A,Ee,"counter",je)})},"Increment"]]},yr=function(){return["div",["h1","Text Input Page"],["p","The current text is: ",_(m(A),"text-input")],["input",{type:"text",value:_(m(A),"text-input"),"on-input":(function(e){return g(A,w,"text-input",e.target.value)})}],["p","This is some text after the input to test rendering."]]},wr=function(){return["svg",{stroke:"currentColor",fill:"none","stroke-linejoin":"round",width:"24",xmlns:"http://www.w3.org/2000/svg","stroke-linecap":"round","stroke-width":"2",class:"icon",viewBox:"0 0 24 24",height:"24"},["path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}],["path",{d:"M16 4a1 1 0 1 0 2 0a1 1 0 0 0 -2 0"}],["path",{d:"M5.5 15h3.5l.75 -1.5"}],["path",{d:"M14 19v-5l-2.5 -3l2.5 -4"}],["path",{d:"M8 8l3 -1h4l1 3h3"}],["path",{d:"M17.5 21a.5 .5 0 1 0 0 -1a.5 .5 0 0 0 0 1z",fill:"currentColor"}],["path",{d:"M3 18c0 .552 .895 1 2 1h14c1.105 0 2 -.448 2 -1"}],["path",{d:"M6.5 21a.5 .5 0 1 0 0 -1a.5 .5 0 0 0 0 1z",fill:"currentColor"}]]},br=function(){return["div",["h1","SVG Test Page"],[wr]]},Ce=function(e,t,n,r,o,s,i,a){return["input",{type:"range",value:r,min:o,max:s,step:i,class:"slider","on-input":(function(u){console.log("slider on-input fired",u);const f=parseFloat(u.target.value);return g(e,(function(l){return t(Te(w(l,n,f),a))}))})}]},qe=function(e){const t=e,n=t,r=_(t,"voltage"),o=_(t,"current"),s=_(t,"resistance");return r==null?w(n,"voltage",o*s):w(n,"current",r/s)},_e=x({voltage:12,current:.5,resistance:24}),Ar=function(){const e=m(_e),t=_(e,"voltage"),n=_(e,"current"),r=_(e,"resistance");return["div",["h3","Ohm's Law Calculator"],["div","Voltage: ",t.toFixed(2),"V",[Ce,_e,qe,"voltage",t,0,30,.1,"current"]],["div","Current: ",n.toFixed(2),"A",[Ce,_e,qe,"current",n,0,3,.01,"voltage"]],["div","Resistance: ",r.toFixed(2),"Ω",[Ce,_e,qe,"resistance",r,0,100,1,"voltage"]]]},zt=function(){return["div",["p","I am a component!"],["p",{class:"someclass"},"I have ",["strong","bold"],["span",{class:"text-red"}," and red "],"text."]]},Tr=function(){return["div",["p","I include simple-component."],[zt]]},jr=function(e){return["p","Hello, ",e,"!"]},Sr=function(){return[jr,"world"]},kr=function(e){return["ul",E(function*(){for(let t of h(e))yield["li","Item ",t]})]},Ir=function(){return["div","Here is a list:",[kr,yt(3)]]},Or=function(){return["div",["h1","Basic Tests"],["h2","simple-component"],[zt],["hr"],["h2","simple-parent"],[Tr],["hr"],["h2","say-hello (hello-component)"],[Sr],["hr"],["h2","lister-user (lister)"],[Ir]]},Er=function(){return console.log("ref-test-page render fn called"),["div",{ref:(function(e){return console.log("ref-test-page :ref fn called with el:",e)})},["h1","Ref Test Page"],["p",{ref:(function(e){if(c(e))return e.style["background-color"]="pink"})},"Original text that gets replaced."],["p","Check the console to see the :ref function getting called."]]},Mr=(()=>{const e=vt(null),t=(function(n){if(console.log("timer-page :ref fn called with el:",n,"and interval-id:",m(e)),c(n)){if(m(e)==null)return console.log("Timer :ref mount, starting timer."),j(e,setInterval((function(){return g(A,Ee,"timer",je)}),1e3))}else if(c(m(e)))return console.log("Timer :ref unmount, clearing timer."),clearInterval(m(e)),j(e,null)});return console.log("timer-page component defined, interval-id atom created:",e),function(){return console.log("timer-page render fn called, interval-id is:",m(e)),["div",{ref:t},["h1","Timer Page"],["p","The timer increments every second only while on this tab."],["p","The current timer is: ",_(m(A),"timer")]]}})(),Be=x([]),Rr=function(){return["div",["h1","List Demo"],["button",{"on-click":(function(e){return g(Be,Ae,Math.random())})},"+ Add"],["ul",E(function*(){for(let e of h(m(Be))){const t=e;yield["li",t," ",["button",{"on-click":(function(n){return g(Be,(function(r){return q(J((function(o){return o===t}),r))}))})},"x"]]}})]]},$=x({}),Pt=x(0),he=function(e){const t=g(Pt,je);return g($,w,t,{id:t,title:e,done:!1})},Gr=function(e){return g($,_n,[e,"done"],O)},Nr=function(e,t){return g($,ue,[e,"title"],t)},Cr=function(e){return g($,Te,e)},Lt=function(e,t,n){return I(Xe(e),t(n,e))},qr=function(e){return g($,Lt,ne,(function(t){return ue(t,[1,"done"],e)}))},Br=function(){return g($,Lt,J,(function(e){return bt(e,[1,"done"])}))},Dt=function(e){const t=e,n=_(t,"title"),r=_(t,"on-save"),o=_(t,"on-stop"),s=x((()=>{const i=n;return c(i)?i:""})());return function(i){const a=(function(f){if(j(s,""),c(o))return o()}),u=(function(f){const l=fr(S(m(s)));return c(Tt(l))||r(l),a()});return["input",$e({type:"text",value:m(s),"on-blur":u,"on-change":(function(f){return j(s,f.target.value)}),"on-key-down":(function(f){switch(f.code){case"Enter":return u();case"Escape":return a()}})},rn(i,["id","class","placeholder","ref"]))]}},xr=function(e){return[Dt,w(e,"ref",(function(t){if(c(t))return t.focus()}))]},zr=function(e){const t=e,n=_(t,"filt"),r=_(t,"active"),o=_(t,"done"),s=(function(i){return{href:"#",class:i===m(n)?"selected":null,"on-click":(function(a){return a.preventDefault(),j(n,i)})}});return["div",["span",{id:"todo-count"},["strong",r]," ",(()=>{switch(r){case 1:return"item";default:return"items"}})()," left"],["ul",{id:"filters"},["li",["a",s("all"),"All"]],["li",["a",s("active"),"Active"]],["li",["a",s("done"),"Completed"]]],o>0?["button",{id:"clear-completed","on-click":Br},"Clear completed ",o]:null]},Pr=function(){const e=x(!1);return function(t){const n=t,r=_(n,"id"),o=_(n,"done"),s=_(n,"title");return["li",{class:Bt(" ",J(pe,[c(o)?"completed":null,c(m(e))?"editing":null]))},["div",{class:"view"},["input",{class:"toggle",type:"checkbox",checked:o,"on-change":(function(){return Gr(r)})}],["label",{"on-double-click":(function(){return j(e,!0)})},s],["button",{class:"destroy","on-click":(function(){return Cr(r)})},"X"]],c(m(e))?[xr,{class:"edit",title:s,"on-save":(function(i){return Nr(r,i)}),"on-stop":(function(){return j(e,!1)})}]:null]}},Lr=function(){const e=x("all");return function(){const t=pn("id",vn(m($))),n=X(Pe("done",t)),r=X(t)-n;return["div",["section",{id:"todoapp"},["header",{id:"header"},["h1","todos"],[Dt,{id:"new-todo",placeholder:"What needs to be done?","on-save":he}]],c(K(t))?["div",["section",{id:"main"},["p",["input",{id:"toggle-all",type:"checkbox",checked:r===0,"on-change":(function(){return qr(r>0)})}],["label",{for:"toggle-all"},"Mark all as complete"]],["ul",{id:"todo-list"},E(function*(){for(let o of h(Pe((()=>{const s=m(e);switch(s){case"active":return De("done");case"done":return"done";case"all":return Z;default:throw new Error(S("No matching clause: ",s))}})(),t)))yield[Pr,o]})]],["footer",{id:"footer"},[zr,{active:r,done:n,filt:e}]]]:null],["footer",{id:"info"},["p","Double-click to edit a todo"]]]}},Dr=function(){return j($,{}),j(Pt,0),he("one"),he("two"),he("three"),g($,ue,[2,"done"],!0)},$r=function(e){return["h1",e]},Fr=function(){const e=b(dr(m(xt).toTimeString()," "));return["div",{style:{color:m(Qe),"font-size":"2em","font-family":"monospace"}},e]},Kr=function(){return["div","Time color: ",["input",{type:"text",value:m(Qe),"on-input":(function(e){return j(Qe,e.target.value)})}]]},Ur=function(){return["div",[$r,"Hello world, it is now"],[Fr],[Kr]]},Qr=function(){return["div",{class:"hud"},"🪙 ",_(m(A),"coins")]},Wr=function(){return g(A,(function(e){const t=_(e,"coins"),n=_(e,"slots");if(c((()=>{const r=t>0;return r&&mn(pe,n)})())){const r=n.indexOf(null);return ue(Ee(e,"coins",Qt),["slots",r],"🪙")}else return e}))},Hr=function(){return["<>",[Qr],c(_(m(A),"showfrag"))?["div","Hidden"]:["section",{class:"slide big",style:{cursor:"pointer"},"on-click":Wr},["div",{class:"slots"},(()=>{const e=_(m(A),"slots"),n=cn(5,e);return nt((function(r,o){return["div",{class:"slot-row",key:r},(()=>{const s=q(o),a=(X(s)-1)/2;return nt((function(u,f){const l=Math.abs(u-a),p=l*l*.2,v={transform:S("translateY(",p,"em)")};return c(f)?["span",{class:"emoji filled",style:v,key:u},f]:["span",{class:"emoji",style:v,key:u},"⚪"]}),s)})()]}),n)})()]],["button",{"on-click":(function(){return g(A,Ee,"showfrag",O)})},c(_(m(A),"showfrag"))?"Show":"Hide"]]},Yr=function(){const e=_(m(A),"page");return["div",["nav",[R,"home","Home"],[R,"basic-tests","Basic Tests"],[R,"text-input","Text Input"],[R,"timer","Timer"],[R,"ref-test","Ref Test"],[R,"svg","SVG"],[R,"list-demo","List Demo"],[R,"todomvc","TodoMVC"],[R,"fragments","Fragments"],[R,"clock","Clock Demo"],[R,"ohms","Ohm's Law"]],["hr",{class:"separator"}],(()=>{switch(e){case"home":return[vr];case"basic-tests":return[Or];case"text-input":return[yr];case"timer":return[Mr];case"ref-test":return[Er];case"svg":return[br];case"list-demo":return[Rr];case"todomvc":return[Lr];case"ohms":return[Ar];case"fragments":return[Hr];case"clock":return[Ur];default:return["div","Page not found"]}})(),["p",["a",{href:"https://github.com/chr15m/eucalypt"},"Eucalypt on GitHub"]]]};console.log("main.cljs: about to call render!");lr([Yr],document.getElementById("app"));mr();Dr();console.log("main.cljs: render! finished");</script>
  <style rel="stylesheet" crossorigin>body{font-family:sans-serif;background-color:#f0f0f0;color:#333}div#app{max-width:800px;margin:2rem auto;padding:2rem;background-color:#fff;border-radius:8px;box-shadow:0 4px 6px #0000001a}h1{color:#111}a{color:#007bff;text-decoration:none}a:hover{text-decoration:underline}button{padding:10px 15px;font-size:1rem;border-radius:5px;border:1px solid #ccc;cursor:pointer;background-color:#eee}button:hover{background-color:#ddd}.nav-link{margin-right:.5em}.nav-link+.nav-link{border-left:2px solid #ccc;padding-left:.5em}.slider{width:100%}.text-red{color:red}.separator{margin:1rem 0}.color-orange{color:orange}.color-red{color:red}#todo-list .view{display:flex;justify-content:start;align-items:center;border-bottom:1px solid silver}#todo-list .view label{flex-grow:1;margin-left:.5em}</style>
</head>
<body>
    <div id="app"><div class="loader"></div></div>
</body>
</html>
