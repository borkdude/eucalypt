<!DOCTYPE html>
<html lang="en">
<head>
  <title>Eucalypt small</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <script type="module">function q(t){if(t==null||t instanceof Function)return t;const e=typeof t;return e==="string"?(n,r)=>h(n,t,r):e==="object"?(n,r)=>h(t,n,r):t}function we(t,e,n,...r){if(r.length%2!==0)throw new Error("Illegal argument: assoc expects an odd number of arguments.");switch(R(t)){case I:t.set(e,n);for(let o=0;o<r.length;o+=2)t.set(r[o],r[o+1]);break;case U:case Y:t[e]=n;for(let o=0;o<r.length;o+=2)t[r[o]]=r[o+1];break;default:throw new Error(`Illegal argument: assoc! expects a Map, Array, or Object as the first argument, but got ${typeof t}.`)}return t}function dt(t){switch(R(t)){case I:return new Map(t);case C:return new t.constructor(t);case U:return[...t];case Y:return{...t};default:throw new Error(`Don't know how to copy object of type ${typeof t}.`)}}function O(t,e,n,...r){t||(t={});const o=dt(t);return we(o,e,n,...r),o}const I=1,U=2,Y=3,ht=4,C=5,pt=6;function ve(t){switch(t){case I:return new Map;case U:return[];case Y:return{};case ht:return new vt;case C:return new Set;case pt:return L(function*(){})}}function mt(t){return t.constructor===Object}function be(t){return t!=null&&mt(t)}function R(t){if(t!=null){if(mt(t))return Y;if(t instanceof Map)return I;if(t instanceof Set)return C;if(t instanceof vt)return ht;if(Array.isArray(t))return U;if(t instanceof Bt)return pt;if(t instanceof bt)return C;if(t instanceof Object)return Y}}function Ae(...t){if(t=t.map(q),t.length===0)return tt;if(t.length===1)return t[0];const[e,...n]=t.slice().reverse();return function(...r){let o=e(...r);for(const s of n)o=s(o);return o}}function Zt(t,e){for(const n of e)t.add(n);return t}function Vt(...t){if(t.length===0)return re();const[e,...n]=t;let r=e;switch(r==null&&(r=[]),R(r)){case C:Zt(r,n);break;case ht:r.unshift(...n.reverse());break;case U:r.push(...n);break;case I:for(const o of n)Array.isArray(o)?r.set(o[0],o[1]):p(o).forEach(s=>{r.set(s[0],s[1])});break;case Y:for(const o of n)Array.isArray(o)?r[o[0]]=o[1]:Object.assign(r,o);break;default:throw new Error("Illegal argument: conj! expects a Set, Array, List, Map, or Object as the first argument.")}return r}function qt(...t){if(t.length===0)return re();const[e,...n]=t;let r=e;r==null&&(r=Re());let o,s;switch(R(r)){case C:return r instanceof bt?Zt(new r.constructor(r),n):new r.constructor([...r,...n]);case ht:return new vt(...n.reverse(),...r);case U:return[...r,...n];case I:o=new Map(r);for(const c of n)Array.isArray(c)?o.set(c[0],c[1]):p(c).forEach(i=>{o.set(i[0],i[1])});return o;case pt:return L(function*(){yield*n,yield*r});case Y:s={...r};for(const c of n)Array.isArray(c)?s[c[0]]=c[1]:Object.assign(s,c);return s;default:throw new Error("Illegal argument: conj expects a Set, Array, List, Map, or Object as the first argument.")}}function ot(t,e){switch(R(t)){case C:case I:return t.has(e);case void 0:return!1;default:return e in t}}function It(t,...e){if(e.length===0)return t;const n=dt(t);switch(R(t)){case I:for(const r of e)n.delete(r);break;default:for(const r of e)delete n[r];break}return n}function xt(t){return t+1}function y(t,e,n){if(t){var r=void 0;if(Array.isArray(t))r=t[e];else{const o=p(t);let s=0;for(const c of o)if(s++==e){r=c;break}}if(r!==void 0)return r}return n}function h(t,e,n=void 0){if(t==null)return n;let r;if(mt(t))return r=t[e],r===void 0?n:r;let o;switch(R(t)){case C:t.has(e)&&(r=e);break;case I:r=t.get(e);break;case U:r=t[e];break;default:if(o=t.get,o instanceof Function)try{r=t.get(e);break}catch{}r=t[e];break}return r!==void 0?r:n}function Rt(t){return t!=null&&!!t[Symbol.iterator]}const X=Rt;function je(t){return t==null||!!t[Symbol.iterator]}function p(t){if(t==null)return[];if(je(t))return t;if(t instanceof Object)return Object.entries(t);throw new TypeError(`${t} is not iterable`)}const Te=Symbol("Iterable");function te(t){return t[Symbol.iterator]()}const Oe=te;function S(t){if(t==null)return t;const e=p(t);return e.length===0||e.size===0||e[Symbol.iterator]().next().done?null:e}function w(t){const[e]=p(t);return e}function Ot(t){const[e,n]=p(t);return n}function k(t){return L(function*(){let e=!0;for(const n of p(t))e?e=!1:yield n})}class Ft{value;constructor(e){this.value=e}_deref(){return this.value}}function ee(t,e,n){t=q(t);let r,o;if(arguments.length===2){const s=p(e)[Symbol.iterator](),c=s.next();c.done?o=t():o=c.value,r=s}else o=e,r=p(n);if(o instanceof Ft)return o.value;for(const s of r)if(o=t(o,s),o instanceof Ft){o=o.value;break}return o}var Se=!1;class Bt{constructor(e){this.gen=e,this.usages=0}[Symbol.iterator](){return this.usages++,this.usages>=2,this.gen()}}Bt.prototype[Te]=!0;function L(t){return new Bt(t)}function gt(t,...e){switch(t=q(t),e.length){case 0:return n=>(...r)=>{switch(r.length){case 0:return n();case 1:return n(r[0]);case 2:return n(r[0],t(r[1]));default:return n(r[0],t(...r.slice(1)))}};case 1:return L(function*(){for(const n of p(e[0]))yield t(n)});default:return L(function*(){const n=e.map(r=>Oe(p(r)));for(;;){const r=[];for(const o of n){const s=o.next();if(s.done)return;r.push(s.value)}yield t(...r)}})}}function ne(t){return e=>(...n)=>{switch(n.length){case 0:return e();case 1:return e(n[0]);case 2:{const r=n[0],o=n[1];return u(t(o))?e(r,o):r}}}}function Ge(t,e){return arguments.length===1?ne(t):(t=q(t),L(function*(){for(const n of p(e))u(t(n))&&(yield n)}))}function H(t,e){return arguments.length===1?ne(zt(t)):Ge(zt(t),e)}function P(...t){return t.join("")}function A(t){return!u(t)}function at(t){return t==null}function Ne(t){return t===null?"null":JSON.stringify(t,(e,n)=>{switch(R(n)){case C:case pt:return[...n];case I:return Object.fromEntries(n);default:return n}})}function Ee(...t){return t.map(Ne).join(" ")}class Me{constructor(e){this.val=e,this._watches={},this._deref=()=>this.val,this._hasWatches=!1,this._reset_BANG_=n=>{const r=this.val;if(this.val=n,this._hasWatches)for(const o of Object.entries(this._watches)){const s=o[0],c=o[1];c(s,this,r,n)}return n},this._add_watch=(n,r)=>{this._watches[n]=r,this._hasWatches=!0},this._remove_watch=n=>{delete this._watches[n]}}}function qe(t){return new Me(t)}function j(t){return t._deref()}function W(t,e){t._reset_BANG_(e)}function b(t,e,...n){e=q(e);const r=e(j(t),...n);return W(t,r),r}function Ie(t,e,n){return L(function*(){let r=t,o=e,s=n;e===void 0&&(r=0,o=t);let c=r||0;s=1;const i=s>=0;for(;o===void 0||i&&c<o||!i&&o<c;)yield c,c+=s})}function re(...t){return t}function E(t){return R(t)===U}function St(...t){if(t.length===2){const[r,o]=t,s=p(o);if(Array.isArray(s)){const c=new Array(s.length);for(var e=0;e<s.length;e++)c[e]=r(s[e]);return c}else{var n=[];for(const c of s)n.push(r(c));return n}}return[...gt(...t)]}function G(t){return Be(t)?t:[...p(t)]}function yt(t){return new Set(p(t))}const oe=Symbol("IApply__apply");function wt(t,...e){t=q(t);const n=e.slice(0,e.length-1),r=p(e[e.length-1]),o=t[oe];return o?o(...n,r):t(...n,...r)}function zt(t){return t=q(t),(...e)=>A(t(...e))}class vt extends Array{constructor(...e){super(),this.push(...e)}}function Re(...t){return new vt(...t)}function Be(t){return Array.isArray(t)}function se(t){return L(function*(){for(const e of t)yield*p(e)})}function Kt(...t){return se(t)}Kt[oe]=t=>se(t);function tt(t){return t}function ce(t){const e=R(t);if(e!=null)return ve(e);throw new Error(`Can't create empty of ${typeof t}`)}function Ut(...t){const e=t[0];let n;return e==null?n={}:n=T(ce(e),e),Vt(n,...t.slice(1))}function T(...t){let e,n,r,o,s;switch(t.length){case 0:return[];case 1:return t[0];case 2:return qt(t[0]??[],...p(t[1]));case 3:return e=t[0],n=t[1],r=t[2],o=dt(e),s=(c,i)=>i===void 0?c:Vt(c,i),ie(n,s,o,r);default:throw TypeError(`Invalid arity call of into: ${t.length}`)}}function Ke(t){return e=>{let n=t;return(...r)=>{const o=r.length;if(o===0)return e();if(o===1)return e(r[0]);if(o===2){const s=r[0],c=r[1],i=n;return n--,i>0?s:e(s,c)}}}}function Ce(t,e){return arguments.length===1?Ke(t):L(function*(){const n=te(p(e));for(let r=0;r<t;r++)n.next();yield*n})}function ke(t,e,n,...r){return n=q(n),O(t,e,n(h(t,e),...r))}function Le(t,e){t=q(t);for(const n of p(e))if(!t(n))return!1;return!0}function Pe(t,e){return arguments.length===1&&(e=t,t=void 0),t=q(t),e=p(e),[...e].sort(t||Ct)}function Gt(t){return!S(t)}function ut(t){if(!t)return 0;const e=t.length||t.size;if(typeof e=="number")return e;let n=0;for(const r of p(t))n++;return n}function Q(t){return t!=null}function $e(t,e,...n){return e==null?t:Math.min(t,e,...n)}function z(t){return t==null?!1:!!(mt(t)||t instanceof Map)}function J(t){if(Array.isArray(t)){const e=t.slice(1);return e.length>0?e:null}else return S(k(t))}function Ct(t,e){if(t===e)return 0;{if(t==null)return-1;if(e==null)return 1;const n=typeof t,r=typeof e;if(n==="number"&&r==="number"||n==="string"&&r==="string")return t===e?0:t<e?-1:1;if(Array.isArray(t)&&Array.isArray(e)){if(t.length<e.length)return-1;if(t.length>e.length)return 1;for(let o=0;o<t.length;o++){let s=Ct(t[o],e[o]);if(s!=0)return s}return 0}else throw new Error(`comparing ${n} to ${r}`)}}function u(t){return t!=null&&t!==!1}function V(t){return typeof t=="function"}function Qe(t){return typeof t=="number"}function M(t){return typeof t=="string"}const ue=Symbol("meta");function lt(t){return t instanceof Object?t[ue]:null}function Fe(t,e){const n=dt(t);return n[ue]=e,n}function ze(t){return t===!0||t===!1}function ie(t,...e){switch(e.length){case 2:{const n=e[0],r=e[1];return ie(t,n,n(),r)}default:{let n=e[0];const r=e[1],o=e[2];n=t(n);const s=ee(n,r,o);return n(s)}}}class bt{constructor(e){e instanceof bt||(e=Pe(e));const r=new Set(e);this._elts=[...r],this._set=r}add(e){if(this._set.has(e))return this;const n=this._elts;let r=!1;for(let o=0;o<n.length;o++)if(Ct(e,n[o])<=0){n.splice(o,0,e),r=!0;break}return r?this._set=new Set(n):(n.push(e),this._set.add(e)),this.size=n.length,this}delete(e){if(!this._set.has(e))return this;const n=this._elts,r=n.indexOf(e);return n.splice(r,1),this._set=new Set(n),this.size=n.length,this}has(e){return this._set.has(e)}keys(){return this.values()}values(){return this._elts[Symbol.iterator]()}entries(){return this._set.entries()}forEach(...e){return this.set.forEach(...e)}clear(){this._elts=[],this._set=new Set(this._elts)}[Symbol.iterator](){return this.keys()}}function ae(){return crypto.randomUUID()}function B(t,e,...n){if(e===void 0||t===e)return!1;for(const r of n)if(t===r)return!1;return!0}function Ue(){}function Dt(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function Wt(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const De="[object RegExp]",We="[object String]",Ye="[object Number]",He="[object Boolean]",Yt="[object Arguments]",Je="[object Symbol]",Xe="[object Date]",Ze="[object Map]",Ve="[object Set]",xe="[object Array]",tn="[object Function]",en="[object ArrayBuffer]",jt="[object Object]",nn="[object Error]",rn="[object DataView]",on="[object Uint8Array]",sn="[object Uint8ClampedArray]",cn="[object Uint16Array]",un="[object Uint32Array]",an="[object BigUint64Array]",ln="[object Int8Array]",fn="[object Int16Array]",_n="[object Int32Array]",dn="[object BigInt64Array]",hn="[object Float32Array]",pn="[object Float64Array]";function Ht(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function mn(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function gn(t,e,n){return et(t,e,void 0,void 0,void 0,void 0,n)}function et(t,e,n,r,o,s,c){const i=c(t,e,n,r,o,s);if(i!==void 0)return i;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return rt(t,e,s,c)}return rt(t,e,s,c)}function rt(t,e,n,r){if(Object.is(t,e))return!0;let o=Wt(t),s=Wt(e);if(o===Yt&&(o=jt),s===Yt&&(s=jt),o!==s)return!1;switch(o){case We:return t.toString()===e.toString();case Ye:{const a=t.valueOf(),l=e.valueOf();return mn(a,l)}case He:case Xe:case Je:return Object.is(t.valueOf(),e.valueOf());case De:return t.source===e.source&&t.flags===e.flags;case tn:return t===e}n=n??new Map;const c=n.get(t),i=n.get(e);if(c!=null&&i!=null)return c===e;n.set(t,e),n.set(e,t);try{switch(o){case Ze:{if(t.size!==e.size)return!1;for(const[a,l]of t.entries())if(!e.has(a)||!et(l,e.get(a),a,t,e,n,r))return!1;return!0}case Ve:{if(t.size!==e.size)return!1;const a=Array.from(t.values()),l=Array.from(e.values());for(let f=0;f<a.length;f++){const d=a[f],m=l.findIndex(g=>et(d,g,void 0,t,e,n,r));if(m===-1)return!1;l.splice(m,1)}return!0}case xe:case on:case sn:case cn:case un:case an:case ln:case fn:case _n:case dn:case hn:case pn:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let a=0;a<t.length;a++)if(!et(t[a],e[a],a,t,e,n,r))return!1;return!0}case en:return t.byteLength!==e.byteLength?!1:rt(new Uint8Array(t),new Uint8Array(e),n,r);case rn:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:rt(new Uint8Array(t),new Uint8Array(e),n,r);case nn:return t.name===e.name&&t.message===e.message;case jt:{if(!(rt(t.constructor,e.constructor,n,r)||Ht(t)&&Ht(e)))return!1;const l=[...Object.keys(t),...Dt(t)],f=[...Object.keys(e),...Dt(e)];if(l.length!==f.length)return!1;for(let d=0;d<l.length;d++){const m=l[d],g=t[m];if(!Object.hasOwn(e,m))return!1;const v=e[m];if(!et(g,v,m,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function yn(t,e){return gn(t,e,Ue)}var K=qe,_=(()=>{const t=(function(e){const n=[],r=arguments.length;let o=0;for(;;){if(o<r){n.push(arguments[o]),o=o+1;continue}break}const s=0<n.length?n.slice(0):null;return t.cljs$core$IFn$_invoke$arity$variadic(s)});return t.cljs$core$IFn$_invoke$arity$variadic=(function(e){return(()=>{try{if(localStorage.getItem("debug")==="eucalypt:*")return console.log.apply(console,e)}catch{return null}})()}),t.cljs$lang$maxFixedArity=0,t})();_("eucalypt.cljs loading...");var wn=function(t,e){return t["---meta"]=e,t},le=function(t){return t["---meta"]},vn=function(t){const e=k(t);for(let n of p(e)){const r=n;if(u((()=>{const o=be(r);return u(o)?r.watchers:o})())){const o=r.watchers;for(let s of p(j(o))){const c=s;h(le(c),"normalized-component")===t&&b(o,(function(i){return yt(H((function(a){return c===a}),i))}))}}}return null},F=null,Tt="http://www.w3.org/1999/xhtml",ct={"get-initial-state":(function(t){return null}),"component-will-receive-props":tt,"should-component-update":tt,"component-will-update":tt,"component-did-update":tt,"component-will-unmount":vn},it=K({}),Nt=K({}),nt=K({}),Z=K(0),fe=K({}),_e=function(t,e){const n=F;return(()=>{try{return F=wn((function(){return En(t)}),{"normalized-component":t}),e()}finally{F=n}})()},de=function(t){for(let e of p(j(fe))){const n=e;y(n,0,null);const o=y(n,1,null).watchers;u(o)&&b(o,(function(c){return yt(H((function(i){return h(le(i),"normalized-component")===t}),c))}))}return null},he=function(t){return wt(P,gt((function(e){const n=e,r=y(n,0,null),o=y(n,1,null);return P(r,":",o,";")}),t))},bn={"on-double-click":"ondblclick"},Et=function(t,e){return u((()=>{const n=t==="on-change";return n&&h(new Set(["INPUT","TEXTAREA"]),e)})())?"oninput":h(bn,t,t.replaceAll("-",""))},An=function(t,e){for(let n of p(e)){const r=n,o=y(r,0,null),s=y(r,1,null);if(o!=="xmlns")if(o==="ref")u(Q(s))&&(t["---ref-fn"]=s,s(t));else if(u(o.startsWith("on-"))){if(u(Q(s))){const c=Et(o,t.tagName);t[c]=s}}else if(o==="style")u(Q(s))&&(t.style=he(s));else if(o==="class"){const c=u((()=>{const i=X(s);return u(i)?A(M(s)):i})())?G(H(at,s)).join(" "):s;u((()=>{const i=c==null;return i||c===""})())?t.removeAttribute("class"):t.setAttribute("class",c)}else u((()=>{const c=o==="checked";return c||o==="selected"})())?u(Q(s))&&(t[o]=s):u(Q(s))&&t.setAttributeNS(null,o,s)}return null},jn=function(t){const n=P(t).split("#",2),r=y(n,0,null),o=y(n,1,null),s=r.split(/\./),c=S(s),i=w(c),a=J(c),l=i,f=a,d=u(Gt(l))?"div":l,m=u(o)?o.split(/\./):[],g=S(m),v=w(g),st=J(g),At=v,D=G(H(Gt,Kt(f,st)));return{"tag-name":d,id:At,classes:u(S(D))?D:null}},Tn=function(t){const n=S(t),r=w(n),o=J(n),s=r,c=o,i=jn(s),a=h(i,"tag-name"),l=h(i,"id"),f=h(i,"classes"),d=u(z(w(c)))?w(c):{},m=(()=>{const D=h(d,"id");return u(D)?D:l})(),g=h(d,"class"),v=(()=>{const D=(()=>{const x=f;return u(x)?x:[]})(),ye=g==null?[]:u(M(g))?[g]:u((()=>{const x=X(g);return u(x)?A(M(g)):x})())?G(g):[g],Qt=G(Kt(D,ye));if(u(S(Qt)))return Qt})(),st=u(m)?O(d,"id",m):d,At=u(Q(v))?O(st,"class",v):It(st,"class"),$t=u(z(w(c)))?k(c):c;return{"tag-name":a,attrs:At,content:$t}},On=function(t){const e=Tn(t),n=h(e,"tag-name"),r=h(e,"attrs"),o=h(e,"content"),s=h(r,"value"),c=It(r,"value"),i=Tt,a=n==="svg"?"http://www.w3.org/2000/svg":i,l=document.createElementNS(a,n);return(()=>{try{Tt=a,An(l,c);for(let f of p(o)){const m=N(f);if(u(m)){const g=m;l.appendChild(g)}}if(u(Q(s)))if(u((()=>{const f=l.tagName==="SELECT";return f&&l.multiple})())){const f=yt(s);for(let d of p(l.options)){const m=d;m.selected=ot(f,m.value)}}else l.value=s;return l}finally{Tt=i}})()},Sn=function(t){const e=t._eucalypt_id;if(u(e))return e;{const n=P("fn_",ae());return t._eucalypt_id=n,n}},kt=function(t){if(_("normalize-component called with:",t),_("normalize-component: component metadata:",lt(t)),u(X(t))){const e=w(t),n=k(t);if(u(V(e))){const r=e,o=G(n),s=lt(t),c=Sn(r),i=u(ot(s,"key"))?P(c,"_key_",h(s,"key")):P(c,"_pos_",b(Z,xt)),a=c,l=h(j(nt),i),f=h(j(nt),a);if(u(l))return _("normalize-component: using cached instance for key:",i),T([h(l,"instance")],o);if(u(f))return _("normalize-component: using cached shared for key:",a),T([h(f,"instance")],o);{_("normalize-component: cache miss for keys:",i,"and",a);const d=wt(r,o);if(u(V(d))){const g=Ut(ct,{"reagent-render":d}),v=T([g],o);return _("normalize-component: Form-2, caching with key:",i),b(nt,O,i,{type:"form-2",instance:g}),v}else{const m=Ut(ct,{"reagent-render":r}),g=T([m],o);return _("normalize-component: Form-1, caching with key:",a),b(nt,O,a,{type:"form-1",instance:m}),g}}}else{if(u(M(e)))return T([O(ct,"reagent-render",(function(){return t}))],n);if(u(z(e))){const r=e,o=h(r,"reagent-render"),s=T({"reagent-render":o},gt((function(c){const i=c,a=y(i,0,null),l=y(i,1,null),f=h(r,a),d=u(f)?Ae(f,l):l;return[a,d]}),ct));return T([s],n)}else return null}}},Lt=function(t){const n=S(t),r=w(n),o=J(n),s=r,c=o,i=h(s,"reagent-render");_("component->hiccup: calling reagent-render with params:",c);const a=wt(i,c);return _("component->hiccup: reagent-render returned:",a),a},N=function(t){_("hiccup->dom called with:",t);const e=u((()=>{const n=M(t);return u(n)?n:Qe(t)})())?document.createTextNode(P(t)):u(E(t))?(()=>{const r=S(t),o=w(r);J(r);const s=o;if(u(V(s)))return N(Lt(kt(t)));if(u(E(s))){const c=document.createDocumentFragment();for(let i of p(t)){const l=N(i);if(u(l)){const f=l;c.appendChild(f)}}return c}else if(s==="<>"){const c=document.createDocumentFragment();for(let i of p(k(t))){const l=N(i);if(u(l)){const f=l;c.appendChild(f)}}return c}else return On(t)})():u(Rt(t))?(()=>{const n=document.createDocumentFragment();for(let r of p(t)){const o=r,s=u((()=>{const i=E(o);return u(i)?lt(o):i})())?Fe(o,lt(o)):o,c=N(s);if(u(c)){const i=c;n.appendChild(i)}}return n})():u(V(t))?N(t()):u(z(t))?N(h(t,"reagent-render")()):u((()=>{const n=t==null;return n||ze(t)})())?null:document.createTextNode(P(t));return _("hiccup->dom returning:",e),e},Gn=function(t,e){const n=yn(t,e);return _("hiccup-eq?:",n),A(n)&&_("hiccup-eq? details: a:",t,"b:",e),n},Jt=function(t){_("is-sequence-of-hiccup-elements? checking:",t);const e=(()=>{const n=X(t);if(u(n)){const r=A(M(t));if(r){const o=S(t);return u(o)?Le((function(s){const c=s==null;return c||E(s)}),t):o}else return r}else return n})();return _("is-sequence-of-hiccup-elements? result:",e),e},Mt=function(t){const e=k(t);return u(z(w(e)))?k(e):e},$=function(t){_("fully-render-hiccup called with:",t);const e=t==null?null:u(V(t))?$(t()):u(Jt(t))||u((()=>{const n=Q(t[Symbol.iterator]);if(u(n)){const r=A(E(t));return r&&A(M(t))}else return n})())?St($,t):u(E(t))?(()=>{const n=w(t);if(u(V(n)))return $(Lt(kt(t)));{const r=u(z(Ot(t)))?Ot(t):null,o=u(r)?Ce(2,t):k(t),s=u(r)?[w(t),r]:[w(t)];return T(s,ee((function(c,i){const a=$(i);if(_("fully-render-hiccup reduce: processing child, processed=",a),u((()=>{const l=X(a);if(u(l)){const f=A(M(a));return f&&Gt(a)}else return l})()))return c;{const l=Jt(a);return _("fully-render-hiccup reduce: is-sequence-of-hiccup-elements?=",l),u((()=>{const f=E(a);return u(f)?w(a)==="<>":f})())?(_("fully-render-hiccup reduce: unpacking fragment"),T(c,Mt(a))):u(l)?(_("fully-render-hiccup reduce: unpacking sequence of hiccup elements"),T(c,a)):(_("fully-render-hiccup reduce: appending single child"),qt(c,a))}}),[],o))}})():u(z(t))?$(h(t,"reagent-render")()):t;return _("fully-render-hiccup returning:",e),e},Pt=function(t){if(u(t)){const e=t["---ref-fn"];if(u(e)){const n=e;_("unmount-node-and-children: calling ref-fn for node",t),n(null),t["---ref-fn"]=null}for(let n of p(G(t.childNodes)))Pt(n);return null}},pe=function(t){if(u(t))return Pt(t),t.remove()},me=function(t,e,n){_("--- patch-children start for dom:",n.toString());const r=G(H(at,Mt(t))),o=G(H(at,Mt(e))),s=K(G(n.childNodes)),c=ut(r),i=ut(o),a=ut(j(s));_("patch-children: len-a:",c,"len-b:",i,"len-dom:",a),_("patch-children: children-a:",r),_("patch-children: children-b:",o);let l=0;for(;;){if(l<$e(c,i)){const f=y(r,l),d=y(o,l),m=y(j(s),l),g=ge(f,d,m);u(B(m,g))&&b(s,O,l,g),l=l+1;continue}break}if(i>c)for(let f of p(Ie(c,i))){const d=f;n.appendChild(N(y(o,d)))}if(c>i){const f=c-i;let d=0;for(;;){if(d<f){pe(n.lastChild),d=d+1;continue}break}}},ft=function(t){_("get-attrs called on hiccup:",t);const e=Ot(t);return u(z(e))?e:{}},Nn=function(t,e,n){_("patch-attributes called with hiccup-a:",t,"hiccup-b:",e);const r=ft(t),o=ft(e),s=h(r,"ref"),c=h(o,"ref"),i=n.tagName;_("patch-attributes: a-attrs:",r,"b-attrs:",o),_("patch-attributes: a-ref:",s,"b-ref:",c),_("patch-attributes: about to compare refs. are they equal?",s===c,"a-ref:",s,"b-ref:",c),s!==c&&(_("patch-attributes: refs are different, handling lifecycle"),u(s)&&s(null),u(c)&&c(n),n["---ref-fn"]=c);for(let a of p(r)){const l=a,f=y(l,0,null);y(l,1,null),u((()=>{const d=A(ot(o,f));if(d){const m=B(f,"ref");return u(m)?B(f,"xmlns"):m}else return d})())&&(u(f.startsWith("on-"))?n[Et(f,i)]=null:n.removeAttribute(f))}for(let a of p(o)){const l=a,f=y(l,0,null),d=y(l,1,null);if(u((()=>{const m=B(f,"ref");return u(m)?B(f,"xmlns"):m})())){const m=h(r,f);if(u(f.startsWith("on-")))n[Et(f,i)]=d;else if(u(B(d,m))&&(_("patch-attributes: updating attribute",f,"from",m,"to",d,"on",n),f!=="value"))if(f==="class"){const g=u((()=>{const v=X(d);return u(v)?A(M(d)):v})())?G(H(at,d)).join(" "):d;u((()=>{const v=g==null;return v||g===""})())?n.removeAttribute("class"):n.setAttribute("class",g)}else if(u((()=>{const g=f==="checked";return g||f==="selected"})()))n[f]=d;else if(d==null)n.removeAttribute(f);else{const g=f==="style"?he(d):d;n.setAttributeNS(null,f,g)}}}return null},_t=function(t){return u((()=>{const e=Rt(t);return u(e)?t.gen:e})())?St(_t,t):u((()=>{const e=X(t);return u(e)?A(M(t)):e})())?T(ce(t),gt(_t,t)):t},ge=function(t,e,n){_("patch: hiccup-a-rendered",t,"hiccup-b-rendered",e,"dom-a",n.toString());const r=_t(t),o=_t(e),s=Gn(r,o);if(_("patch: are-equal is",s,"(type",typeof s,")"),u(s))return _("patch: hiccup is equal, doing nothing"),n;if(u((()=>{const c=A(E(r));if(c)return c;{const i=A(E(o));return i||B(w(r),w(o))}})())){const c=N(o);return _("patch: replacing node. dom-a:",n,"new-node:",c),u(n)&&_("patch: replacing node. dom-a.textContent:",n.textContent,"new-node.textContent:",c.textContent),Pt(n),n.replaceWith(c),c}else{_("patch: hiccup not equal, patching children and attributes"),Nn(r,o,n),me(r,o,n);const c=ft(r),i=ft(o),a=h(i,"value");if(u((()=>{const l=ot(i,"value");return u(l)?B(h(c,"value"),a):l})()))if(_("patch: value changed from",h(c,"value"),"to",a,"on",n),u((()=>{const l=n.tagName==="SELECT";return l&&n.multiple})())){const l=yt(a);for(let f of p(n.options)){const d=f;d.selected=ot(l,d.value)}}else n.value=a;return n}},En=function(t){_("modify-dom called for component:",t),de(t),W(Z,0);const e=h(j(it),t);_("modify-dom: mounted-info from cache:",e);const n=e,r=h(n,"hiccup"),o=h(n,"dom"),s=h(n,"container"),c=_e(t,(function(){return Lt(t)})),i=$(c);if(u((()=>{const a=E(r);return u(a)?w(r)==="<>":a})()))return W(Z,0),me(r,i,s),b(it,O,t,{hiccup:i,dom:o,container:s});{W(Z,0);const a=ge(r,i,o);if(_("modify-dom: new DOM",a),b(it,O,t,{hiccup:i,dom:a,container:s}),u(B(o,a)))return _("modify-dom: DOM changed, replacing in container"),s.innerHTML="",s.appendChild(a)}},Xt=function(t){_("notify-watchers called with",ut(j(t)),"watchers");for(let e of p(j(t))){const n=e;_("calling watcher");const r=F;try{F=n,n()}finally{F=r}}return null},Mn=function(t){return _e(t,(function(){const e=h(w(t),"reagent-render"),n=k(t),r=wt(e,n),o=N(r);return[r,o]}))},qn=function(t){const e=h(j(Nt),t);if(u(e)){const n=e;de(n);const o=S(n),s=w(o);J(o),h(s,"component-will-unmount")(n),b(Nt,It,t)}W(nt,{});for(let n of p(G(t.childNodes)))pe(n);return null},In=function(t,e){qn(e),W(Z,0);const r=S(t),o=w(r);J(r),h(o,"_reagent-render");const c=Mn(t),i=y(c,0,null),a=y(c,1,null);W(Z,0);const l=$(i);return e.appendChild(a),b(it,O,t,{hiccup:l,dom:a,container:e}),b(Nt,O,e,t)},Rn=function(t){const e=K(t),n=e._deref,r=e._reset_BANG_,o=P("ratom-",ae());return e["ratom-id"]=o,e.watchers=K(new Set([])),e.cursors=K(new Set([])),e._deref=(function(){return u(F)&&(_("ratom deref: watcher found, adding to set."),b(e.watchers,qt,F)),n.call(e)}),e._reset_BANG_=(function(s){_("ratom _reset_BANG_ called with",s);const c=r.call(e,s);Xt(e.watchers);for(let i of p(j(e.cursors)))Xt(i.watchers);return c}),b(fe,O,o,e),e},Bn=function(t,e){_("render called with component:",t,"and container:",e);const n=kt(t);return _("render: normalized-component is",n),In(n,e)},Kn=Rn,Cn=Kn({v:0}),kn=function(t){return["<>",["p","Hello from Eucalypt!"],["button",{"on-click":(function(){return b(t,ke,"v",xt)})},"inc"],["pre",Ee(j(t))],["p","Check the network tab for artifact size."],["style","body { font-family: arial,helvetica; width: 350px; margin: auto; }"]]};Bn([kn,Cn],document.getElementById("app"));</script>
</head>
<body>
  <div id="app">Loading...</div>
</body>
</html>
