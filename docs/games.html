<!DOCTYPE html>
<html lang="en">
<head>
    <title>Eucalypt</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
  <script type="module">function K(t){if(t==null||t instanceof Function)return t;const e=typeof t;return e==="string"?(n,r)=>l(n,t,r):e==="object"?(n,r)=>l(t,n,r):t}var ue=Object.prototype.hasOwnProperty;function ie(t,e,n){for(n of t.keys())if(ft(n,e))return n}function ft(t,e){if(t===e)return!0;var n,r,o;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Array){if((r=t.length)===e.length)for(;r--&&ft(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(const c of t)if(o=c,o&&typeof o=="object"&&(o=ie(e,o),!o)||!e.has(o))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(const c of t)if(o=c[0],o&&typeof o=="object"&&(o=ie(e,o),!o)||!ft(r[1],e.get(o)))return!1;return!0}if(!n||typeof t=="object"){r=0;for(const c in t)if(ue.call(t,c)&&++r&&!ue.call(e,c)||!(c in e)||!ft(t[c],e[c]))return!1;return Object.keys(e).length===r}}return!1}function Ue(t,e){return t.every(function(n,r){return r===0||e(t[r-1],n)})}function E(...t){return Ue(t,(e,n)=>ft(e,n))}function Xe(t,e,n,...r){if(r.length%2!==0)throw new Error("Illegal argument: assoc expects an odd number of arguments.");switch(L(t)){case x:t.set(e,n);for(let o=0;o<r.length;o+=2)t.set(r[o],r[o+1]);break;case U:case J:t[e]=n;for(let o=0;o<r.length;o+=2)t[r[o]]=r[o+1];break;default:throw new Error(`Illegal argument: assoc! expects a Map, Array, or Object as the first argument, but got ${typeof t}.`)}return t}function Rt(t){switch(L(t)){case x:return new Map(t);case P:return new t.constructor(t);case U:return[...t];case J:return{...t};default:throw new Error(`Don't know how to copy object of type ${typeof t}.`)}}function A(t,e,n,...r){t||(t={});const o=Rt(t);return Xe(o,e,n,...r),o}const x=1,U=2,J=3,Et=4,P=5,Xt=6;function He(t){switch(t){case x:return new Map;case U:return[];case J:return{};case Et:return new Ot;case P:return new Set;case Xt:return R(function*(){})}}function Tt(t){return t.constructor===Object}function Je(t){return t!=null&&Tt(t)}function L(t){if(t!=null){if(Tt(t))return J;if(t instanceof Map)return x;if(t instanceof Set)return P;if(t instanceof Ot)return Et;if(Array.isArray(t))return U;if(t instanceof Jt)return Xt;if(t instanceof zt)return P;if(t instanceof Object)return J}}function Ve(...t){if(t=t.map(K),t.length===0)return Bt;if(t.length===1)return t[0];const[e,...n]=t.slice().reverse();return function(...r){let o=e(...r);for(const c of n)o=c(o);return o}}function ye(t,e){for(const n of e)t.add(n);return t}function we(...t){if(t.length===0)return ke();const[e,...n]=t;let r=e;switch(r==null&&(r=[]),L(r)){case P:ye(r,n);break;case Et:r.unshift(...n.reverse());break;case U:r.push(...n);break;case x:for(const o of n)Array.isArray(o)?r.set(o[0],o[1]):m(o).forEach(c=>{r.set(c[0],c[1])});break;case J:for(const o of n)Array.isArray(o)?r[o[0]]=o[1]:Object.assign(r,o);break;default:throw new Error("Illegal argument: conj! expects a Set, Array, List, Map, or Object as the first argument.")}return r}function It(...t){if(t.length===0)return ke();const[e,...n]=t;let r=e;r==null&&(r=_n());let o,c;switch(L(r)){case P:return r instanceof zt?ye(new r.constructor(r),n):new r.constructor([...r,...n]);case Et:return new Ot(...n.reverse(),...r);case U:return[...r,...n];case x:o=new Map(r);for(const u of n)Array.isArray(u)?o.set(u[0],u[1]):m(u).forEach(i=>{o.set(i[0],i[1])});return o;case Xt:return R(function*(){yield*n,yield*r});case J:c={...r};for(const u of n)Array.isArray(u)?c[u[0]]=u[1]:Object.assign(c,u);return c;default:throw new Error("Illegal argument: conj expects a Set, Array, List, Map, or Object as the first argument.")}}function V(t,e){switch(L(t)){case P:case x:return t.has(e);case void 0:return!1;default:return e in t}}function Ht(t,...e){if(!t)return;if(e.length===0)return t;const n=Rt(t);switch(L(t)){case x:for(const r of e)n.delete(r);break;default:for(const r of e)delete n[r];break}return n}function Ze(t){return t+1}function g(t,e,n){if(t){var r=void 0;if(Array.isArray(t))r=t[e];else{const o=m(t);let c=0;for(const u of o)if(c++==e){r=u;break}}if(r!==void 0)return r}return n}function l(t,e,n=void 0){if(t==null)return n;let r;if(Tt(t))return r=t[e],r===void 0?n:r;let o;switch(L(t)){case P:t.has(e)&&(r=e);break;case x:r=t.get(e);break;case U:r=t[e];break;default:if(o=t.get,o instanceof Function)try{r=t.get(e);break}catch{}r=t[e];break}return r!==void 0?r:n}function jt(t){return t!=null&&!!t[Symbol.iterator]}const vt=jt;function tn(t){return t==null||!!t[Symbol.iterator]}function m(t){if(t==null)return[];if(tn(t))return t;if(t instanceof Object)return Object.entries(t);throw new TypeError(`${t} is not iterable`)}const be=Symbol("Iterable"),en=Symbol.iterator;function nn(t){return t[Symbol.iterator]()}const rn=nn;function I(t){if(t==null)return t;const e=m(t);return e.length===0||e.size===0||e[Symbol.iterator]().next().done?null:e}function $(t){const[e]=m(t);return e}function on(t){const[e,n]=m(t);return n}function F(t){return R(function*(){let e=!0;for(const n of m(t))e?e=!1:yield n})}class ae{value;constructor(e){this.value=e}_deref(){return this.value}}function qt(t,e,n){t=K(t);let r,o;if(arguments.length===2){const c=m(e)[Symbol.iterator](),u=c.next();u.done?o=t():o=u.value,r=c}else o=e,r=m(n);if(o instanceof ae)return o.value;for(const c of r)if(o=t(o,c),o instanceof ae){o=o.value;break}return o}var sn=!1;class Jt{constructor(e){this.gen=e,this.usages=0}[Symbol.iterator](){return this.usages++,this.usages>=2,this.gen()}}Jt.prototype[be]=!0;function R(t){return new Jt(t)}class cn{constructor(e,n){this.x=e,this.coll=n}*[Symbol.iterator](){yield this.x,yield*m(this.coll)}}function un(t,e){return new cn(t,e)}function Kt(t,...e){switch(t=K(t),e.length){case 0:return n=>(...r)=>{switch(r.length){case 0:return n();case 1:return n(r[0]);case 2:return n(r[0],t(r[1]));default:return n(r[0],t(...r.slice(1)))}};case 1:return R(function*(){for(const n of m(e[0]))yield t(n)});default:return R(function*(){const n=e.map(r=>rn(m(r)));for(;;){const r=[];for(const o of n){const c=o.next();if(c.done)return;r.push(c.value)}yield t(...r)}})}}function Ae(t){return e=>(...n)=>{switch(n.length){case 0:return e();case 1:return e(n[0]);case 2:{const r=n[0],o=n[1];return s(t(o))?e(r,o):r}}}}function an(t,e){return arguments.length===1?Ae(t):(t=K(t),R(function*(){for(const n of m(e))s(t(n))&&(yield n)}))}function Z(t,e){return arguments.length===1?Ae(le(t)):an(le(t),e)}function y(...t){return t.join("")}function G(t){return!s(t)}function At(t){return t==null}class ln{constructor(e){this.val=e,this._watches={},this._deref=()=>this.val,this._hasWatches=!1,this._reset_BANG_=n=>{const r=this.val;if(this.val=n,this._hasWatches)for(const o of Object.entries(this._watches)){const c=o[0],u=o[1];u(c,this,r,n)}return n},this._add_watch=(n,r)=>{this._watches[n]=r,this._hasWatches=!0},this._remove_watch=n=>{delete this._watches[n]}}}function Vt(t){return new ln(t)}function w(t){return t._deref()}function S(t,e){t._reset_BANG_(e)}function k(t,e,...n){e=K(e);const r=e(w(t),...n);return S(t,r),r}function D(t,e,n){return R(function*(){let r=t,o=e,c=n;e===void 0&&(r=0,o=t);let u=r||0;c=1;const i=c>=0;for(;o===void 0||i&&u<o||!i&&o<u;)yield u,u+=c})}function Lt(t,e,n){return t.slice(e,n)}function ke(...t){return t}function z(t){return L(t)===U}function Ge(...t){if(t.length===2){const[r,o]=t,c=m(o);if(Array.isArray(c)){const u=new Array(c.length);for(var e=0;e<c.length;e++)u[e]=r(c[e]);return u}else{var n=[];for(const u of c)n.push(r(u));return n}}return[...Kt(...t)]}function M(t){return fn(t)?t:[...m(t)]}function Nt(t){return new Set(m(t))}const $e=Symbol("IApply__apply");function Qt(t,...e){t=K(t);const n=e.slice(0,e.length-1),r=m(e[e.length-1]),o=t[$e];return o?o(...n,r):t(...n,...r)}function le(t){return t=K(t),(...e)=>G(t(...e))}class Ot extends Array{constructor(...e){super(),this.push(...e)}}function _n(...t){return new Ot(...t)}function fn(t){return Array.isArray(t)}function Me(t){return R(function*(){for(const e of t)yield*m(e)})}function Zt(...t){return Me(t)}Zt[$e]=t=>Me(t);function Bt(t){return t}function Se(t){const e=L(t);if(e!=null)return He(e);throw new Error(`Can't create empty of ${typeof t}`)}function _e(...t){const e=t[0];let n;return e==null?n={}:n=T(Se(e),e),we(n,...t.slice(1))}function T(...t){let e,n,r,o,c;switch(t.length){case 0:return[];case 1:return t[0];case 2:return It(t[0]??[],...m(t[1]));case 3:return e=t[0],n=t[1],r=t[2],o=Rt(e),c=(u,i)=>i===void 0?u:we(u,i),Ie(n,c,o,r);default:throw TypeError(`Invalid arity call of into: ${t.length}`)}}function dn(...t){if(t.length==0||t.length>2)throw new Error(`Invalid arity: ${t.length}`);return{[be]:!0,[en]:t.length==1?function*(){const e=t[0];for(;;)yield e}:function*(){const[e,n]=t;for(var r=0;r<e;r++)yield n}}}function kt(t,e,n,...r){return n=K(n),A(t,e,n(l(t,e),...r))}function Ct(t,e,n){let r=t;for(const o of e)r=l(r,o);return r===void 0?n:r}function hn(t,e){t=K(t);for(const n of m(e))if(!t(n))return!1;return!0}function mn(t,e){return arguments.length===1&&(e=t,t=void 0),t=K(t),e=m(e),[...e].sort(t||te)}function Re(t,e){t=K(t);for(const n of m(e)){const r=t(n);if(s(r))return r}}function fe(t){return!I(t)}function de(t){return Math.floor(Math.random()*t)}function pn(t){const e=[...m(t)];return e.pop(),e.length>0?e:null}function st(t){if(!t)return 0;const e=t.length||t.size;if(typeof e=="number")return e;let n=0;for(const r of m(t))n++;return n}function N(t){return t!=null}function vn(t){return!!t}function Ee(t,e,n){if(!n)return e;var r=e;for(const o of m(n))r=t(r,o[0],o[1]);return r}function gn(t,e,...n){return e==null?t:Math.min(t,e,...n)}function W(t){return t==null?!1:!!(Tt(t)||t instanceof Map)}function ct(t){if(Array.isArray(t)){const e=t.slice(1);return e.length>0?e:null}else return I(F(t))}function te(t,e){if(t===e)return 0;{if(t==null)return-1;if(e==null)return 1;const n=typeof t,r=typeof e;if(n==="number"&&r==="number"||n==="string"&&r==="string")return t===e?0:t<e?-1:1;if(Array.isArray(t)&&Array.isArray(e)){if(t.length<e.length)return-1;if(t.length>e.length)return 1;for(let o=0;o<t.length;o++){let c=te(t[o],e[o]);if(c!=0)return c}return 0}else throw new Error(`comparing ${n} to ${r}`)}}function s(t){return t!=null&&t!==!1}function mt(t){return typeof t=="function"}function yn(t){return typeof t=="number"}function Y(t){return typeof t=="string"}const Te=Symbol("meta");function Gt(t){return t instanceof Object?t[Te]:null}function wn(t,e){const n=Rt(t);return n[Te]=e,n}function bn(t){return t===!0||t===!1}function Ie(t,...e){switch(e.length){case 2:{const n=e[0],r=e[1];return Ie(t,n,n(),r)}default:{let n=e[0];const r=e[1],o=e[2];n=t(n);const c=qt(n,r,o);return n(c)}}}class zt{constructor(e){e instanceof zt||(e=mn(e));const r=new Set(e);this._elts=[...r],this._set=r}add(e){if(this._set.has(e))return this;const n=this._elts;let r=!1;for(let o=0;o<n.length;o++)if(te(e,n[o])<=0){n.splice(o,0,e),r=!0;break}return r?this._set=new Set(n):(n.push(e),this._set.add(e)),this.size=n.length,this}delete(e){if(!this._set.has(e))return this;const n=this._elts,r=n.indexOf(e);return n.splice(r,1),this._set=new Set(n),this.size=n.length,this}has(e){return this._set.has(e)}keys(){return this.values()}values(){return this._elts[Symbol.iterator]()}entries(){return this._set.entries()}forEach(...e){return this.set.forEach(...e)}clear(){this._elts=[],this._set=new Set(this._elts)}[Symbol.iterator](){return this.keys()}}function je(){return crypto.randomUUID()}function O(t,e,...n){if(e===void 0||t===e)return!1;for(const r of n)if(t===r)return!1;return!0}var q=Vt,h=(()=>{try{return s((()=>{const t=globalThis,e=t==null?null:t.process,n=e==null?null:e.env;return n==null?null:n.DEBUG})())||s((()=>{const t=globalThis,e=t==null?null:t.localStorage,n=e==null?null:e.getItem("debug");return n==null?null:n.startsWith("eucalypt:")})())?console.log:Bt}catch{return Bt}})();h("eucalypt.cljs loading...");var tt="html",pt={html:{uri:"http://www.w3.org/1999/xhtml"},svg:{uri:"http://www.w3.org/2000/svg","entry-tags":new Set(["svg"]),"boundary-tags":new Set(["foreignObject"])},math:{uri:"http://www.w3.org/1998/Math/MathML","entry-tags":new Set(["math"]),"boundary-tags":new Set(["annotation-xml"])}},An=Ee((function(t,e,n){const o=l(n,"entry-tags");return qt((function(c,u){return A(c,u,e)}),t,(()=>{const c=o;return s(c)?c:new Set([])})())}),{},pt),qe=Ee((function(t,e,n){const o=l(n,"uri");return s(o)?A(t,o,e):t}),{},pt),ut=function(t){const e=Ct(pt,[t,"uri"]);return s(e)?e:Ct(pt,[tt,"uri"])},Ft=function(t){const e=(()=>{const n=t;return s(n)?n:ut(tt)})();return s(V(qe,e))?e:ut(tt)},kn=function(t){return l(qe,t,tt)},Gn=function(t,e){const n=Ft(t),r=kn(n),o=Ct(pt,[r,"boundary-tags"],new Set([])),c=l(An,e);return s(c)?ut(c):s(V(o,e))?ut(tt):n},ee=function(t){return s(N(t))?Ft(t.namespaceURI):ut(tt)},$n=function(t,e){return t["---meta"]=e,t},at=function(t){return t["---meta"]},Mn=function(t){const e=F(t);for(let n of m(e)){const r=n;if(s((()=>{const o=Je(r);return s(o)?r.watchers:o})())){const o=r.watchers;for(let c of m(w(o))){const u=c;s(E(l(at(u),"normalized-component"),t))&&k(o,(function(i){return Nt(Z((function(a){return E(u,a)}),i))}))}}}return null},C=null,gt={"component-will-unmount":Mn},wt=q({}),Pt=q({}),_t=q({}),H=q(0),Ke=q({}),dt=null,Dt=q([]),Wt=q(!1),Ne=function(t,e){const n=dt;return(()=>{try{return dt=t,e()}finally{dt=n}})()},Sn=function(){if(s(w(Wt)))return null;{h("schedule-watcher-flush!: scheduling flush for queued watchers"),S(Wt,!0);const t=(function(){return Rn()});return s(N(globalThis.queueMicrotask))?globalThis.queueMicrotask(t):setTimeout(t,0)}},Qe=function(t){h("run-watcher-now: executing watcher for component",(()=>{const n=t,r=n==null?null:at(n);return r==null?null:l(r,"normalized-component")})());const e=C;return(()=>{try{return C=t,t()}finally{C=e}})()},Rn=function(){const t=w(Dt);S(Dt,[]),S(Wt,!1),h("flush-queued-watchers: running",st(t),"watchers");for(let e of m(t))Qe(e);return null},Oe=(()=>{const t=(function(...e){switch(e.length){case 1:return t.cljs$core$IFn$_invoke$arity$1(e[0]);case 2:return t.cljs$core$IFn$_invoke$arity$2(e[0],e[1]);default:throw new Error(y("Invalid arity: ",e.length))}});return t.cljs$core$IFn$_invoke$arity$1=(function(e){return Oe(e,null)}),t.cljs$core$IFn$_invoke$arity$2=(function(e,n){const r=k(Dt,It,e);return h("queue-watcher!: queued watcher for component",(()=>{const o=e,c=o==null?null:at(o);return c==null?null:l(c,"normalized-component")})(),"reason:",n,"queue-size:",st(r)),Sn()}),t.cljs$lang$maxFixedArity=2,t})(),En=function(t){const e=(()=>{const n=t,r=n==null?null:at(n);return r==null?null:l(r,"normalized-component")})();return vn((()=>{const n=e;if(s(n)){const r=dt;return s(r)?E(e,dt):r}else return n})())},ze=function(t,e){const n=C;return(()=>{try{return C=$n((function(){return zn(t)}),{"normalized-component":t}),e()}finally{C=n}})()},Fe=function(t){for(let e of m(w(Ke))){const n=e;g(n,0,null);const o=g(n,1,null).watchers;s(o)&&k(o,(function(u){return Nt(Z((function(i){return E(l(at(i),"normalized-component"),t)}),u))}))}return null},Yt=function(t){return Qt(y,Kt((function(e){const n=e,r=g(n,0,null),o=g(n,1,null);return y(r,":",o,";")}),t))},Tn={"on-double-click":"ondblclick"},Ut=function(t,e){return s((()=>{const n=t==="on-change";return s(n)?l(new Set(["INPUT","TEXTAREA"]),e):n})())?"oninput":l(Tn,t,t.replaceAll("-",""))},In=function(t,e){for(let n of m(e)){const r=n,o=g(r,0,null),c=g(r,1,null);if(!s(o==="xmlns"))if(s(o==="ref"))s(N(c))&&(t["---ref-fn"]=c,c(t));else if(s(o.startsWith("on-"))){if(s(N(c))){const u=Ut(o,t.tagName);t[u]=c}}else if(s(o==="style")){if(s(N(c))){const u=Yt(c);s(I(u))?t.setAttribute("style",u):t.removeAttribute("style")}}else if(s(o==="class")){const u=s((()=>{const i=vt(c);return s(i)?G(Y(c)):i})())?M(Z(At,c)).join(" "):c;s((()=>{const i=u==null;return i||u===""})())?t.removeAttribute("class"):t.setAttribute("class",u)}else s((()=>{const u=o==="checked";return s(u)?u:o==="selected"})())?s(N(c))&&(t[o]=c):s(N(c))&&t.setAttributeNS(null,o,c)}return null},jn=function(t){const n=y(t).split("#",2),r=g(n,0,null),o=g(n,1,null),c=r.split(/\./),u=I(c),i=$(u),a=ct(u),f=i,_=a,d=s(fe(f))?"div":f,v=s(o)?o.split(/\./):[],p=I(v),b=$(p),B=ct(p),et=b,X=M(Z(fe,Zt(_,B)));return{"tag-name":d,id:et,classes:s(I(X))?X:null}},qn=function(t){const n=I(t),r=$(n),o=ct(n),c=r,u=o,i=jn(c),a=l(i,"tag-name"),f=l(i,"id"),_=l(i,"classes"),d=s(W($(u)))?$(u):{},v=(()=>{const X=l(d,"id");return s(X)?X:f})(),p=l(d,"class"),b=(()=>{const X=(()=>{const lt=_;return s(lt)?lt:[]})(),Ye=p==null?[]:s(Y(p))?[p]:s((()=>{const lt=vt(p);return s(lt)?G(Y(p)):lt})())?M(p):[p],ce=M(Zt(X,Ye));if(s(I(ce)))return ce})(),B=s(v)?A(d,"id",v):d,et=s(N(b))?A(B,"class",b):Ht(B,"class"),se=s(W($(u)))?F(u):u;return{"tag-name":a,attrs:et,content:se}},Kn=function(t,e){const n=qn(t),r=l(n,"tag-name"),o=l(n,"attrs"),c=l(n,"content"),u=l(o,"value"),i=Ht(o,"value"),a=Gn(Ft(e),r),f=document.createElementNS(a,r);In(f,i);for(let _ of m(c)){const v=j(_,a);if(s(v)){const p=v;f.appendChild(p)}}if(s(N(u)))if(s((()=>{const _=f.tagName==="SELECT";return s(_)?f.multiple:_})())){const _=Nt(u);for(let d of m(f.options)){const v=d;v.selected=V(_,v.value)}}else f.value=u;return f},Nn=function(t){const e=t._eucalypt_id;if(s(e))return e;{const n=y("fn_",je());return t._eucalypt_id=n,n}},ne=function(t){if(h("normalize-component called with:",t),h("normalize-component: component metadata:",Gt(t)),s(vt(t))){const e=$(t),n=F(t);if(s(mt(e))){const r=e,o=M(n),c=Gt(t),u=Nn(r),i=s(V(c,"key"))?y(u,"_key_",l(c,"key")):y(u,"_pos_",k(H,Ze)),a=u,f=l(w(_t),i),_=l(w(_t),a);if(s(f))return h("normalize-component: using cached instance for key:",i),T([l(f,"instance")],o);if(s(_))return h("normalize-component: using cached shared for key:",a),T([l(_,"instance")],o);{h("normalize-component: cache miss for keys:",i,"and",a);const d=Qt(r,o);if(s(mt(d))){const p=_e(gt,{"reagent-render":d}),b=T([p],o);return h("normalize-component: Form-2, caching with key:",i),k(_t,A,i,{type:"form-2",instance:p}),b}else{const v=_e(gt,{"reagent-render":r}),p=T([v],o);return h("normalize-component: Form-1, caching with key:",a),k(_t,A,a,{type:"form-1",instance:v}),p}}}else{if(s(Y(e)))return T([A(gt,"reagent-render",(function(){return t}))],n);if(s(W(e))){const r=e,o=l(r,"reagent-render"),c=T({"reagent-render":o},Kt((function(u){const i=u,a=g(i,0,null),f=g(i,1,null),_=l(r,a),d=s(_)?Ve(_,f):f;return[a,d]}),gt));return T([c],n)}else return null}}},re=function(t){const n=I(t),r=$(n),o=ct(n),c=r,u=o,i=l(c,"reagent-render");h("component->hiccup: calling reagent-render with params:",u);const a=Qt(i,u);return h("component->hiccup: reagent-render returned:",(()=>{const f=a;return f==null?null:f.toString()})()),a},j=(()=>{const t=(function(...e){switch(e.length){case 1:return t.cljs$core$IFn$_invoke$arity$1(e[0]);case 2:return t.cljs$core$IFn$_invoke$arity$2(e[0],e[1]);default:throw new Error(y("Invalid arity: ",e.length))}});return t.cljs$core$IFn$_invoke$arity$1=(function(e){return j(e,ut(tt))}),t.cljs$core$IFn$_invoke$arity$2=(function(e,n){h("hiccup->dom called with:",e);const r=s((()=>{const o=Y(e);return s(o)?o:yn(e)})())?document.createTextNode(y(e)):s(z(e))?(()=>{const c=I(e),u=$(c);ct(c);const i=u;if(s(mt(i)))return j(re(ne(e)),n);if(s(z(i))){const a=document.createDocumentFragment();for(let f of m(e)){const d=j(f,n);if(s(d)){const v=d;a.appendChild(v)}}return a}else if(s(i==="<>")){const a=document.createDocumentFragment();for(let f of m(F(e))){const d=j(f,n);if(s(d)){const v=d;a.appendChild(v)}}return a}else return Kn(e,n)})():s(jt(e))?(()=>{const o=document.createDocumentFragment();for(let c of m(e)){const u=c,i=s((()=>{const f=z(u);return s(f)?Gt(u):f})())?wn(u,Gt(u)):u,a=j(i,n);if(s(a)){const f=a;o.appendChild(f)}}return o})():s(mt(e))?j(e(),n):s(W(e))?j(l(e,"reagent-render")(),n):s((()=>{const o=e==null;return o||bn(e)})())?null:document.createTextNode(y(e));return h("hiccup->dom returning:",(()=>{const o=r;return o==null?null:o.toString()})()),r}),t.cljs$lang$maxFixedArity=2,t})(),Qn=function(t,e){const n=E(t,e);return h("hiccup-eq?:",n),G(n)&&h("hiccup-eq? details: a:",t,"b:",e),n},he=function(t){const e=F(t);return s(W($(e)))?F(e):e},me=function(t){const e=jt(t);if(s(e)){const n=G(Y(t));return n&&G(z(t))}else return e},nt=function(t){h("fully-render-hiccup called with:",t);const e=t==null?null:s(me(t))?Ge(nt,t):s(z(t))?(()=>{const n=$(t);if(s(mt(n)))return nt(re(ne(t)));{const r=(()=>{const u=t[1];if(s(W(u)))return u})(),o=s(r)?Lt(t,2):Lt(t,1),c=s(r)?[t[0],r]:[t[0]];return T(c,qt((function(u,i){const a=nt(i);return h("fully-render-hiccup reduce: processing child, processed=",y(a)),a==null?u:s((()=>{const f=z(a);return s(f)?a[0]==="<>":f})())?(h("fully-render-hiccup reduce: unpacking fragment"),T(u,Lt(a,1))):s(me(i))?T(u,a):It(u,a)}),[],o))}})():s(W(t))?nt(l(t,"reagent-render")()):t;return h("fully-render-hiccup returning:",y(e)),e},oe=function(t){if(s(t)){const e=t["---ref-fn"];if(s(e)){const n=e;h("unmount-node-and-children: calling ref-fn for node",y(n)),n(null),t["---ref-fn"]=null}for(let n of m(M(t.childNodes)))oe(n);return null}},xe=function(t){if(s(t))return oe(t),t.remove()},Le=function(t,e,n){h("--- patch-children start for dom:",(()=>{const d=n;return d==null?null:d.toString()})());const r=M(Z(At,he(t))),o=M(Z(At,he(e))),c=q(M(n.childNodes)),u=st(r),i=st(o),a=st(w(c)),f=ee(n);h("patch-children: len-a:",u,"len-b:",i,"len-dom:",a),h("patch-children: children-a:",y(r)),h("patch-children: children-b:",y(o));let _=0;for(;;){if(_<gn(u,i)){const d=g(r,_),v=g(o,_),p=g(w(c),_),b=Be(d,v,p);s(O(p,b))&&k(c,A,_,b),_=_+1;continue}break}if(i>u)for(let d of m(D(u,i))){const p=j(g(o,d),f);if(s(p)){const b=p;n.appendChild(b)}}if(u>i){const d=u-i;let v=0;for(;;){if(v<d){xe(n.lastChild),v=v+1;continue}break}}},$t=function(t){h("get-attrs called on hiccup:",t);const e=on(t);return s(W(e))?e:{}},On=function(t,e,n){h("patch-attributes called with hiccup-a:",t,"hiccup-b:",e);const r=$t(t),o=$t(e),c=l(r,"ref"),u=l(o,"ref"),i=n.tagName;h("patch-attributes: a-attrs:",r,"b-attrs:",o),h("patch-attributes: a-ref:",c,"b-ref:",u),h("patch-attributes: about to compare refs. are they equal?",E(c,u),"a-ref:",c,"b-ref:",u),G(E(c,u))&&(h("patch-attributes: refs are different, handling lifecycle"),s(c)&&c(null),s(u)&&u(n),n["---ref-fn"]=u);for(let a of m(r)){const f=a,_=g(f,0,null);g(f,1,null),s((()=>{const d=G(V(o,_));if(d){const v=O(_,"ref");return s(v)?O(_,"xmlns"):v}else return d})())&&(s(_.startsWith("on-"))?n[Ut(_,i)]=null:n.removeAttribute(_))}for(let a of m(o)){const f=a,_=g(f,0,null),d=g(f,1,null);if(s((()=>{const v=O(_,"ref");return s(v)?O(_,"xmlns"):v})())){const v=l(r,_);if(s(_.startsWith("on-")))n[Ut(_,i)]=d;else if(s(O(d,v))&&(h("patch-attributes: updating attribute",_,"from",v,"to",d,"on",y(n)),!s(_==="value")))if(s(_==="class")){const p=s((()=>{const b=vt(d);return s(b)?G(Y(d)):b})())?M(Z(At,d)).join(" "):d;s((()=>{const b=p==null;return b||p===""})())?n.removeAttribute("class"):n.setAttribute("class",p)}else if(s(_==="style")){const p=Yt(d);s(I(p))?n.setAttribute("style",p):n.removeAttribute("style")}else if(s((()=>{const p=_==="checked";return s(p)?p:_==="selected"})()))n[_]=d;else if(d==null)n.removeAttribute(_);else{const p=s(_==="style")?Yt(d):d;n.setAttributeNS(null,_,p)}}}return null},Mt=function(t){return s((()=>{const e=jt(t);return s(e)?t.gen:e})())?Ge(Mt,t):s((()=>{const e=vt(t);return s(e)?G(Y(t)):e})())?T(Se(t),Kt(Mt,t)):t},Be=function(t,e,n){h("patch: hiccup-a-rendered",y(t),"hiccup-b-rendered",y(e),"dom-a",y(n));const r=Mt(t),o=Mt(e),c=Qn(r,o);if(h("patch: are-equal is",c,"(type",typeof c,")"),s(c))return h("patch: hiccup is equal, doing nothing"),n;if(s((()=>{const u=G(z(r));if(u)return u;{const i=G(z(o));return i||O($(r),$(o))}})())){const u=n.parentNode,i=ee(u),a=j(o,i);return h("patch: replacing node. dom-a:",y(n),"new-node:",y(a)),s(n)&&h("patch: replacing node. dom-a.textContent:",n.textContent,"new-node.textContent:",a.textContent),oe(n),n.replaceWith(a),a}else{h("patch: hiccup not equal, patching children and attributes"),On(r,o,n),Le(r,e,n);const u=$t(r),i=$t(o),a=l(i,"value");if(s((()=>{const f=V(i,"value");return s(f)?O(l(u,"value"),a):f})()))if(h("patch: value changed from",l(u,"value"),"to",a,"on",y(n)),s((()=>{const f=n.tagName==="SELECT";return s(f)?n.multiple:f})())){const f=Nt(a);for(let _ of m(n.options)){const d=_;d.selected=V(f,d.value)}}else n.value=a;return n}},zn=function(t){return h("modify-dom called for component:",t),Ne(t,(function(){Fe(t),S(H,0);const e=l(w(wt),t);if(e==null)return h("modify-dom: skipping update; component not mounted yet");{const n=e,r=l(n,"hiccup"),o=l(n,"dom"),c=l(n,"container"),u=ze(t,(function(){return re(t)})),i=S(H,0),a=nt(u);if(s((()=>{const f=z(r);return s(f)?$(r)==="<>":f})()))return S(H,0),Le(r,a,c),k(wt,A,t,{hiccup:a,dom:o,container:c});{const f=S(H,0),_=Be(r,a,o);if(h("modify-dom: new DOM",y(_)),k(wt,A,t,{hiccup:a,dom:_,container:c}),s(O(o,_)))return h("modify-dom: DOM changed, replacing in container"),c.innerHTML="",c.appendChild(_)}}}))},pe=function(t){h("notify-watchers called with",st(w(t)),"watchers");for(let e of m(w(t))){const n=e;s(n)&&(h("calling watcher"),s(En(n))?(h("notify-watchers: deferring watcher for component",(()=>{const r=n,o=r==null?null:at(r);return o==null?null:l(o,"normalized-component")})()),Oe(n,"deferred-same-component")):Qe(n))}return null},Fn=function(t,e){return ze(t,(function(){const n=l($(t),"reagent-render"),r=F(t),o=Qt(n,r),c=j(o,Ft(e));return[o,c]}))},xn=function(t){const e=l(w(Pt),t);if(s(e)){const n=e;Fe(n);const o=I(n),c=$(o);ct(o),l(c,"component-will-unmount")(n),k(Pt,Ht,t)}S(_t,{});for(let n of m(M(t.childNodes)))xe(n);return null},Ln=function(t,e){return xn(e),S(H,0),Ne(t,(function(){const n=ee(e),r=Fn(t,n),o=g(r,0,null),c=g(r,1,null),u=S(H,0),i=nt(o);return e.appendChild(c),k(wt,A,t,{hiccup:i,dom:c,container:e}),k(Pt,A,e,t)}))},Bn=function(t){const e=q(t),n=e._deref,r=e._reset_BANG_,o=y("ratom-",je());return e["ratom-id"]=o,e.watchers=q(new Set([])),e.cursors=q(new Set([])),e._deref=(function(){return s(C)&&(h("ratom deref: watcher found, adding to set."),k(e.watchers,It,C)),n.call(e)}),e._reset_BANG_=(function(c){h("ratom _reset_BANG_ called with",c);const u=r.call(e,c);pe(e.watchers);for(let i of m(w(e.cursors)))pe(i.watchers);return u}),k(Ke,A,o,e),e},Cn=function(t,e){h("render called with component:",t,"and container:",y(e));const n=ne(t);return h("render: normalized-component is",n),Ln(n,e)},xt=Bn,Ce=xt({page:"home"}),Pn=(()=>{const t=(function(...e){switch(e.length){case 0:return t.cljs$core$IFn$_invoke$arity$0();case 1:return t.cljs$core$IFn$_invoke$arity$1(e[0]);default:throw new Error(y("Invalid arity: ",e.length))}});return t.cljs$core$IFn$_invoke$arity$0=(function(){return Math.random()}),t.cljs$core$IFn$_invoke$arity$1=(function(e){return e*Math.random()}),t.cljs$lang$maxFixedArity=1,t})(),Pe=function(){return{board:M(dn(9,null)),"x-turn?":!0}},ht=xt(Pe()),De=function(t){return Re((function(n){const r=n,o=g(r,0,null),c=g(r,1,null),u=g(r,2,null);if(s((()=>{const i=l(t,o);return s(i)?E(l(t,o),l(t,c),l(t,u)):i})()))return l(t,o)}),[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]])},Dn=function(t){const e=w(ht),n=l(e,"board"),r=l(e,"x-turn?"),o=l(n,t);return["div",{style:{width:"60px",height:"60px",border:"1px solid #000",display:"flex","align-items":"center","justify-content":"center","font-size":"24px",cursor:"pointer"},"on-click":(function(){if(s((()=>{const c=o==null;return c&&G(De(n))})()))return k(ht,kt,"board",A,t,s(r)?"X":"O"),k(ht,kt,"x-turn?",G)})},o]},Wn=function(){return["div",{style:{display:"grid","grid-template-columns":"repeat(3, 60px)","grid-template-rows":"repeat(3, 60px)",gap:"2px"}},R(function*(){for(let t of m(D(9)))yield[Dn,t]})]},Yn=function(){const t=w(ht),e=l(t,"board"),n=l(t,"x-turn?"),r=De(e);return["div",{style:{"font-family":"sans-serif"}},[Wn],s(r)?["p",y("Winner: ",r)]:s(hn(N,e))?["p","Draw!"]:["p",y("Next turn: ",s(n)?"X":"O")],["button",{"on-click":(function(){return S(ht,Pe())})},"Restart"]]},it=20,rt=10,St=xt({snake:[[5,10],[4,10],[3,10]],dir:[1,0],food:[15,10],"alive?":!0}),Un=function(){return[de(it),de(it)]},Xn=function(){return k(St,(function(t){const e=t,n=e,r=l(e,"snake"),o=l(e,"dir"),c=l(e,"food"),u=l(e,"alive?");if(G(u))return n;{const i=M([g($(r),0)+g(o,0),g($(r),1)+g(o,1)]),a=E(i,c),f=M(un(i,s(a)?r:pn(r))),_=g(i,0),d=g(i,1),v=(()=>{const b=_<0;if(b)return b;{const B=d<0;if(B)return B;{const et=_>=it;return et||d>=it}}})(),p=Re((function(b){return E(i,b)}),F(f));return s(v)||s(p)?A(n,"alive?",!1):s(a)?A(n,"snake",f,"food",Un()):A(n,"snake",f)}}))},ve=function(t){const e=t.key;return k(St,kt,"dir",(function(n){switch(e){case"ArrowUp":return s(E(n,[0,1]))?n:[0,-1];case"ArrowDown":return s(E(n,[0,-1]))?n:[0,1];case"ArrowLeft":return s(E(n,[1,0]))?n:[-1,0];case"ArrowRight":return s(E(n,[-1,0]))?n:[1,0];default:return n}}))},ge=function(t,e){const n=t,r=g(n,0,null),o=g(n,1,null);return["rect",{x:r*rt,y:o*rt,width:rt,height:rt,fill:e}]},Hn=(()=>{const t=Vt(null),e=(function(n){if(console.log("snake-game-board",n),s(n)){if(w(t)==null)return console.log("snake-game-board mount"),S(t,setInterval(Xn,200)),window.addEventListener("keydown",ve)}else if(s(w(t)))return console.log("snake-game-board unmount"),clearInterval(w(t)),S(t,null),window.removeEventListener("keydown",ve)});return function(){const n=w(St),r=l(n,"snake"),o=l(n,"food"),c=l(n,"alive?");return["div",{ref:e},["svg",{width:it*rt,height:it*rt,style:{border:"1px solid black",background:"#eef"}},R(function*(){for(let u of m(r))yield[ge,u,"green"]}),[ge,o,"red"],G(c)?["text",{x:50,y:100,"font-size":20,fill:"black"},"Game Over!"]:null],["p",["button",{"on-click":(function(){return S(St,{snake:[[5,10],[4,10],[3,10]],dir:[1,0],food:[15,10],"alive?":!0})})},"Restart"]]]}})(),Q=30,ot=15,We=function(){return M(R(function*(){for(let t of m(D(Q)))yield M(R(function*(){for(let e of m(D(Q)))yield Pn()<.2?1:0}))}))},bt=xt({grid:We(),"running?":!0}),Jn=function(t,e,n){return qt((function(o,c){const u=c,i=g(u,0,null),a=g(u,1,null),f=e+i,_=n+a;return s((()=>{const d=f>=0;if(d){const v=f<Q;if(v){const p=_>=0;return p&&_<Q}else return v}else return d})())?o+g(g(t,_),f):o}),0,[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]])},Vn=function(t){return M(R(function*(){for(let e of m(D(Q))){const n=e;yield M(R(function*(){for(let r of m(D(Q))){const o=r;yield(()=>{const c=g(g(t,n),o)===1,u=Jn(t,o,n);return s((()=>{const i=c;if(s(i)){const a=u===2;return s(a)?a:u===3}else return i})())||s((()=>{const i=G(c);return i&&u===3})())?1:0})()}}))}}))},Zn=function(){return k(bt,(function(t){const e=t,n=e,r=l(e,"grid"),o=l(e,"running?");return s(o)?A(n,"grid",Vn(r)):n}))},tr=function(t,e,n){return["rect",{x:t*ot,y:e*ot,width:ot,height:ot,fill:s(n===1)?"black":"white",stroke:"#ddd"}]},er=(()=>{const t=Vt(null),e=(function(n){if(s(n)){if(w(t)==null)return S(t,setInterval(Zn,200))}else if(s(w(t)))return clearInterval(w(t)),S(t,null)});return function(){const n=w(bt),r=l(n,"grid"),o=l(n,"running?");return["div",{ref:e},["svg",{width:Q*ot,height:Q*ot,style:{border:"1px solid black"}},R(function*(){for(let c of m(D(Q))){const u=c;for(let i of m(D(Q))){const a=i;yield[tr,a,u,g(g(r,u),a)]}}}),G(o)?["text",{x:50,y:50,fill:"red","font-size":20},"Paused"]:null],["p",["button",{"on-click":(function(){return k(bt,kt,"running?",G)})},s(o)?"Pause":"Resume"],["button",{"on-click":(function(){return k(bt,A,"grid",We())})},"Randomize"]]]}})(),yt=function(t,e){return["a",{href:"#",class:"nav-link","on-click":(function(n){return n.preventDefault(),k(Ce,A,"page",t)})},e]},nr=function(){return["div",["h1","Games"],["p","Some games implemented with Eucalypt."]]},rr=function(){const t=l(w(Ce),"page");return["div",["nav",[yt,"home","Home"],[yt,"tic-tac-toe","Tic Tac Toe"],[yt,"snake","Snake"],[yt,"game-of-life","Game of Life"]],["hr"],(()=>{switch(t){case"home":return[nr];case"tic-tac-toe":return[Yn];case"snake":return[Hn];case"game-of-life":return[er];default:return["div","Page not found"]}})()]};Cn([rr],document.getElementById("app"));</script>
  <style rel="stylesheet" crossorigin>body{font-family:sans-serif;background-color:#f0f0f0;color:#333}div#app{max-width:800px;margin:2rem auto;padding:2rem;background-color:#fff;border-radius:8px;box-shadow:0 4px 6px #0000001a}h1{color:#111}a{color:#007bff;text-decoration:none}a:hover{text-decoration:underline}button{padding:10px 15px;font-size:1rem;border-radius:5px;border:1px solid #ccc;cursor:pointer;background-color:#eee}button:hover{background-color:#ddd}.nav-link{margin-right:.5em}.nav-link+.nav-link{border-left:2px solid #ccc;padding-left:.5em}.slider{width:100%}.text-red{color:red}.separator{margin:1rem 0}.color-orange{color:orange}.color-red{color:red}#todo-list .view{display:flex;justify-content:start;align-items:center;border-bottom:1px solid silver}#todo-list .view label{flex-grow:1;margin-left:.5em}</style>
</head>
<body>
    <div id="app"><div class="loader"></div></div>
</body>
</html>
