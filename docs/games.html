<!DOCTYPE html>
<html lang="en">
<head>
    <title>Eucalypt</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
  <script type="module">function K(t){if(t==null||t instanceof Function)return t;const e=typeof t;return e==="string"?(n,r)=>l(n,t,r):e==="object"?(n,r)=>l(t,n,r):t}var re=Object.prototype.hasOwnProperty;function oe(t,e,n){for(n of t.keys())if(at(n,e))return n}function at(t,e){if(t===e)return!0;var n,r,o;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Array){if((r=t.length)===e.length)for(;r--&&at(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(const c of t)if(o=c,o&&typeof o=="object"&&(o=oe(e,o),!o)||!e.has(o))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(const c of t)if(o=c[0],o&&typeof o=="object"&&(o=oe(e,o),!o)||!at(r[1],e.get(o)))return!1;return!0}if(!n||typeof t=="object"){r=0;for(const c in t)if(re.call(t,c)&&++r&&!re.call(e,c)||!(c in e)||!at(t[c],e[c]))return!1;return Object.keys(e).length===r}}return!1}function Ce(t,e){return t.every(function(n,r){return r===0||e(t[r-1],n)})}function R(...t){return Ce(t,(e,n)=>at(e,n))}function Be(t,e,n,...r){if(r.length%2!==0)throw new Error("Illegal argument: assoc expects an odd number of arguments.");switch(F(t)){case x:t.set(e,n);for(let o=0;o<r.length;o+=2)t.set(r[o],r[o+1]);break;case U:case H:t[e]=n;for(let o=0;o<r.length;o+=2)t[r[o]]=r[o+1];break;default:throw new Error(`Illegal argument: assoc! expects a Map, Array, or Object as the first argument, but got ${typeof t}.`)}return t}function $t(t){switch(F(t)){case x:return new Map(t);case P:return new t.constructor(t);case U:return[...t];case H:return{...t};default:throw new Error(`Don't know how to copy object of type ${typeof t}.`)}}function A(t,e,n,...r){t||(t={});const o=$t(t);return Be(o,e,n,...r),o}const x=1,U=2,H=3,Mt=4,P=5,Pt=6;function Pe(t){switch(t){case x:return new Map;case U:return[];case H:return{};case Mt:return new Nt;case P:return new Set;case Pt:return M(function*(){})}}function Rt(t){return t.constructor===Object}function De(t){return t!=null&&Rt(t)}function F(t){if(t!=null){if(Rt(t))return H;if(t instanceof Map)return x;if(t instanceof Set)return P;if(t instanceof Nt)return Mt;if(Array.isArray(t))return U;if(t instanceof Yt)return Pt;if(t instanceof Qt)return P;if(t instanceof Object)return H}}function We(...t){if(t=t.map(K),t.length===0)return Lt;if(t.length===1)return t[0];const[e,...n]=t.slice().reverse();return function(...r){let o=e(...r);for(const c of n)o=c(o);return o}}function me(t,e){for(const n of e)t.add(n);return t}function pe(...t){if(t.length===0)return ye();const[e,...n]=t;let r=e;switch(r==null&&(r=[]),F(r)){case P:me(r,n);break;case Mt:r.unshift(...n.reverse());break;case U:r.push(...n);break;case x:for(const o of n)Array.isArray(o)?r.set(o[0],o[1]):h(o).forEach(c=>{r.set(c[0],c[1])});break;case H:for(const o of n)Array.isArray(o)?r[o[0]]=o[1]:Object.assign(r,o);break;default:throw new Error("Illegal argument: conj! expects a Set, Array, List, Map, or Object as the first argument.")}return r}function Dt(...t){if(t.length===0)return ye();const[e,...n]=t;let r=e;r==null&&(r=on());let o,c;switch(F(r)){case P:return r instanceof Qt?me(new r.constructor(r),n):new r.constructor([...r,...n]);case Mt:return new Nt(...n.reverse(),...r);case U:return[...r,...n];case x:o=new Map(r);for(const u of n)Array.isArray(u)?o.set(u[0],u[1]):h(u).forEach(i=>{o.set(i[0],i[1])});return o;case Pt:return M(function*(){yield*n,yield*r});case H:c={...r};for(const u of n)Array.isArray(u)?c[u[0]]=u[1]:Object.assign(c,u);return c;default:throw new Error("Illegal argument: conj expects a Set, Array, List, Map, or Object as the first argument.")}}function J(t,e){switch(F(t)){case P:case x:return t.has(e);case void 0:return!1;default:return e in t}}function Wt(t,...e){if(!t)return;if(e.length===0)return t;const n=$t(t);switch(F(t)){case x:for(const r of e)n.delete(r);break;default:for(const r of e)delete n[r];break}return n}function Ye(t){return t+1}function g(t,e,n){if(t){var r=void 0;if(Array.isArray(t))r=t[e];else{const o=h(t);let c=0;for(const u of o)if(c++==e){r=u;break}}if(r!==void 0)return r}return n}function l(t,e,n=void 0){if(t==null)return n;let r;if(Rt(t))return r=t[e],r===void 0?n:r;let o;switch(F(t)){case P:t.has(e)&&(r=e);break;case x:r=t.get(e);break;case U:r=t[e];break;default:if(o=t.get,o instanceof Function)try{r=t.get(e);break}catch{}r=t[e];break}return r!==void 0?r:n}function Et(t){return t!=null&&!!t[Symbol.iterator]}const ht=Et;function Ue(t){return t==null||!!t[Symbol.iterator]}function h(t){if(t==null)return[];if(Ue(t))return t;if(t instanceof Object)return Object.entries(t);throw new TypeError(`${t} is not iterable`)}const ve=Symbol("Iterable"),Xe=Symbol.iterator;function He(t){return t[Symbol.iterator]()}const Je=He;function T(t){if(t==null)return t;const e=h(t);return e.length===0||e.size===0||e[Symbol.iterator]().next().done?null:e}function S(t){const[e]=h(t);return e}function Ve(t){const[e,n]=h(t);return n}function L(t){return M(function*(){let e=!0;for(const n of h(t))e?e=!1:yield n})}class se{value;constructor(e){this.value=e}_deref(){return this.value}}function Tt(t,e,n){t=K(t);let r,o;if(arguments.length===2){const c=h(e)[Symbol.iterator](),u=c.next();u.done?o=t():o=u.value,r=c}else o=e,r=h(n);if(o instanceof se)return o.value;for(const c of r)if(o=t(o,c),o instanceof se){o=o.value;break}return o}var Ze=!1;class Yt{constructor(e){this.gen=e,this.usages=0}[Symbol.iterator](){return this.usages++,this.usages>=2,this.gen()}}Yt.prototype[ve]=!0;function M(t){return new Yt(t)}class tn{constructor(e,n){this.x=e,this.coll=n}*[Symbol.iterator](){yield this.x,yield*h(this.coll)}}function en(t,e){return new tn(t,e)}function It(t,...e){switch(t=K(t),e.length){case 0:return n=>(...r)=>{switch(r.length){case 0:return n();case 1:return n(r[0]);case 2:return n(r[0],t(r[1]));default:return n(r[0],t(...r.slice(1)))}};case 1:return M(function*(){for(const n of h(e[0]))yield t(n)});default:return M(function*(){const n=e.map(r=>Je(h(r)));for(;;){const r=[];for(const o of n){const c=o.next();if(c.done)return;r.push(c.value)}yield t(...r)}})}}function ge(t){return e=>(...n)=>{switch(n.length){case 0:return e();case 1:return e(n[0]);case 2:{const r=n[0],o=n[1];return s(t(o))?e(r,o):r}}}}function nn(t,e){return arguments.length===1?ge(t):(t=K(t),M(function*(){for(const n of h(e))s(t(n))&&(yield n)}))}function V(t,e){return arguments.length===1?ge(ce(t)):nn(ce(t),e)}function y(...t){return t.join("")}function G(t){return!s(t)}function wt(t){return t==null}class rn{constructor(e){this.val=e,this._watches={},this._deref=()=>this.val,this._hasWatches=!1,this._reset_BANG_=n=>{const r=this.val;if(this.val=n,this._hasWatches)for(const o of Object.entries(this._watches)){const c=o[0],u=o[1];u(c,this,r,n)}return n},this._add_watch=(n,r)=>{this._watches[n]=r,this._hasWatches=!0},this._remove_watch=n=>{delete this._watches[n]}}}function Ut(t){return new rn(t)}function w(t){return t._deref()}function I(t,e){t._reset_BANG_(e)}function k(t,e,...n){e=K(e);const r=e(w(t),...n);return I(t,r),r}function D(t,e,n){return M(function*(){let r=t,o=e,c=n;e===void 0&&(r=0,o=t);let u=r||0;c=1;const i=c>=0;for(;o===void 0||i&&u<o||!i&&o<u;)yield u,u+=c})}function zt(t,e,n){return t.slice(e,n)}function ye(...t){return t}function q(t){return F(t)===U}function we(...t){if(t.length===2){const[r,o]=t,c=h(o);if(Array.isArray(c)){const u=new Array(c.length);for(var e=0;e<c.length;e++)u[e]=r(c[e]);return u}else{var n=[];for(const u of c)n.push(r(u));return n}}return[...It(...t)]}function $(t){return sn(t)?t:[...h(t)]}function jt(t){return new Set(h(t))}const be=Symbol("IApply__apply");function Kt(t,...e){t=K(t);const n=e.slice(0,e.length-1),r=h(e[e.length-1]),o=t[be];return o?o(...n,r):t(...n,...r)}function ce(t){return t=K(t),(...e)=>G(t(...e))}class Nt extends Array{constructor(...e){super(),this.push(...e)}}function on(...t){return new Nt(...t)}function sn(t){return Array.isArray(t)}function Ae(t){return M(function*(){for(const e of t)yield*h(e)})}function Xt(...t){return Ae(t)}Xt[be]=t=>Ae(t);function Lt(t){return t}function ke(t){const e=F(t);if(e!=null)return Pe(e);throw new Error(`Can't create empty of ${typeof t}`)}function ue(...t){const e=t[0];let n;return e==null?n={}:n=E(ke(e),e),pe(n,...t.slice(1))}function E(...t){let e,n,r,o,c;switch(t.length){case 0:return[];case 1:return t[0];case 2:return Dt(t[0]??[],...h(t[1]));case 3:return e=t[0],n=t[1],r=t[2],o=$t(e),c=(u,i)=>i===void 0?u:pe(u,i),Me(n,c,o,r);default:throw TypeError(`Invalid arity call of into: ${t.length}`)}}function cn(...t){if(t.length==0||t.length>2)throw new Error(`Invalid arity: ${t.length}`);return{[ve]:!0,[Xe]:t.length==1?function*(){const e=t[0];for(;;)yield e}:function*(){const[e,n]=t;for(var r=0;r<e;r++)yield n}}}function bt(t,e,n,...r){return n=K(n),A(t,e,n(l(t,e),...r))}function xt(t,e,n){let r=t;for(const o of e)r=l(r,o);return r===void 0?n:r}function un(t,e){t=K(t);for(const n of h(e))if(!t(n))return!1;return!0}function an(t,e){return arguments.length===1&&(e=t,t=void 0),t=K(t),e=h(e),[...e].sort(t||Ht)}function Ge(t,e){t=K(t);for(const n of h(e)){const r=t(n);if(s(r))return r}}function ie(t){return!T(t)}function ae(t){return Math.floor(Math.random()*t)}function ln(t){const e=[...h(t)];return e.pop(),e.length>0?e:null}function vt(t){if(!t)return 0;const e=t.length||t.size;if(typeof e=="number")return e;let n=0;for(const r of h(t))n++;return n}function Q(t){return t!=null}function Se(t,e,n){if(!n)return e;var r=e;for(const o of h(n))r=t(r,o[0],o[1]);return r}function _n(t,e,...n){return e==null?t:Math.min(t,e,...n)}function W(t){return t==null?!1:!!(Rt(t)||t instanceof Map)}function ot(t){if(Array.isArray(t)){const e=t.slice(1);return e.length>0?e:null}else return T(L(t))}function Ht(t,e){if(t===e)return 0;{if(t==null)return-1;if(e==null)return 1;const n=typeof t,r=typeof e;if(n==="number"&&r==="number"||n==="string"&&r==="string")return t===e?0:t<e?-1:1;if(Array.isArray(t)&&Array.isArray(e)){if(t.length<e.length)return-1;if(t.length>e.length)return 1;for(let o=0;o<t.length;o++){let c=Ht(t[o],e[o]);if(c!=0)return c}return 0}else throw new Error(`comparing ${n} to ${r}`)}}function s(t){return t!=null&&t!==!1}function ft(t){return typeof t=="function"}function fn(t){return typeof t=="number"}function Y(t){return typeof t=="string"}const $e=Symbol("meta");function At(t){return t instanceof Object?t[$e]:null}function dn(t,e){const n=$t(t);return n[$e]=e,n}function hn(t){return t===!0||t===!1}function Me(t,...e){switch(e.length){case 2:{const n=e[0],r=e[1];return Me(t,n,n(),r)}default:{let n=e[0];const r=e[1],o=e[2];n=t(n);const c=Tt(n,r,o);return n(c)}}}class Qt{constructor(e){e instanceof Qt||(e=an(e));const r=new Set(e);this._elts=[...r],this._set=r}add(e){if(this._set.has(e))return this;const n=this._elts;let r=!1;for(let o=0;o<n.length;o++)if(Ht(e,n[o])<=0){n.splice(o,0,e),r=!0;break}return r?this._set=new Set(n):(n.push(e),this._set.add(e)),this.size=n.length,this}delete(e){if(!this._set.has(e))return this;const n=this._elts,r=n.indexOf(e);return n.splice(r,1),this._set=new Set(n),this.size=n.length,this}has(e){return this._set.has(e)}keys(){return this.values()}values(){return this._elts[Symbol.iterator]()}entries(){return this._set.entries()}forEach(...e){return this.set.forEach(...e)}clear(){this._elts=[],this._set=new Set(this._elts)}[Symbol.iterator](){return this.keys()}}function Re(){return crypto.randomUUID()}function O(t,e,...n){if(e===void 0||t===e)return!1;for(const r of n)if(t===r)return!1;return!0}var z=Ut,m=(()=>{try{return s((()=>{const t=globalThis,e=t==null?null:t.process,n=e==null?null:e.env;return n==null?null:n.DEBUG})())||s((()=>{const t=globalThis,e=t==null?null:t.localStorage,n=e==null?null:e.getItem("debug");return n==null?null:n.startsWith("eucalypt:")})())?console.log:Lt}catch{return Lt}})();m("eucalypt.cljs loading...");var Z="html",dt={html:{uri:"http://www.w3.org/1999/xhtml"},svg:{uri:"http://www.w3.org/2000/svg","entry-tags":new Set(["svg"]),"boundary-tags":new Set(["foreignObject"])},math:{uri:"http://www.w3.org/1998/Math/MathML","entry-tags":new Set(["math"]),"boundary-tags":new Set(["annotation-xml"])}},mn=Se((function(t,e,n){const o=l(n,"entry-tags");return Tt((function(c,u){return A(c,u,e)}),t,(()=>{const c=o;return s(c)?c:new Set([])})())}),{},dt),Ee=Se((function(t,e,n){const o=l(n,"uri");return s(o)?A(t,o,e):t}),{},dt),st=function(t){const e=xt(dt,[t,"uri"]);return s(e)?e:xt(dt,[Z,"uri"])},Ot=function(t){const e=(()=>{const n=t;return s(n)?n:st(Z)})();return s(J(Ee,e))?e:st(Z)},pn=function(t){return l(Ee,t,Z)},vn=function(t,e){const n=Ot(t),r=pn(n),o=xt(dt,[r,"boundary-tags"],new Set([])),c=l(mn,e);return s(c)?st(c):s(J(o,e))?st(Z):n},Jt=function(t){return s(Q(t))?Ot(t.namespaceURI):st(Z)},gn=function(t,e){return t["---meta"]=e,t},Te=function(t){return t["---meta"]},yn=function(t){const e=L(t);for(let n of h(e)){const r=n;if(s((()=>{const o=De(r);return s(o)?r.watchers:o})())){const o=r.watchers;for(let c of h(w(o))){const u=c;s(R(l(Te(u),"normalized-component"),t))&&k(o,(function(i){return jt(V((function(a){return R(u,a)}),i))}))}}}return null},B=null,mt={"component-will-unmount":yn},gt=z({}),Ft=z({}),it=z({}),lt=z(0),Ie=z({}),je=function(t,e){const n=B;return(()=>{try{return B=gn((function(){return Rn(t)}),{"normalized-component":t}),e()}finally{B=n}})()},Ke=function(t){for(let e of h(w(Ie))){const n=e;g(n,0,null);const o=g(n,1,null).watchers;s(o)&&k(o,(function(u){return jt(V((function(i){return R(l(Te(i),"normalized-component"),t)}),u))}))}return null},Ct=function(t){return Kt(y,It((function(e){const n=e,r=g(n,0,null),o=g(n,1,null);return y(r,":",o,";")}),t))},wn={"on-double-click":"ondblclick"},Bt=function(t,e){return s((()=>{const n=t==="on-change";return s(n)?l(new Set(["INPUT","TEXTAREA"]),e):n})())?"oninput":l(wn,t,t.replaceAll("-",""))},bn=function(t,e){for(let n of h(e)){const r=n,o=g(r,0,null),c=g(r,1,null);if(!s(o==="xmlns"))if(s(o==="ref"))s(Q(c))&&(t["---ref-fn"]=c,c(t));else if(s(o.startsWith("on-"))){if(s(Q(c))){const u=Bt(o,t.tagName);t[u]=c}}else if(s(o==="style")){if(s(Q(c))){const u=Ct(c);s(T(u))?t.setAttribute("style",u):t.removeAttribute("style")}}else if(s(o==="class")){const u=s((()=>{const i=ht(c);return s(i)?G(Y(c)):i})())?$(V(wt,c)).join(" "):c;s((()=>{const i=u==null;return i||u===""})())?t.removeAttribute("class"):t.setAttribute("class",u)}else s((()=>{const u=o==="checked";return s(u)?u:o==="selected"})())?s(Q(c))&&(t[o]=c):s(Q(c))&&t.setAttributeNS(null,o,c)}return null},An=function(t){const n=y(t).split("#",2),r=g(n,0,null),o=g(n,1,null),c=r.split(/\./),u=T(c),i=S(u),a=ot(u),f=i,_=a,d=s(ie(f))?"div":f,v=s(o)?o.split(/\./):[],p=T(v),b=S(p),C=ot(p),tt=b,X=$(V(ie,Xt(_,C)));return{"tag-name":d,id:tt,classes:s(T(X))?X:null}},kn=function(t){const n=T(t),r=S(n),o=ot(n),c=r,u=o,i=An(c),a=l(i,"tag-name"),f=l(i,"id"),_=l(i,"classes"),d=s(W(S(u)))?S(u):{},v=(()=>{const X=l(d,"id");return s(X)?X:f})(),p=l(d,"class"),b=(()=>{const X=(()=>{const ut=_;return s(ut)?ut:[]})(),Fe=p==null?[]:s(Y(p))?[p]:s((()=>{const ut=ht(p);return s(ut)?G(Y(p)):ut})())?$(p):[p],ne=$(Xt(X,Fe));if(s(T(ne)))return ne})(),C=s(v)?A(d,"id",v):d,tt=s(Q(b))?A(C,"class",b):Wt(C,"class"),ee=s(W(S(u)))?L(u):u;return{"tag-name":a,attrs:tt,content:ee}},Gn=function(t,e){const n=kn(t),r=l(n,"tag-name"),o=l(n,"attrs"),c=l(n,"content"),u=l(o,"value"),i=Wt(o,"value"),a=vn(Ot(e),r),f=document.createElementNS(a,r);bn(f,i);for(let _ of h(c)){const v=j(_,a);if(s(v)){const p=v;f.appendChild(p)}}if(s(Q(u)))if(s((()=>{const _=f.tagName==="SELECT";return s(_)?f.multiple:_})())){const _=jt(u);for(let d of h(f.options)){const v=d;v.selected=J(_,v.value)}}else f.value=u;return f},Sn=function(t){const e=t._eucalypt_id;if(s(e))return e;{const n=y("fn_",Re());return t._eucalypt_id=n,n}},Vt=function(t){if(m("normalize-component called with:",t),m("normalize-component: component metadata:",At(t)),s(ht(t))){const e=S(t),n=L(t);if(s(ft(e))){const r=e,o=$(n),c=At(t),u=Sn(r),i=s(J(c,"key"))?y(u,"_key_",l(c,"key")):y(u,"_pos_",k(lt,Ye)),a=u,f=l(w(it),i),_=l(w(it),a);if(s(f))return m("normalize-component: using cached instance for key:",i),E([l(f,"instance")],o);if(s(_))return m("normalize-component: using cached shared for key:",a),E([l(_,"instance")],o);{m("normalize-component: cache miss for keys:",i,"and",a);const d=Kt(r,o);if(s(ft(d))){const p=ue(mt,{"reagent-render":d}),b=E([p],o);return m("normalize-component: Form-2, caching with key:",i),k(it,A,i,{type:"form-2",instance:p}),b}else{const v=ue(mt,{"reagent-render":r}),p=E([v],o);return m("normalize-component: Form-1, caching with key:",a),k(it,A,a,{type:"form-1",instance:v}),p}}}else{if(s(Y(e)))return E([A(mt,"reagent-render",(function(){return t}))],n);if(s(W(e))){const r=e,o=l(r,"reagent-render"),c=E({"reagent-render":o},It((function(u){const i=u,a=g(i,0,null),f=g(i,1,null),_=l(r,a),d=s(_)?We(_,f):f;return[a,d]}),mt));return E([c],n)}else return null}}},Zt=function(t){const n=T(t),r=S(n),o=ot(n),c=r,u=o,i=l(c,"reagent-render");m("component->hiccup: calling reagent-render with params:",u);const a=Kt(i,u);return m("component->hiccup: reagent-render returned:",(()=>{const f=a;return f==null?null:f.toString()})()),a},j=(()=>{const t=(function(...e){switch(e.length){case 1:return t.cljs$core$IFn$_invoke$arity$1(e[0]);case 2:return t.cljs$core$IFn$_invoke$arity$2(e[0],e[1]);default:throw new Error(y("Invalid arity: ",e.length))}});return t.cljs$core$IFn$_invoke$arity$1=(function(e){return j(e,st(Z))}),t.cljs$core$IFn$_invoke$arity$2=(function(e,n){m("hiccup->dom called with:",e);const r=s((()=>{const o=Y(e);return s(o)?o:fn(e)})())?document.createTextNode(y(e)):s(q(e))?(()=>{const c=T(e),u=S(c);ot(c);const i=u;if(s(ft(i)))return j(Zt(Vt(e)),n);if(s(q(i))){const a=document.createDocumentFragment();for(let f of h(e)){const d=j(f,n);if(s(d)){const v=d;a.appendChild(v)}}return a}else if(s(i==="<>")){const a=document.createDocumentFragment();for(let f of h(L(e))){const d=j(f,n);if(s(d)){const v=d;a.appendChild(v)}}return a}else return Gn(e,n)})():s(Et(e))?(()=>{const o=document.createDocumentFragment();for(let c of h(e)){const u=c,i=s((()=>{const f=q(u);return s(f)?At(u):f})())?dn(u,At(u)):u,a=j(i,n);if(s(a)){const f=a;o.appendChild(f)}}return o})():s(ft(e))?j(e(),n):s(W(e))?j(l(e,"reagent-render")(),n):s((()=>{const o=e==null;return o||hn(e)})())?null:document.createTextNode(y(e));return m("hiccup->dom returning:",(()=>{const o=r;return o==null?null:o.toString()})()),r}),t.cljs$lang$maxFixedArity=2,t})(),$n=function(t,e){const n=R(t,e);return m("hiccup-eq?:",n),G(n)&&m("hiccup-eq? details: a:",t,"b:",e),n},le=function(t){const e=L(t);return s(W(S(e)))?L(e):e},_e=function(t){const e=Et(t);if(s(e)){const n=G(Y(t));return n&&G(q(t))}else return e},et=function(t){m("fully-render-hiccup called with:",t);const e=t==null?null:s(_e(t))?we(et,t):s(q(t))?(()=>{const n=S(t);if(s(ft(n)))return et(Zt(Vt(t)));{const r=(()=>{const u=t[1];if(s(W(u)))return u})(),o=s(r)?zt(t,2):zt(t,1),c=s(r)?[t[0],r]:[t[0]];return E(c,Tt((function(u,i){const a=et(i);return m("fully-render-hiccup reduce: processing child, processed=",y(a)),a==null?u:s((()=>{const f=q(a);return s(f)?a[0]==="<>":f})())?(m("fully-render-hiccup reduce: unpacking fragment"),E(u,zt(a,1))):s(_e(i))?E(u,a):Dt(u,a)}),[],o))}})():s(W(t))?et(l(t,"reagent-render")()):t;return m("fully-render-hiccup returning:",y(e)),e},te=function(t){if(s(t)){const e=t["---ref-fn"];if(s(e)){const n=e;m("unmount-node-and-children: calling ref-fn for node",y(n)),n(null),t["---ref-fn"]=null}for(let n of h($(t.childNodes)))te(n);return null}},Ne=function(t){if(s(t))return te(t),t.remove()},Qe=function(t,e,n){m("--- patch-children start for dom:",(()=>{const d=n;return d==null?null:d.toString()})());const r=$(V(wt,le(t))),o=$(V(wt,le(e))),c=z($(n.childNodes)),u=vt(r),i=vt(o),a=vt(w(c)),f=Jt(n);m("patch-children: len-a:",u,"len-b:",i,"len-dom:",a),m("patch-children: children-a:",y(r)),m("patch-children: children-b:",y(o));let _=0;for(;;){if(_<_n(u,i)){const d=g(r,_),v=g(o,_),p=g(w(c),_),b=Oe(d,v,p);s(O(p,b))&&k(c,A,_,b),_=_+1;continue}break}if(i>u)for(let d of h(D(u,i))){const p=j(g(o,d),f);if(s(p)){const b=p;n.appendChild(b)}}if(u>i){const d=u-i;let v=0;for(;;){if(v<d){Ne(n.lastChild),v=v+1;continue}break}}},kt=function(t){m("get-attrs called on hiccup:",t);const e=Ve(t);return s(W(e))?e:{}},Mn=function(t,e,n){m("patch-attributes called with hiccup-a:",t,"hiccup-b:",e);const r=kt(t),o=kt(e),c=l(r,"ref"),u=l(o,"ref"),i=n.tagName;m("patch-attributes: a-attrs:",r,"b-attrs:",o),m("patch-attributes: a-ref:",c,"b-ref:",u),m("patch-attributes: about to compare refs. are they equal?",R(c,u),"a-ref:",c,"b-ref:",u),G(R(c,u))&&(m("patch-attributes: refs are different, handling lifecycle"),s(c)&&c(null),s(u)&&u(n),n["---ref-fn"]=u);for(let a of h(r)){const f=a,_=g(f,0,null);g(f,1,null),s((()=>{const d=G(J(o,_));if(d){const v=O(_,"ref");return s(v)?O(_,"xmlns"):v}else return d})())&&(s(_.startsWith("on-"))?n[Bt(_,i)]=null:n.removeAttribute(_))}for(let a of h(o)){const f=a,_=g(f,0,null),d=g(f,1,null);if(s((()=>{const v=O(_,"ref");return s(v)?O(_,"xmlns"):v})())){const v=l(r,_);if(s(_.startsWith("on-")))n[Bt(_,i)]=d;else if(s(O(d,v))&&(m("patch-attributes: updating attribute",_,"from",v,"to",d,"on",y(n)),!s(_==="value")))if(s(_==="class")){const p=s((()=>{const b=ht(d);return s(b)?G(Y(d)):b})())?$(V(wt,d)).join(" "):d;s((()=>{const b=p==null;return b||p===""})())?n.removeAttribute("class"):n.setAttribute("class",p)}else if(s(_==="style")){const p=Ct(d);s(T(p))?n.setAttribute("style",p):n.removeAttribute("style")}else if(s((()=>{const p=_==="checked";return s(p)?p:_==="selected"})()))n[_]=d;else if(d==null)n.removeAttribute(_);else{const p=s(_==="style")?Ct(d):d;n.setAttributeNS(null,_,p)}}}return null},Gt=function(t){return s((()=>{const e=Et(t);return s(e)?t.gen:e})())?we(Gt,t):s((()=>{const e=ht(t);return s(e)?G(Y(t)):e})())?E(ke(t),It(Gt,t)):t},Oe=function(t,e,n){m("patch: hiccup-a-rendered",y(t),"hiccup-b-rendered",y(e),"dom-a",y(n));const r=Gt(t),o=Gt(e),c=$n(r,o);if(m("patch: are-equal is",c,"(type",typeof c,")"),s(c))return m("patch: hiccup is equal, doing nothing"),n;if(s((()=>{const u=G(q(r));if(u)return u;{const i=G(q(o));return i||O(S(r),S(o))}})())){const u=n.parentNode,i=Jt(u),a=j(o,i);return m("patch: replacing node. dom-a:",y(n),"new-node:",y(a)),s(n)&&m("patch: replacing node. dom-a.textContent:",n.textContent,"new-node.textContent:",a.textContent),te(n),n.replaceWith(a),a}else{m("patch: hiccup not equal, patching children and attributes"),Mn(r,o,n),Qe(r,o,n);const u=kt(r),i=kt(o),a=l(i,"value");if(s((()=>{const f=J(i,"value");return s(f)?O(l(u,"value"),a):f})()))if(m("patch: value changed from",l(u,"value"),"to",a,"on",y(n)),s((()=>{const f=n.tagName==="SELECT";return s(f)?n.multiple:f})())){const f=jt(a);for(let _ of h(n.options)){const d=_;d.selected=J(f,d.value)}}else n.value=a;return n}},Rn=function(t){m("modify-dom called for component:",t),Ke(t),I(lt,0);const n=l(w(gt),t),r=l(n,"hiccup"),o=l(n,"dom"),c=l(n,"container"),u=je(t,(function(){return Zt(t)})),i=et(u);if(s((()=>{const a=q(r);return s(a)?S(r)==="<>":a})()))return I(lt,0),Qe(r,i,c),k(gt,A,t,{hiccup:i,dom:o,container:c});{I(lt,0);const a=Oe(r,i,o);if(m("modify-dom: new DOM",y(a)),k(gt,A,t,{hiccup:i,dom:a,container:c}),s(O(o,a)))return m("modify-dom: DOM changed, replacing in container"),c.innerHTML="",c.appendChild(a)}},fe=function(t){m("notify-watchers called with",vt(w(t)),"watchers");for(let e of h(w(t))){const n=e;m("calling watcher");const r=B;try{B=n,n()}finally{B=r}}return null},En=function(t,e){return je(t,(function(){const n=l(S(t),"reagent-render"),r=L(t),o=Kt(n,r),c=j(o,Ot(e));return[o,c]}))},Tn=function(t){const e=l(w(Ft),t);if(s(e)){const n=e;Ke(n);const o=T(n),c=S(o);ot(o),l(c,"component-will-unmount")(n),k(Ft,Wt,t)}I(it,{});for(let n of h($(t.childNodes)))Ne(n);return null},In=function(t,e){Tn(e),I(lt,0);const n=Jt(e),r=En(t,n),o=g(r,0,null),c=g(r,1,null),u=et(o);return e.appendChild(c),k(gt,A,t,{hiccup:u,dom:c,container:e}),k(Ft,A,e,t)},jn=function(t){const e=z(t),n=e._deref,r=e._reset_BANG_,o=y("ratom-",Re());return e["ratom-id"]=o,e.watchers=z(new Set([])),e.cursors=z(new Set([])),e._deref=(function(){return s(B)&&(m("ratom deref: watcher found, adding to set."),k(e.watchers,Dt,B)),n.call(e)}),e._reset_BANG_=(function(c){m("ratom _reset_BANG_ called with",c);const u=r.call(e,c);fe(e.watchers);for(let i of h(w(e.cursors)))fe(i.watchers);return u}),k(Ie,A,o,e),e},Kn=function(t,e){m("render called with component:",t,"and container:",y(e));const n=Vt(t);return m("render: normalized-component is",n),In(n,e)},qt=jn,qe=qt({page:"home"}),Nn=(()=>{const t=(function(...e){switch(e.length){case 0:return t.cljs$core$IFn$_invoke$arity$0();case 1:return t.cljs$core$IFn$_invoke$arity$1(e[0]);default:throw new Error(y("Invalid arity: ",e.length))}});return t.cljs$core$IFn$_invoke$arity$0=(function(){return Math.random()}),t.cljs$core$IFn$_invoke$arity$1=(function(e){return e*Math.random()}),t.cljs$lang$maxFixedArity=1,t})(),ze=function(){return{board:$(cn(9,null)),"x-turn?":!0}},_t=qt(ze()),Le=function(t){return Ge((function(n){const r=n,o=g(r,0,null),c=g(r,1,null),u=g(r,2,null);if(s((()=>{const i=l(t,o);return s(i)?R(l(t,o),l(t,c),l(t,u)):i})()))return l(t,o)}),[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]])},Qn=function(t){const e=w(_t),n=l(e,"board"),r=l(e,"x-turn?"),o=l(n,t);return["div",{style:{width:"60px",height:"60px",border:"1px solid #000",display:"flex","align-items":"center","justify-content":"center","font-size":"24px",cursor:"pointer"},"on-click":(function(){if(s((()=>{const c=o==null;return c&&G(Le(n))})()))return k(_t,bt,"board",A,t,s(r)?"X":"O"),k(_t,bt,"x-turn?",G)})},o]},On=function(){return["div",{style:{display:"grid","grid-template-columns":"repeat(3, 60px)","grid-template-rows":"repeat(3, 60px)",gap:"2px"}},M(function*(){for(let t of h(D(9)))yield[Qn,t]})]},qn=function(){const t=w(_t),e=l(t,"board"),n=l(t,"x-turn?"),r=Le(e);return["div",{style:{"font-family":"sans-serif"}},[On],s(r)?["p",y("Winner: ",r)]:s(un(Q,e))?["p","Draw!"]:["p",y("Next turn: ",s(n)?"X":"O")],["button",{"on-click":(function(){return I(_t,ze())})},"Restart"]]},ct=20,nt=10,St=qt({snake:[[5,10],[4,10],[3,10]],dir:[1,0],food:[15,10],"alive?":!0}),zn=function(){return[ae(ct),ae(ct)]},Ln=function(){return k(St,(function(t){const e=t,n=e,r=l(e,"snake"),o=l(e,"dir"),c=l(e,"food"),u=l(e,"alive?");if(G(u))return n;{const i=$([g(S(r),0)+g(o,0),g(S(r),1)+g(o,1)]),a=R(i,c),f=$(en(i,s(a)?r:ln(r))),_=g(i,0),d=g(i,1),v=(()=>{const b=_<0;if(b)return b;{const C=d<0;if(C)return C;{const tt=_>=ct;return tt||d>=ct}}})(),p=Ge((function(b){return R(i,b)}),L(f));return s(v)||s(p)?A(n,"alive?",!1):s(a)?A(n,"snake",f,"food",zn()):A(n,"snake",f)}}))},de=function(t){const e=t.key;return k(St,bt,"dir",(function(n){switch(e){case"ArrowUp":return s(R(n,[0,1]))?n:[0,-1];case"ArrowDown":return s(R(n,[0,-1]))?n:[0,1];case"ArrowLeft":return s(R(n,[1,0]))?n:[-1,0];case"ArrowRight":return s(R(n,[-1,0]))?n:[1,0];default:return n}}))},he=function(t,e){const n=t,r=g(n,0,null),o=g(n,1,null);return["rect",{x:r*nt,y:o*nt,width:nt,height:nt,fill:e}]},xn=(()=>{const t=Ut(null),e=(function(n){if(console.log("snake-game-board",n),s(n)){if(w(t)==null)return console.log("snake-game-board mount"),I(t,setInterval(Ln,200)),window.addEventListener("keydown",de)}else if(s(w(t)))return console.log("snake-game-board unmount"),clearInterval(w(t)),I(t,null),window.removeEventListener("keydown",de)});return function(){const n=w(St),r=l(n,"snake"),o=l(n,"food"),c=l(n,"alive?");return["div",{ref:e},["svg",{width:ct*nt,height:ct*nt,style:{border:"1px solid black",background:"#eef"}},M(function*(){for(let u of h(r))yield[he,u,"green"]}),[he,o,"red"],G(c)?["text",{x:50,y:100,"font-size":20,fill:"black"},"Game Over!"]:null],["p",["button",{"on-click":(function(){return I(St,{snake:[[5,10],[4,10],[3,10]],dir:[1,0],food:[15,10],"alive?":!0})})},"Restart"]]]}})(),N=30,rt=15,xe=function(){return $(M(function*(){for(let t of h(D(N)))yield $(M(function*(){for(let e of h(D(N)))yield Nn()<.2?1:0}))}))},yt=qt({grid:xe(),"running?":!0}),Fn=function(t,e,n){return Tt((function(o,c){const u=c,i=g(u,0,null),a=g(u,1,null),f=e+i,_=n+a;return s((()=>{const d=f>=0;if(d){const v=f<N;if(v){const p=_>=0;return p&&_<N}else return v}else return d})())?o+g(g(t,_),f):o}),0,[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]])},Cn=function(t){return $(M(function*(){for(let e of h(D(N))){const n=e;yield $(M(function*(){for(let r of h(D(N))){const o=r;yield(()=>{const c=g(g(t,n),o)===1,u=Fn(t,o,n);return s((()=>{const i=c;if(s(i)){const a=u===2;return s(a)?a:u===3}else return i})())||s((()=>{const i=G(c);return i&&u===3})())?1:0})()}}))}}))},Bn=function(){return k(yt,(function(t){const e=t,n=e,r=l(e,"grid"),o=l(e,"running?");return s(o)?A(n,"grid",Cn(r)):n}))},Pn=function(t,e,n){return["rect",{x:t*rt,y:e*rt,width:rt,height:rt,fill:s(n===1)?"black":"white",stroke:"#ddd"}]},Dn=(()=>{const t=Ut(null),e=(function(n){if(s(n)){if(w(t)==null)return I(t,setInterval(Bn,200))}else if(s(w(t)))return clearInterval(w(t)),I(t,null)});return function(){const n=w(yt),r=l(n,"grid"),o=l(n,"running?");return["div",{ref:e},["svg",{width:N*rt,height:N*rt,style:{border:"1px solid black"}},M(function*(){for(let c of h(D(N))){const u=c;for(let i of h(D(N))){const a=i;yield[Pn,a,u,g(g(r,u),a)]}}}),G(o)?["text",{x:50,y:50,fill:"red","font-size":20},"Paused"]:null],["p",["button",{"on-click":(function(){return k(yt,bt,"running?",G)})},s(o)?"Pause":"Resume"],["button",{"on-click":(function(){return k(yt,A,"grid",xe())})},"Randomize"]]]}})(),pt=function(t,e){return["a",{href:"#",class:"nav-link","on-click":(function(n){return n.preventDefault(),k(qe,A,"page",t)})},e]},Wn=function(){return["div",["h1","Games"],["p","Some games implemented with Eucalypt."]]},Yn=function(){const t=l(w(qe),"page");return["div",["nav",[pt,"home","Home"],[pt,"tic-tac-toe","Tic Tac Toe"],[pt,"snake","Snake"],[pt,"game-of-life","Game of Life"]],["hr"],(()=>{switch(t){case"home":return[Wn];case"tic-tac-toe":return[qn];case"snake":return[xn];case"game-of-life":return[Dn];default:return["div","Page not found"]}})()]};Kn([Yn],document.getElementById("app"));</script>
  <style rel="stylesheet" crossorigin>body{font-family:sans-serif;background-color:#f0f0f0;color:#333}div#app{max-width:800px;margin:2rem auto;padding:2rem;background-color:#fff;border-radius:8px;box-shadow:0 4px 6px #0000001a}h1{color:#111}a{color:#007bff;text-decoration:none}a:hover{text-decoration:underline}button{padding:10px 15px;font-size:1rem;border-radius:5px;border:1px solid #ccc;cursor:pointer;background-color:#eee}button:hover{background-color:#ddd}.nav-link{margin-right:.5em}.nav-link+.nav-link{border-left:2px solid #ccc;padding-left:.5em}.slider{width:100%}.text-red{color:red}.separator{margin:1rem 0}.color-orange{color:orange}.color-red{color:red}#todo-list .view{display:flex;justify-content:start;align-items:center;border-bottom:1px solid silver}#todo-list .view label{flex-grow:1;margin-left:.5em}</style>
</head>
<body>
    <div id="app"><div class="loader"></div></div>
</body>
</html>
