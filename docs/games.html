<!DOCTYPE html>
<html lang="en">
<head>
    <title>Eucalypt</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
  <script type="module">function $(t){if(t==null||t instanceof Function)return t;const e=typeof t;return e==="string"?(n,r)=>_(n,t,r):e==="object"?(n,r)=>_(t,n,r):t}function Le(t,e,n,...r){if(r.length%2!==0)throw new Error("Illegal argument: assoc expects an odd number of arguments.");switch(P(t)){case L:t.set(e,n);for(let o=0;o<r.length;o+=2)t.set(r[o],r[o+1]);break;case W:case J:t[e]=n;for(let o=0;o<r.length;o+=2)t[r[o]]=r[o+1];break;default:throw new Error(`Illegal argument: assoc! expects a Map, Array, or Object as the first argument, but got ${typeof t}.`)}return t}function St(t){switch(P(t)){case L:return new Map(t);case z:return new t.constructor(t);case W:return[...t];case J:return{...t};default:throw new Error(`Don't know how to copy object of type ${typeof t}.`)}}function j(t,e,n,...r){t||(t={});const o=St(t);return Le(o,e,n,...r),o}const L=1,W=2,J=3,Gt=4,z=5,Ct=6;function Pe(t){switch(t){case L:return new Map;case W:return[];case J:return{};case Gt:return new It;case z:return new Set;case Ct:return S(function*(){})}}function Ot(t){return t.constructor===Object}function Ce(t){return t!=null&&Ot(t)}function P(t){if(t!=null){if(Ot(t))return J;if(t instanceof Map)return L;if(t instanceof Set)return z;if(t instanceof It)return Gt;if(Array.isArray(t))return W;if(t instanceof Wt)return Ct;if(t instanceof Et)return z;if(t instanceof Object)return J}}function Fe(...t){if(t=t.map($),t.length===0)return at;if(t.length===1)return t[0];const[e,...n]=t.slice().reverse();return function(...r){let o=e(...r);for(const s of n)o=s(o);return o}}function de(t,e){for(const n of e)t.add(n);return t}function he(...t){if(t.length===0)return ye();const[e,...n]=t;let r=e;switch(r==null&&(r=[]),P(r)){case z:de(r,n);break;case Gt:r.unshift(...n.reverse());break;case W:r.push(...n);break;case L:for(const o of n)Array.isArray(o)?r.set(o[0],o[1]):m(o).forEach(s=>{r.set(s[0],s[1])});break;case J:for(const o of n)Array.isArray(o)?r[o[0]]=o[1]:Object.assign(r,o);break;default:throw new Error("Illegal argument: conj! expects a Set, Array, List, Map, or Object as the first argument.")}return r}function Ft(...t){if(t.length===0)return ye();const[e,...n]=t;let r=e;r==null&&(r=tn());let o,s;switch(P(r)){case z:return r instanceof Et?de(new r.constructor(r),n):new r.constructor([...r,...n]);case Gt:return new It(...n.reverse(),...r);case W:return[...r,...n];case L:o=new Map(r);for(const c of n)Array.isArray(c)?o.set(c[0],c[1]):m(c).forEach(i=>{o.set(i[0],i[1])});return o;case Ct:return S(function*(){yield*n,yield*r});case J:s={...r};for(const c of n)Array.isArray(c)?s[c[0]]=c[1]:Object.assign(s,c);return s;default:throw new Error("Illegal argument: conj expects a Set, Array, List, Map, or Object as the first argument.")}}function ht(t,e){switch(P(t)){case z:case L:return t.has(e);case void 0:return!1;default:return e in t}}function zt(t,...e){if(e.length===0)return t;const n=St(t);switch(P(t)){case L:for(const r of e)n.delete(r);break;default:for(const r of e)delete n[r];break}return n}function ze(t){return t+1}function g(t,e,n){if(t){var r=void 0;if(Array.isArray(t))r=t[e];else{const o=m(t);let s=0;for(const c of o)if(s++==e){r=c;break}}if(r!==void 0)return r}return n}function _(t,e,n=void 0){if(t==null)return n;let r;if(Ot(t))return r=t[e],r===void 0?n:r;let o;switch(P(t)){case z:t.has(e)&&(r=e);break;case L:r=t.get(e);break;case W:r=t[e];break;default:if(o=t.get,o instanceof Function)try{r=t.get(e);break}catch{}r=t[e];break}return r!==void 0?r:n}function Ut(t){return t!=null&&!!t[Symbol.iterator]}const tt=Ut;function Ue(t){return t==null||!!t[Symbol.iterator]}function m(t){if(t==null)return[];if(Ue(t))return t;if(t instanceof Object)return Object.entries(t);throw new TypeError(`${t} is not iterable`)}const me=Symbol("Iterable"),De=Symbol.iterator;function pe(t){return t[Symbol.iterator]()}const We=pe;function M(t){if(t==null)return t;const e=m(t);return e.length===0||e.size===0||e[Symbol.iterator]().next().done?null:e}function w(t){const[e]=m(t);return e}function qt(t){const[e,n]=m(t);return n}function K(t){return S(function*(){let e=!0;for(const n of m(t))e?e=!1:yield n})}class ee{value;constructor(e){this.value=e}_deref(){return this.value}}function Dt(t,e,n){t=$(t);let r,o;if(arguments.length===2){const s=m(e)[Symbol.iterator](),c=s.next();c.done?o=t():o=c.value,r=s}else o=e,r=m(n);if(o instanceof ee)return o.value;for(const s of r)if(o=t(o,s),o instanceof ee){o=o.value;break}return o}var Ye=!1;class Wt{constructor(e){this.gen=e,this.usages=0}[Symbol.iterator](){return this.usages++,this.usages>=2,this.gen()}}Wt.prototype[me]=!0;function S(t){return new Wt(t)}class Xe{constructor(e,n){this.x=e,this.coll=n}*[Symbol.iterator](){yield this.x,yield*m(this.coll)}}function He(t,e){return new Xe(t,e)}function Mt(t,...e){switch(t=$(t),e.length){case 0:return n=>(...r)=>{switch(r.length){case 0:return n();case 1:return n(r[0]);case 2:return n(r[0],t(r[1]));default:return n(r[0],t(...r.slice(1)))}};case 1:return S(function*(){for(const n of m(e[0]))yield t(n)});default:return S(function*(){const n=e.map(r=>We(m(r)));for(;;){const r=[];for(const o of n){const s=o.next();if(s.done)return;r.push(s.value)}yield t(...r)}})}}function ge(t){return e=>(...n)=>{switch(n.length){case 0:return e();case 1:return e(n[0]);case 2:{const r=n[0],o=n[1];return u(t(o))?e(r,o):r}}}}function Je(t,e){return arguments.length===1?ge(t):(t=$(t),S(function*(){for(const n of m(e))u(t(n))&&(yield n)}))}function Z(t,e){return arguments.length===1?ge(ne(t)):Je(ne(t),e)}function R(...t){return t.join("")}function k(t){return!u(t)}function wt(t){return t==null}class Ze{constructor(e){this.val=e,this._watches={},this._deref=()=>this.val,this._hasWatches=!1,this._reset_BANG_=n=>{const r=this.val;if(this.val=n,this._hasWatches)for(const o of Object.entries(this._watches)){const s=o[0],c=o[1];c(s,this,r,n)}return n},this._add_watch=(n,r)=>{this._watches[n]=r,this._hasWatches=!0},this._remove_watch=n=>{delete this._watches[n]}}}function Ve(t){return new Ze(t)}function v(t){return t._deref()}function G(t,e){t._reset_BANG_(e)}function b(t,e,...n){e=$(e);const r=e(v(t),...n);return G(t,r),r}function U(t,e,n){return S(function*(){let r=t,o=e,s=n;e===void 0&&(r=0,o=t);let c=r||0;s=1;const i=s>=0;for(;o===void 0||i&&c<o||!i&&o<c;)yield c,c+=s})}function ye(...t){return t}function N(t){return P(t)===W}function Qt(...t){if(t.length===2){const[r,o]=t,s=m(o);if(Array.isArray(s)){const c=new Array(s.length);for(var e=0;e<s.length;e++)c[e]=r(s[e]);return c}else{var n=[];for(const c of s)n.push(r(c));return n}}return[...Mt(...t)]}function T(t){return en(t)?t:[...m(t)]}function Rt(t){return new Set(m(t))}const ve=Symbol("IApply__apply");function $t(t,...e){t=$(t);const n=e.slice(0,e.length-1),r=m(e[e.length-1]),o=t[ve];return o?o(...n,r):t(...n,...r)}function ne(t){return t=$(t),(...e)=>k(t(...e))}class It extends Array{constructor(...e){super(),this.push(...e)}}function tn(...t){return new It(...t)}function en(t){return Array.isArray(t)}function we(t){return S(function*(){for(const e of t)yield*m(e)})}function Yt(...t){return we(t)}Yt[ve]=t=>we(t);function at(t){return t}function be(t){const e=P(t);if(e!=null)return Pe(e);throw new Error(`Can't create empty of ${typeof t}`)}function re(...t){const e=t[0];let n;return e==null?n={}:n=O(be(e),e),he(n,...t.slice(1))}function O(...t){let e,n,r,o,s;switch(t.length){case 0:return[];case 1:return t[0];case 2:return Ft(t[0]??[],...m(t[1]));case 3:return e=t[0],n=t[1],r=t[2],o=St(e),s=(c,i)=>i===void 0?c:he(c,i),Te(n,s,o,r);default:throw TypeError(`Invalid arity call of into: ${t.length}`)}}function nn(...t){if(t.length==0||t.length>2)throw new Error(`Invalid arity: ${t.length}`);return{[me]:!0,[De]:t.length==1?function*(){const e=t[0];for(;;)yield e}:function*(){const[e,n]=t;for(var r=0;r<e;r++)yield n}}}function rn(t){return e=>{let n=t;return(...r)=>{const o=r.length;if(o===0)return e();if(o===1)return e(r[0]);if(o===2){const s=r[0],c=r[1],i=n;return n--,i>0?s:e(s,c)}}}}function on(t,e){return arguments.length===1?rn(t):S(function*(){const n=pe(m(e));for(let r=0;r<t;r++)n.next();yield*n})}function bt(t,e,n,...r){return n=$(n),j(t,e,n(_(t,e),...r))}function Ae(t,e){t=$(t);for(const n of m(e))if(!t(n))return!1;return!0}function sn(t,e){return arguments.length===1&&(e=t,t=void 0),t=$(t),e=m(e),[...e].sort(t||Xt)}function je(t,e){t=$(t);for(const n of m(e)){const r=t(n);if(u(r))return r}}function Bt(t){return!M(t)}function oe(t){return Math.floor(Math.random()*t)}function cn(t){const e=[...m(t)];return e.pop(),e.length>0?e:null}function gt(t){if(!t)return 0;const e=t.length||t.size;if(typeof e=="number")return e;let n=0;for(const r of m(t))n++;return n}function Q(t){return t!=null}function un(t,e,...n){return e==null?t:Math.min(t,e,...n)}function D(t){return t==null?!1:!!(Ot(t)||t instanceof Map)}function V(t){if(Array.isArray(t)){const e=t.slice(1);return e.length>0?e:null}else return M(K(t))}function Xt(t,e){if(t===e)return 0;{if(t==null)return-1;if(e==null)return 1;const n=typeof t,r=typeof e;if(n==="number"&&r==="number"||n==="string"&&r==="string")return t===e?0:t<e?-1:1;if(Array.isArray(t)&&Array.isArray(e)){if(t.length<e.length)return-1;if(t.length>e.length)return 1;for(let o=0;o<t.length;o++){let s=Xt(t[o],e[o]);if(s!=0)return s}return 0}else throw new Error(`comparing ${n} to ${r}`)}}function u(t){return t!=null&&t!==!1}function st(t){return typeof t=="function"}function an(t){return typeof t=="number"}function q(t){return typeof t=="string"}const ke=Symbol("meta");function At(t){return t instanceof Object?t[ke]:null}function ln(t,e){const n=St(t);return n[ke]=e,n}function fn(t){return t===!0||t===!1}function Te(t,...e){switch(e.length){case 2:{const n=e[0],r=e[1];return Te(t,n,n(),r)}default:{let n=e[0];const r=e[1],o=e[2];n=t(n);const s=Dt(n,r,o);return n(s)}}}class Et{constructor(e){e instanceof Et||(e=sn(e));const r=new Set(e);this._elts=[...r],this._set=r}add(e){if(this._set.has(e))return this;const n=this._elts;let r=!1;for(let o=0;o<n.length;o++)if(Xt(e,n[o])<=0){n.splice(o,0,e),r=!0;break}return r?this._set=new Set(n):(n.push(e),this._set.add(e)),this.size=n.length,this}delete(e){if(!this._set.has(e))return this;const n=this._elts,r=n.indexOf(e);return n.splice(r,1),this._set=new Set(n),this.size=n.length,this}has(e){return this._set.has(e)}keys(){return this.values()}values(){return this._elts[Symbol.iterator]()}entries(){return this._set.entries()}forEach(...e){return this.set.forEach(...e)}clear(){this._elts=[],this._set=new Set(this._elts)}[Symbol.iterator](){return this.keys()}}function Se(){return crypto.randomUUID()}function B(t,e,...n){if(e===void 0||t===e)return!1;for(const r of n)if(t===r)return!1;return!0}function _n(){}function se(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function ce(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const dn="[object RegExp]",hn="[object String]",mn="[object Number]",pn="[object Boolean]",ue="[object Arguments]",gn="[object Symbol]",yn="[object Date]",vn="[object Map]",wn="[object Set]",bn="[object Array]",An="[object Function]",jn="[object ArrayBuffer]",Nt="[object Object]",kn="[object Error]",Tn="[object DataView]",Sn="[object Uint8Array]",Gn="[object Uint8ClampedArray]",On="[object Uint16Array]",Mn="[object Uint32Array]",Rn="[object BigUint64Array]",$n="[object Int8Array]",In="[object Int16Array]",En="[object Int32Array]",Nn="[object BigInt64Array]",Kn="[object Float32Array]",qn="[object Float64Array]";function ie(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function Qn(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function Bn(t,e,n){return lt(t,e,void 0,void 0,void 0,void 0,n)}function lt(t,e,n,r,o,s,c){const i=c(t,e,n,r,o,s);if(i!==void 0)return i;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return _t(t,e,s,c)}return _t(t,e,s,c)}function _t(t,e,n,r){if(Object.is(t,e))return!0;let o=ce(t),s=ce(e);if(o===ue&&(o=Nt),s===ue&&(s=Nt),o!==s)return!1;switch(o){case hn:return t.toString()===e.toString();case mn:{const a=t.valueOf(),l=e.valueOf();return Qn(a,l)}case pn:case yn:case gn:return Object.is(t.valueOf(),e.valueOf());case dn:return t.source===e.source&&t.flags===e.flags;case An:return t===e}n=n??new Map;const c=n.get(t),i=n.get(e);if(c!=null&&i!=null)return c===e;n.set(t,e),n.set(e,t);try{switch(o){case vn:{if(t.size!==e.size)return!1;for(const[a,l]of t.entries())if(!e.has(a)||!lt(l,e.get(a),a,t,e,n,r))return!1;return!0}case wn:{if(t.size!==e.size)return!1;const a=Array.from(t.values()),l=Array.from(e.values());for(let f=0;f<a.length;f++){const d=a[f],p=l.findIndex(y=>lt(d,y,void 0,t,e,n,r));if(p===-1)return!1;l.splice(p,1)}return!0}case bn:case Sn:case Gn:case On:case Mn:case Rn:case $n:case In:case En:case Nn:case Kn:case qn:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let a=0;a<t.length;a++)if(!lt(t[a],e[a],a,t,e,n,r))return!1;return!0}case jn:return t.byteLength!==e.byteLength?!1:_t(new Uint8Array(t),new Uint8Array(e),n,r);case Tn:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:_t(new Uint8Array(t),new Uint8Array(e),n,r);case kn:return t.name===e.name&&t.message===e.message;case Nt:{if(!(_t(t.constructor,e.constructor,n,r)||ie(t)&&ie(e)))return!1;const l=[...Object.keys(t),...se(t)],f=[...Object.keys(e),...se(e)];if(l.length!==f.length)return!1;for(let d=0;d<l.length;d++){const p=l[d],y=t[p];if(!Object.hasOwn(e,p))return!1;const A=e[p];if(!lt(y,A,p,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function H(t,e){return Bn(t,e,_n)}var x=Ve,h=(()=>{const t=(function(e){const n=[],r=arguments.length;let o=0;for(;;){if(o<r){n.push(arguments[o]),o=o+1;continue}break}const s=0<n.length?n.slice(0):null;return t.cljs$core$IFn$_invoke$arity$variadic(s)});return t.cljs$core$IFn$_invoke$arity$variadic=(function(e){return(()=>{try{if(localStorage.getItem("debug")==="eucalypt:*")return console.log.apply(console,e)}catch{return null}})()}),t.cljs$lang$maxFixedArity=0,t})();h("eucalypt.cljs loading...");var xn=function(t,e){return t["---meta"]=e,t},Ge=function(t){return t["---meta"]},Ln=function(t){const e=K(t);for(let n of m(e)){const r=n;if(u((()=>{const o=Ce(r);return u(o)?r.watchers:o})())){const o=r.watchers;for(let s of m(v(o))){const c=s;_(Ge(c),"normalized-component")===t&&b(o,(function(i){return Rt(Z((function(a){return c===a}),i))}))}}}return null},F=null,Kt="http://www.w3.org/1999/xhtml",mt={"get-initial-state":(function(t){return null}),"component-will-receive-props":at,"should-component-update":at,"component-will-update":at,"component-did-update":at,"component-will-unmount":Ln},yt=x({}),xt=x({}),ft=x({}),ot=x(0),Oe=x({}),Me=function(t,e){const n=F;return(()=>{try{return F=xn((function(){return Xn(t)}),{"normalized-component":t}),e()}finally{F=n}})()},Re=function(t){for(let e of m(v(Oe))){const n=e;g(n,0,null);const o=g(n,1,null).watchers;u(o)&&b(o,(function(c){return Rt(Z((function(i){return _(Ge(i),"normalized-component")===t}),c))}))}return null},$e=function(t){return $t(R,Mt((function(e){const n=e,r=g(n,0,null),o=g(n,1,null);return R(r,":",o,";")}),t))},Pn={"on-double-click":"ondblclick"},Lt=function(t,e){return u((()=>{const n=t==="on-change";return n&&_(new Set(["INPUT","TEXTAREA"]),e)})())?"oninput":_(Pn,t,t.replaceAll("-",""))},Cn=function(t,e){for(let n of m(e)){const r=n,o=g(r,0,null),s=g(r,1,null);if(o!=="xmlns")if(o==="ref")u(Q(s))&&(t["---ref-fn"]=s,s(t));else if(u(o.startsWith("on-"))){if(u(Q(s))){const c=Lt(o,t.tagName);t[c]=s}}else if(o==="style")u(Q(s))&&(t.style=$e(s));else if(o==="class"){const c=u((()=>{const i=tt(s);return u(i)?k(q(s)):i})())?T(Z(wt,s)).join(" "):s;u((()=>{const i=c==null;return i||c===""})())?t.removeAttribute("class"):t.setAttribute("class",c)}else u((()=>{const c=o==="checked";return c||o==="selected"})())?u(Q(s))&&(t[o]=s):u(Q(s))&&t.setAttributeNS(null,o,s)}return null},Fn=function(t){const n=R(t).split("#",2),r=g(n,0,null),o=g(n,1,null),s=r.split(/\./),c=M(s),i=w(c),a=V(c),l=i,f=a,d=u(Bt(l))?"div":l,p=u(o)?o.split(/\./):[],y=M(p),A=w(y),Y=V(y),et=A,X=T(Z(Bt,Yt(f,Y)));return{"tag-name":d,id:et,classes:u(M(X))?X:null}},zn=function(t){const n=M(t),r=w(n),o=V(n),s=r,c=o,i=Fn(s),a=_(i,"tag-name"),l=_(i,"id"),f=_(i,"classes"),d=u(D(w(c)))?w(c):{},p=(()=>{const X=_(d,"id");return u(X)?X:l})(),y=_(d,"class"),A=(()=>{const X=(()=>{const it=f;return u(it)?it:[]})(),xe=y==null?[]:u(q(y))?[y]:u((()=>{const it=tt(y);return u(it)?k(q(y)):it})())?T(y):[y],te=T(Yt(X,xe));if(u(M(te)))return te})(),Y=u(p)?j(d,"id",p):d,et=u(Q(A))?j(Y,"class",A):zt(Y,"class"),Vt=u(D(w(c)))?K(c):c;return{"tag-name":a,attrs:et,content:Vt}},Un=function(t){const e=zn(t),n=_(e,"tag-name"),r=_(e,"attrs"),o=_(e,"content"),s=_(r,"value"),c=zt(r,"value"),i=Kt,a=n==="svg"?"http://www.w3.org/2000/svg":i,l=document.createElementNS(a,n);return(()=>{try{Kt=a,Cn(l,c);for(let f of m(o)){const p=I(f);if(u(p)){const y=p;l.appendChild(y)}}if(u(Q(s)))if(u((()=>{const f=l.tagName==="SELECT";return f&&l.multiple})())){const f=Rt(s);for(let d of m(l.options)){const p=d;p.selected=ht(f,p.value)}}else l.value=s;return l}finally{Kt=i}})()},Dn=function(t){const e=t._eucalypt_id;if(u(e))return e;{const n=R("fn_",Se());return t._eucalypt_id=n,n}},Ht=function(t){if(h("normalize-component called with:",t),h("normalize-component: component metadata:",At(t)),u(tt(t))){const e=w(t),n=K(t);if(u(st(e))){const r=e,o=T(n),s=At(t),c=Dn(r),i=u(ht(s,"key"))?R(c,"_key_",_(s,"key")):R(c,"_pos_",b(ot,ze)),a=c,l=_(v(ft),i),f=_(v(ft),a);if(u(l))return h("normalize-component: using cached instance for key:",i),O([_(l,"instance")],o);if(u(f))return h("normalize-component: using cached shared for key:",a),O([_(f,"instance")],o);{h("normalize-component: cache miss for keys:",i,"and",a);const d=$t(r,o);if(u(st(d))){const y=re(mt,{"reagent-render":d}),A=O([y],o);return h("normalize-component: Form-2, caching with key:",i),b(ft,j,i,{type:"form-2",instance:y}),A}else{const p=re(mt,{"reagent-render":r}),y=O([p],o);return h("normalize-component: Form-1, caching with key:",a),b(ft,j,a,{type:"form-1",instance:p}),y}}}else{if(u(q(e)))return O([j(mt,"reagent-render",(function(){return t}))],n);if(u(D(e))){const r=e,o=_(r,"reagent-render"),s=O({"reagent-render":o},Mt((function(c){const i=c,a=g(i,0,null),l=g(i,1,null),f=_(r,a),d=u(f)?Fe(f,l):l;return[a,d]}),mt));return O([s],n)}else return null}}},Jt=function(t){const n=M(t),r=w(n),o=V(n),s=r,c=o,i=_(s,"reagent-render");h("component->hiccup: calling reagent-render with params:",c);const a=$t(i,c);return h("component->hiccup: reagent-render returned:",a),a},I=function(t){h("hiccup->dom called with:",t);const e=u((()=>{const n=q(t);return u(n)?n:an(t)})())?document.createTextNode(R(t)):u(N(t))?(()=>{const r=M(t),o=w(r);V(r);const s=o;if(u(st(s)))return I(Jt(Ht(t)));if(u(N(s))){const c=document.createDocumentFragment();for(let i of m(t)){const l=I(i);if(u(l)){const f=l;c.appendChild(f)}}return c}else if(s==="<>"){const c=document.createDocumentFragment();for(let i of m(K(t))){const l=I(i);if(u(l)){const f=l;c.appendChild(f)}}return c}else return Un(t)})():u(Ut(t))?(()=>{const n=document.createDocumentFragment();for(let r of m(t)){const o=r,s=u((()=>{const i=N(o);return u(i)?At(o):i})())?ln(o,At(o)):o,c=I(s);if(u(c)){const i=c;n.appendChild(i)}}return n})():u(st(t))?I(t()):u(D(t))?I(_(t,"reagent-render")()):u((()=>{const n=t==null;return n||fn(t)})())?null:document.createTextNode(R(t));return h("hiccup->dom returning:",e),e},Wn=function(t,e){const n=H(t,e);return h("hiccup-eq?:",n),k(n)&&h("hiccup-eq? details: a:",t,"b:",e),n},ae=function(t){h("is-sequence-of-hiccup-elements? checking:",t);const e=(()=>{const n=tt(t);if(u(n)){const r=k(q(t));if(r){const o=M(t);return u(o)?Ae((function(s){const c=s==null;return c||N(s)}),t):o}else return r}else return n})();return h("is-sequence-of-hiccup-elements? result:",e),e},Pt=function(t){const e=K(t);return u(D(w(e)))?K(e):e},C=function(t){h("fully-render-hiccup called with:",t);const e=t==null?null:u(st(t))?C(t()):u(ae(t))||u((()=>{const n=Q(t[Symbol.iterator]);if(u(n)){const r=k(N(t));return r&&k(q(t))}else return n})())?Qt(C,t):u(N(t))?(()=>{const n=w(t);if(u(st(n)))return C(Jt(Ht(t)));{const r=u(D(qt(t)))?qt(t):null,o=u(r)?on(2,t):K(t),s=u(r)?[w(t),r]:[w(t)];return O(s,Dt((function(c,i){const a=C(i);if(h("fully-render-hiccup reduce: processing child, processed=",a),u((()=>{const l=tt(a);if(u(l)){const f=k(q(a));return f&&Bt(a)}else return l})()))return c;{const l=ae(a);return h("fully-render-hiccup reduce: is-sequence-of-hiccup-elements?=",l),u((()=>{const f=N(a);return u(f)?w(a)==="<>":f})())?(h("fully-render-hiccup reduce: unpacking fragment"),O(c,Pt(a))):u(l)?(h("fully-render-hiccup reduce: unpacking sequence of hiccup elements"),O(c,a)):(h("fully-render-hiccup reduce: appending single child"),Ft(c,a))}}),[],o))}})():u(D(t))?C(_(t,"reagent-render")()):t;return h("fully-render-hiccup returning:",e),e},Zt=function(t){if(u(t)){const e=t["---ref-fn"];if(u(e)){const n=e;h("unmount-node-and-children: calling ref-fn for node",t),n(null),t["---ref-fn"]=null}for(let n of m(T(t.childNodes)))Zt(n);return null}},Ie=function(t){if(u(t))return Zt(t),t.remove()},Ee=function(t,e,n){h("--- patch-children start for dom:",n.toString());const r=T(Z(wt,Pt(t))),o=T(Z(wt,Pt(e))),s=x(T(n.childNodes)),c=gt(r),i=gt(o),a=gt(v(s));h("patch-children: len-a:",c,"len-b:",i,"len-dom:",a),h("patch-children: children-a:",r),h("patch-children: children-b:",o);let l=0;for(;;){if(l<un(c,i)){const f=g(r,l),d=g(o,l),p=g(v(s),l),y=Ne(f,d,p);u(B(p,y))&&b(s,j,l,y),l=l+1;continue}break}if(i>c)for(let f of m(U(c,i))){const d=f;n.appendChild(I(g(o,d)))}if(c>i){const f=c-i;let d=0;for(;;){if(d<f){Ie(n.lastChild),d=d+1;continue}break}}},jt=function(t){h("get-attrs called on hiccup:",t);const e=qt(t);return u(D(e))?e:{}},Yn=function(t,e,n){h("patch-attributes called with hiccup-a:",t,"hiccup-b:",e);const r=jt(t),o=jt(e),s=_(r,"ref"),c=_(o,"ref"),i=n.tagName;h("patch-attributes: a-attrs:",r,"b-attrs:",o),h("patch-attributes: a-ref:",s,"b-ref:",c),h("patch-attributes: about to compare refs. are they equal?",s===c,"a-ref:",s,"b-ref:",c),s!==c&&(h("patch-attributes: refs are different, handling lifecycle"),u(s)&&s(null),u(c)&&c(n),n["---ref-fn"]=c);for(let a of m(r)){const l=a,f=g(l,0,null);g(l,1,null),u((()=>{const d=k(ht(o,f));if(d){const p=B(f,"ref");return u(p)?B(f,"xmlns"):p}else return d})())&&(u(f.startsWith("on-"))?n[Lt(f,i)]=null:n.removeAttribute(f))}for(let a of m(o)){const l=a,f=g(l,0,null),d=g(l,1,null);if(u((()=>{const p=B(f,"ref");return u(p)?B(f,"xmlns"):p})())){const p=_(r,f);if(u(f.startsWith("on-")))n[Lt(f,i)]=d;else if(u(B(d,p))&&(h("patch-attributes: updating attribute",f,"from",p,"to",d,"on",n),f!=="value"))if(f==="class"){const y=u((()=>{const A=tt(d);return u(A)?k(q(d)):A})())?T(Z(wt,d)).join(" "):d;u((()=>{const A=y==null;return A||y===""})())?n.removeAttribute("class"):n.setAttribute("class",y)}else if(u((()=>{const y=f==="checked";return y||f==="selected"})()))n[f]=d;else if(d==null)n.removeAttribute(f);else{const y=f==="style"?$e(d):d;n.setAttributeNS(null,f,y)}}}return null},kt=function(t){return u((()=>{const e=Ut(t);return u(e)?t.gen:e})())?Qt(kt,t):u((()=>{const e=tt(t);return u(e)?k(q(t)):e})())?O(be(t),Mt(kt,t)):t},Ne=function(t,e,n){h("patch: hiccup-a-rendered",t,"hiccup-b-rendered",e,"dom-a",n.toString());const r=kt(t),o=kt(e),s=Wn(r,o);if(h("patch: are-equal is",s,"(type",typeof s,")"),u(s))return h("patch: hiccup is equal, doing nothing"),n;if(u((()=>{const c=k(N(r));if(c)return c;{const i=k(N(o));return i||B(w(r),w(o))}})())){const c=I(o);return h("patch: replacing node. dom-a:",n,"new-node:",c),u(n)&&h("patch: replacing node. dom-a.textContent:",n.textContent,"new-node.textContent:",c.textContent),Zt(n),n.replaceWith(c),c}else{h("patch: hiccup not equal, patching children and attributes"),Yn(r,o,n),Ee(r,o,n);const c=jt(r),i=jt(o),a=_(i,"value");if(u((()=>{const l=ht(i,"value");return u(l)?B(_(c,"value"),a):l})()))if(h("patch: value changed from",_(c,"value"),"to",a,"on",n),u((()=>{const l=n.tagName==="SELECT";return l&&n.multiple})())){const l=Rt(a);for(let f of m(n.options)){const d=f;d.selected=ht(l,d.value)}}else n.value=a;return n}},Xn=function(t){h("modify-dom called for component:",t),Re(t),G(ot,0);const e=_(v(yt),t);h("modify-dom: mounted-info from cache:",e);const n=e,r=_(n,"hiccup"),o=_(n,"dom"),s=_(n,"container"),c=Me(t,(function(){return Jt(t)})),i=C(c);if(u((()=>{const a=N(r);return u(a)?w(r)==="<>":a})()))return G(ot,0),Ee(r,i,s),b(yt,j,t,{hiccup:i,dom:o,container:s});{G(ot,0);const a=Ne(r,i,o);if(h("modify-dom: new DOM",a),b(yt,j,t,{hiccup:i,dom:a,container:s}),u(B(o,a)))return h("modify-dom: DOM changed, replacing in container"),s.innerHTML="",s.appendChild(a)}},le=function(t){h("notify-watchers called with",gt(v(t)),"watchers");for(let e of m(v(t))){const n=e;h("calling watcher");const r=F;try{F=n,n()}finally{F=r}}return null},Hn=function(t){return Me(t,(function(){const e=_(w(t),"reagent-render"),n=K(t),r=$t(e,n),o=I(r);return[r,o]}))},Jn=function(t){const e=_(v(xt),t);if(u(e)){const n=e;Re(n);const o=M(n),s=w(o);V(o),_(s,"component-will-unmount")(n),b(xt,zt,t)}G(ft,{});for(let n of m(T(t.childNodes)))Ie(n);return null},Zn=function(t,e){Jn(e),G(ot,0);const r=M(t),o=w(r);V(r),_(o,"_reagent-render");const c=Hn(t),i=g(c,0,null),a=g(c,1,null);G(ot,0);const l=C(i);return e.appendChild(a),b(yt,j,t,{hiccup:l,dom:a,container:e}),b(xt,j,e,t)},Vn=function(t){const e=x(t),n=e._deref,r=e._reset_BANG_,o=R("ratom-",Se());return e["ratom-id"]=o,e.watchers=x(new Set([])),e.cursors=x(new Set([])),e._deref=(function(){return u(F)&&(h("ratom deref: watcher found, adding to set."),b(e.watchers,Ft,F)),n.call(e)}),e._reset_BANG_=(function(s){h("ratom _reset_BANG_ called with",s);const c=r.call(e,s);le(e.watchers);for(let i of m(v(e.cursors)))le(i.watchers);return c}),b(Oe,j,o,e),e},tr=function(t,e){h("render called with component:",t,"and container:",e);const n=Ht(t);return h("render: normalized-component is",n),Zn(n,e)},ut=Vn,Ke=ut({page:"home"}),er=(()=>{const t=(function(...e){switch(e.length){case 0:return t.cljs$core$IFn$_invoke$arity$0();case 1:return t.cljs$core$IFn$_invoke$arity$1(e[0]);default:throw new Error(R("Invalid arity: ",e.length))}});return t.cljs$core$IFn$_invoke$arity$0=(function(){return Math.random()}),t.cljs$core$IFn$_invoke$arity$1=(function(e){return e*Math.random()}),t.cljs$lang$maxFixedArity=1,t})(),qe=function(){return{board:T(nn(9,null)),"x-turn?":!0}},dt=ut(qe()),Qe=function(t){return je((function(n){const r=n,o=g(r,0,null),s=g(r,1,null),c=g(r,2,null);if(u((()=>{const i=_(t,o);return u(i)?_(t,o)===_(t,s)&&_(t,s)===_(t,c):i})()))return _(t,o)}),[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]])},nr=function(t){const e=v(dt),n=_(e,"board"),r=_(e,"x-turn?"),o=_(n,t);return["div",{style:{width:"60px",height:"60px",border:"1px solid #000",display:"flex","align-items":"center","justify-content":"center","font-size":"24px",cursor:"pointer"},"on-click":(function(){if(u((()=>{const s=o==null;return s&&k(Qe(n))})()))return b(dt,bt,"board",j,t,u(r)?"X":"O"),b(dt,bt,"x-turn?",k)})},o]},rr=function(){return["div",{style:{display:"grid","grid-template-columns":"repeat(3, 60px)","grid-template-rows":"repeat(3, 60px)",gap:"2px"}},S(function*(){for(let t of m(U(9)))yield[nr,t]})]},or=function(){const t=v(dt),e=_(t,"board"),n=_(t,"x-turn?"),r=Qe(e);return["div",{style:{"font-family":"sans-serif"}},[rr],u(r)?["p",R("Winner: ",r)]:u(Ae(Q,e))?["p","Draw!"]:["p",R("Next turn: ",u(n)?"X":"O")],["button",{"on-click":(function(){return G(dt,qe())})},"Restart"]]},ct=20,nt=10,Tt=ut({snake:[[5,10],[4,10],[3,10]],dir:[1,0],food:[15,10],"alive?":!0}),sr=function(){return[oe(ct),oe(ct)]},cr=function(){return b(Tt,(function(t){const e=t,n=e,r=_(e,"snake"),o=_(e,"dir"),s=_(e,"food"),c=_(e,"alive?");if(k(c))return n;{const i=T([g(w(r),0)+g(o,0),g(w(r),1)+g(o,1)]),a=H(i,s),l=T(He(i,u(a)?r:cn(r))),f=g(i,0),d=g(i,1),p=(()=>{const A=f<0;if(A)return A;{const Y=d<0;if(Y)return Y;{const et=f>=ct;return et||d>=ct}}})(),y=je((function(A){return H(i,A)}),K(l));return u(p)||u(y)?j(n,"alive?",!1):u(a)?j(n,"snake",l,"food",sr()):j(n,"snake",l)}}))},fe=function(t){const e=t.key;return b(Tt,bt,"dir",(function(n){switch(e){case"ArrowUp":return u(H(n,[0,1]))?n:[0,-1];case"ArrowDown":return u(H(n,[0,-1]))?n:[0,1];case"ArrowLeft":return u(H(n,[1,0]))?n:[-1,0];case"ArrowRight":return u(H(n,[-1,0]))?n:[1,0];default:return n}}))},_e=function(t,e){const n=t,r=g(n,0,null),o=g(n,1,null);return["rect",{x:r*nt,y:o*nt,width:nt,height:nt,fill:e}]},ur=(()=>{const t=ut(null),e=(function(n){if(console.log("snake-game-board",n),u(n)){if(v(t)==null)return console.log("snake-game-board mount"),G(t,setInterval(cr,200)),window.addEventListener("keydown",fe)}else if(u(v(t)))return console.log("snake-game-board unmount"),clearInterval(v(t)),G(t,null),window.removeEventListener("keydown",fe)});return function(){const n=v(Tt),r=_(n,"snake"),o=_(n,"food"),s=_(n,"alive?");return["div",{ref:e},["svg",{width:ct*nt,height:ct*nt,style:{border:"1px solid black",background:"#eef"}},S(function*(){for(let c of m(r))yield[_e,c,"green"]}),[_e,o,"red"],k(s)?["text",{x:50,y:100,"font-size":20,fill:"black"},"Game Over!"]:null],["p",["button",{"on-click":(function(){return G(Tt,{snake:[[5,10],[4,10],[3,10]],dir:[1,0],food:[15,10],"alive?":!0})})},"Restart"]]]}})(),E=30,rt=15,Be=function(){return T(S(function*(){for(let t of m(U(E)))yield T(S(function*(){for(let e of m(U(E)))yield er()<.2?1:0}))}))},vt=ut({grid:Be(),"running?":!0}),ir=function(t,e,n){return Dt((function(o,s){const c=s,i=g(c,0,null),a=g(c,1,null),l=e+i,f=n+a;return u((()=>{const d=l>=0;if(d){const p=l<E;if(p){const y=f>=0;return y&&f<E}else return p}else return d})())?o+g(g(t,f),l):o}),0,[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]])},ar=function(t){return T(S(function*(){for(let e of m(U(E))){const n=e;yield T(S(function*(){for(let r of m(U(E))){const o=r;yield(()=>{const s=g(g(t,n),o)===1,c=ir(t,o,n);return u((()=>{const i=s;if(i){const a=c===2;return a||c===3}else return i})())||u((()=>{const i=!s;return i&&c===3})())?1:0})()}}))}}))},lr=function(){return b(vt,(function(t){const e=t,n=e,r=_(e,"grid"),o=_(e,"running?");return u(o)?j(n,"grid",ar(r)):n}))},fr=function(t,e,n){return["rect",{x:t*rt,y:e*rt,width:rt,height:rt,fill:n===1?"black":"white",stroke:"#ddd"}]},_r=(()=>{const t=ut(null),e=(function(n){if(u(n)){if(v(t)==null)return G(t,setInterval(lr,200))}else if(u(v(t)))return clearInterval(v(t)),G(t,null)});return function(){const n=v(vt),r=_(n,"grid"),o=_(n,"running?");return["div",{ref:e},["svg",{width:E*rt,height:E*rt,style:{border:"1px solid black"}},S(function*(){for(let s of m(U(E))){const c=s;for(let i of m(U(E))){const a=i;yield[fr,a,c,g(g(r,c),a)]}}}),k(o)?["text",{x:50,y:50,fill:"red","font-size":20},"Paused"]:null],["p",["button",{"on-click":(function(){return b(vt,bt,"running?",k)})},u(o)?"Pause":"Resume"],["button",{"on-click":(function(){return b(vt,j,"grid",Be())})},"Randomize"]]]}})(),pt=function(t,e){return["a",{href:"#",class:"nav-link","on-click":(function(n){return n.preventDefault(),b(Ke,j,"page",t)})},e]},dr=function(){return["div",["h1","Games"],["p","Some games implemented with Eucalypt."]]},hr=function(){const t=_(v(Ke),"page");return["div",["nav",[pt,"home","Home"],[pt,"tic-tac-toe","Tic Tac Toe"],[pt,"snake","Snake"],[pt,"game-of-life","Game of Life"]],["hr"],(()=>{switch(t){case"home":return[dr];case"tic-tac-toe":return[or];case"snake":return[ur];case"game-of-life":return[_r];default:return["div","Page not found"]}})()]};tr([hr],document.getElementById("app"));</script>
  <style rel="stylesheet" crossorigin>body{font-family:sans-serif;background-color:#f0f0f0;color:#333}div#app{max-width:800px;margin:2rem auto;padding:2rem;background-color:#fff;border-radius:8px;box-shadow:0 4px 6px #0000001a}h1{color:#111}a{color:#007bff;text-decoration:none}a:hover{text-decoration:underline}button{padding:10px 15px;font-size:1rem;border-radius:5px;border:1px solid #ccc;cursor:pointer;background-color:#eee}button:hover{background-color:#ddd}.nav-link{margin-right:.5em}.nav-link+.nav-link{border-left:2px solid #ccc;padding-left:.5em}.slider{width:100%}.text-red{color:red}.separator{margin:1rem 0}.color-orange{color:orange}.color-red{color:red}#todo-list .view{display:flex;justify-content:start;align-items:center;border-bottom:1px solid silver}#todo-list .view label{flex-grow:1;margin-left:.5em}</style>
</head>
<body>
    <div id="app"><div class="loader"></div></div>
</body>
</html>
