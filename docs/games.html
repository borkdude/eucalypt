<!DOCTYPE html>
<html lang="en">
<head>
    <title>Eucalypt</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
  <script type="module">function R(e){if(e==null||e instanceof Function)return e;const t=typeof e;return t==="string"?(n,r)=>_(n,e,r):t==="object"?(n,r)=>_(e,n,r):e}function Yt(e,t,n,...r){if(r.length%2!==0)throw new Error("Illegal argument: assoc expects an odd number of arguments.");switch(P(e)){case L:e.set(t,n);for(let o=0;o<r.length;o+=2)e.set(r[o],r[o+1]);break;case Y:case J:e[t]=n;for(let o=0;o<r.length;o+=2)e[r[o]]=r[o+1];break;default:throw new Error(`Illegal argument: assoc! expects a Map, Array, or Object as the first argument, but got ${typeof e}.`)}return e}function Se(e){switch(P(e)){case L:return new Map(e);case U:return new e.constructor(e);case Y:return[...e];case J:return{...e};default:throw new Error(`Don't know how to copy object of type ${typeof e}.`)}}function A(e,t,n,...r){e||(e={});const o=Se(e);return Yt(o,t,n,...r),o}const L=1,Y=2,J=3,Oe=4,U=5,Ye=6;function Xt(e){switch(e){case L:return new Map;case Y:return[];case J:return{};case Oe:return new Ne;case U:return new Set;case Ye:return S(function*(){})}}function $e(e){return e.constructor===Object}function Ht(e){return e!=null&&$e(e)}function P(e){if(e!=null){if($e(e))return J;if(e instanceof Map)return L;if(e instanceof Set)return U;if(e instanceof Ne)return Oe;if(Array.isArray(e))return Y;if(e instanceof Ze)return Ye;if(e instanceof Ke)return U;if(e instanceof Object)return J}}function Jt(...e){if(e=e.map(R),e.length===0)return Pe;if(e.length===1)return e[0];const[t,...n]=e.slice().reverse();return function(...r){let o=t(...r);for(const s of n)o=s(o);return o}}function wt(e,t){for(const n of t)e.add(n);return e}function bt(...e){if(e.length===0)return kt();const[t,...n]=e;let r=t;switch(r==null&&(r=[]),P(r)){case U:wt(r,n);break;case Oe:r.unshift(...n.reverse());break;case Y:r.push(...n);break;case L:for(const o of n)Array.isArray(o)?r.set(o[0],o[1]):m(o).forEach(s=>{r.set(s[0],s[1])});break;case J:for(const o of n)Array.isArray(o)?r[o[0]]=o[1]:Object.assign(r,o);break;default:throw new Error("Illegal argument: conj! expects a Set, Array, List, Map, or Object as the first argument.")}return r}function Xe(...e){if(e.length===0)return kt();const[t,...n]=e;let r=t;r==null&&(r=un());let o,s;switch(P(r)){case U:return r instanceof Ke?wt(new r.constructor(r),n):new r.constructor([...r,...n]);case Oe:return new Ne(...n.reverse(),...r);case Y:return[...r,...n];case L:o=new Map(r);for(const u of n)Array.isArray(u)?o.set(u[0],u[1]):m(u).forEach(i=>{o.set(i[0],i[1])});return o;case Ye:return S(function*(){yield*n,yield*r});case J:s={...r};for(const u of n)Array.isArray(u)?s[u[0]]=u[1]:Object.assign(s,u);return s;default:throw new Error("Illegal argument: conj expects a Set, Array, List, Map, or Object as the first argument.")}}function Z(e,t){switch(P(e)){case U:case L:return e.has(t);case void 0:return!1;default:return t in e}}function He(e,...t){if(t.length===0)return e;const n=Se(e);switch(P(e)){case L:for(const r of t)n.delete(r);break;default:for(const r of t)delete n[r];break}return n}function Zt(e){return e+1}function y(e,t,n){if(e){var r=void 0;if(Array.isArray(e))r=e[t];else{const o=m(e);let s=0;for(const u of o)if(s++==t){r=u;break}}if(r!==void 0)return r}return n}function _(e,t,n=void 0){if(e==null)return n;let r;if($e(e))return r=e[t],r===void 0?n:r;let o;switch(P(e)){case U:e.has(t)&&(r=t);break;case L:r=e.get(t);break;case Y:r=e[t];break;default:if(o=e.get,o instanceof Function)try{r=e.get(t);break}catch{}r=e[t];break}return r!==void 0?r:n}function Je(e){return e!=null&&!!e[Symbol.iterator]}const ne=Je;function Vt(e){return e==null||!!e[Symbol.iterator]}function m(e){if(e==null)return[];if(Vt(e))return e;if(e instanceof Object)return Object.entries(e);throw new TypeError(`${e} is not iterable`)}const At=Symbol("Iterable"),en=Symbol.iterator;function jt(e){return e[Symbol.iterator]()}const tn=jt;function O(e){if(e==null)return e;const t=m(e);return t.length===0||t.size===0||t[Symbol.iterator]().next().done?null:t}function j(e){const[t]=m(e);return t}function xe(e){const[t,n]=m(e);return n}function q(e){return S(function*(){let t=!0;for(const n of m(e))t?t=!1:yield n})}class it{value;constructor(t){this.value=t}_deref(){return this.value}}function Me(e,t,n){e=R(e);let r,o;if(arguments.length===2){const s=m(t)[Symbol.iterator](),u=s.next();u.done?o=e():o=u.value,r=s}else o=t,r=m(n);if(o instanceof it)return o.value;for(const s of r)if(o=e(o,s),o instanceof it){o=o.value;break}return o}var nn=!1;class Ze{constructor(t){this.gen=t,this.usages=0}[Symbol.iterator](){return this.usages++,this.usages>=2,this.gen()}}Ze.prototype[At]=!0;function S(e){return new Ze(e)}class rn{constructor(t,n){this.x=t,this.coll=n}*[Symbol.iterator](){yield this.x,yield*m(this.coll)}}function on(e,t){return new rn(e,t)}function Ie(e,...t){switch(e=R(e),t.length){case 0:return n=>(...r)=>{switch(r.length){case 0:return n();case 1:return n(r[0]);case 2:return n(r[0],e(r[1]));default:return n(r[0],e(...r.slice(1)))}};case 1:return S(function*(){for(const n of m(t[0]))yield e(n)});default:return S(function*(){const n=t.map(r=>tn(m(r)));for(;;){const r=[];for(const o of n){const s=o.next();if(s.done)return;r.push(s.value)}yield e(...r)}})}}function Gt(e){return t=>(...n)=>{switch(n.length){case 0:return t();case 1:return t(n[0]);case 2:{const r=n[0],o=n[1];return c(e(o))?t(r,o):r}}}}function sn(e,t){return arguments.length===1?Gt(e):(e=R(e),S(function*(){for(const n of m(t))c(e(n))&&(yield n)}))}function V(e,t){return arguments.length===1?Gt(at(e)):sn(at(e),t)}function v(...e){return e.join("")}function k(e){return!c(e)}function be(e){return e==null}class cn{constructor(t){this.val=t,this._watches={},this._deref=()=>this.val,this._hasWatches=!1,this._reset_BANG_=n=>{const r=this.val;if(this.val=n,this._hasWatches)for(const o of Object.entries(this._watches)){const s=o[0],u=o[1];u(s,this,r,n)}return n},this._add_watch=(n,r)=>{this._watches[n]=r,this._hasWatches=!0},this._remove_watch=n=>{delete this._watches[n]}}}function Ve(e){return new cn(e)}function b(e){return e._deref()}function $(e,t){e._reset_BANG_(t)}function G(e,t,...n){t=R(t);const r=t(b(e),...n);return $(e,r),r}function D(e,t,n){return S(function*(){let r=e,o=t,s=n;t===void 0&&(r=0,o=e);let u=r||0;s=1;const i=s>=0;for(;o===void 0||i&&u<o||!i&&o<u;)yield u,u+=s})}function kt(...e){return e}function K(e){return P(e)===Y}function Le(...e){if(e.length===2){const[r,o]=e,s=m(o);if(Array.isArray(s)){const u=new Array(s.length);for(var t=0;t<s.length;t++)u[t]=r(s[t]);return u}else{var n=[];for(const u of s)n.push(r(u));return n}}return[...Ie(...e)]}function T(e){return an(e)?e:[...m(e)]}function Re(e){return new Set(m(e))}const Tt=Symbol("IApply__apply");function Ee(e,...t){e=R(e);const n=t.slice(0,t.length-1),r=m(t[t.length-1]),o=e[Tt];return o?o(...n,r):e(...n,...r)}function at(e){return e=R(e),(...t)=>k(e(...t))}class Ne extends Array{constructor(...t){super(),this.push(...t)}}function un(...e){return new Ne(...e)}function an(e){return Array.isArray(e)}function St(e){return S(function*(){for(const t of e)yield*m(t)})}function et(...e){return St(e)}et[Tt]=e=>St(e);function Pe(e){return e}function Ot(e){const t=P(e);if(t!=null)return Xt(t);throw new Error(`Can't create empty of ${typeof e}`)}function lt(...e){const t=e[0];let n;return t==null?n={}:n=M(Ot(t),t),bt(n,...e.slice(1))}function M(...e){let t,n,r,o,s;switch(e.length){case 0:return[];case 1:return e[0];case 2:return Xe(e[0]??[],...m(e[1]));case 3:return t=e[0],n=e[1],r=e[2],o=Se(t),s=(u,i)=>i===void 0?u:bt(u,i),Et(n,s,o,r);default:throw TypeError(`Invalid arity call of into: ${e.length}`)}}function ln(...e){if(e.length==0||e.length>2)throw new Error(`Invalid arity: ${e.length}`);return{[At]:!0,[en]:e.length==1?function*(){const t=e[0];for(;;)yield t}:function*(){const[t,n]=e;for(var r=0;r<t;r++)yield n}}}function fn(e){return t=>{let n=e;return(...r)=>{const o=r.length;if(o===0)return t();if(o===1)return t(r[0]);if(o===2){const s=r[0],u=r[1],i=n;return n--,i>0?s:t(s,u)}}}}function _n(e,t){return arguments.length===1?fn(e):S(function*(){const n=jt(m(t));for(let r=0;r<e;r++)n.next();yield*n})}function Ae(e,t,n,...r){return n=R(n),A(e,t,n(_(e,t),...r))}function Fe(e,t,n){let r=e;for(const o of t)r=_(r,o);return r===void 0?n:r}function $t(e,t){e=R(e);for(const n of m(t))if(!e(n))return!1;return!0}function dn(e,t){return arguments.length===1&&(t=e,e=void 0),e=R(e),t=m(t),[...t].sort(e||tt)}function Mt(e,t){e=R(e);for(const n of m(t)){const r=e(n);if(c(r))return r}}function ze(e){return!O(e)}function ft(e){return Math.floor(Math.random()*e)}function hn(e){const t=[...m(e)];return t.pop(),t.length>0?t:null}function ye(e){if(!e)return 0;const t=e.length||e.size;if(typeof t=="number")return t;let n=0;for(const r of m(e))n++;return n}function E(e){return e!=null}function It(e,t,n){if(!n)return t;var r=t;for(const o of m(n))r=e(r,o[0],o[1]);return r}function mn(e,t,...n){return t==null?e:Math.min(e,t,...n)}function W(e){return e==null?!1:!!($e(e)||e instanceof Map)}function ee(e){if(Array.isArray(e)){const t=e.slice(1);return t.length>0?t:null}else return O(q(e))}function tt(e,t){if(e===t)return 0;{if(e==null)return-1;if(t==null)return 1;const n=typeof e,r=typeof t;if(n==="number"&&r==="number"||n==="string"&&r==="string")return e===t?0:e<t?-1:1;if(Array.isArray(e)&&Array.isArray(t)){if(e.length<t.length)return-1;if(e.length>t.length)return 1;for(let o=0;o<e.length;o++){let s=tt(e[o],t[o]);if(s!=0)return s}return 0}else throw new Error(`comparing ${n} to ${r}`)}}function c(e){return e!=null&&e!==!1}function ue(e){return typeof e=="function"}function pn(e){return typeof e=="number"}function Q(e){return typeof e=="string"}const Rt=Symbol("meta");function je(e){return e instanceof Object?e[Rt]:null}function gn(e,t){const n=Se(e);return n[Rt]=t,n}function yn(e){return e===!0||e===!1}function Et(e,...t){switch(t.length){case 2:{const n=t[0],r=t[1];return Et(e,n,n(),r)}default:{let n=t[0];const r=t[1],o=t[2];n=e(n);const s=Me(n,r,o);return n(s)}}}class Ke{constructor(t){t instanceof Ke||(t=dn(t));const r=new Set(t);this._elts=[...r],this._set=r}add(t){if(this._set.has(t))return this;const n=this._elts;let r=!1;for(let o=0;o<n.length;o++)if(tt(t,n[o])<=0){n.splice(o,0,t),r=!0;break}return r?this._set=new Set(n):(n.push(t),this._set.add(t)),this.size=n.length,this}delete(t){if(!this._set.has(t))return this;const n=this._elts,r=n.indexOf(t);return n.splice(r,1),this._set=new Set(n),this.size=n.length,this}has(t){return this._set.has(t)}keys(){return this.values()}values(){return this._elts[Symbol.iterator]()}entries(){return this._set.entries()}forEach(...t){return this.set.forEach(...t)}clear(){this._elts=[],this._set=new Set(this._elts)}[Symbol.iterator](){return this.keys()}}function Nt(){return crypto.randomUUID()}function B(e,t,...n){if(t===void 0||e===t)return!1;for(const r of n)if(e===r)return!1;return!0}function vn(){}function _t(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function dt(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const wn="[object RegExp]",bn="[object String]",An="[object Number]",jn="[object Boolean]",ht="[object Arguments]",Gn="[object Symbol]",kn="[object Date]",Tn="[object Map]",Sn="[object Set]",On="[object Array]",$n="[object Function]",Mn="[object ArrayBuffer]",Be="[object Object]",In="[object Error]",Rn="[object DataView]",En="[object Uint8Array]",Nn="[object Uint8ClampedArray]",Kn="[object Uint16Array]",qn="[object Uint32Array]",Qn="[object BigUint64Array]",Bn="[object Int8Array]",xn="[object Int16Array]",Ln="[object Int32Array]",Pn="[object BigInt64Array]",Fn="[object Float32Array]",zn="[object Float64Array]";function mt(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype||Object.getPrototypeOf(t)===null?Object.prototype.toString.call(e)==="[object Object]":!1}function Cn(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function Un(e,t,n){return fe(e,t,void 0,void 0,void 0,void 0,n)}function fe(e,t,n,r,o,s,u){const i=u(e,t,n,r,o,s);if(i!==void 0)return i;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return e===t;case"number":return e===t||Object.is(e,t);case"function":return e===t;case"object":return de(e,t,s,u)}return de(e,t,s,u)}function de(e,t,n,r){if(Object.is(e,t))return!0;let o=dt(e),s=dt(t);if(o===ht&&(o=Be),s===ht&&(s=Be),o!==s)return!1;switch(o){case bn:return e.toString()===t.toString();case An:{const a=e.valueOf(),l=t.valueOf();return Cn(a,l)}case jn:case kn:case Gn:return Object.is(e.valueOf(),t.valueOf());case wn:return e.source===t.source&&e.flags===t.flags;case $n:return e===t}n=n??new Map;const u=n.get(e),i=n.get(t);if(u!=null&&i!=null)return u===t;n.set(e,t),n.set(t,e);try{switch(o){case Tn:{if(e.size!==t.size)return!1;for(const[a,l]of e.entries())if(!t.has(a)||!fe(l,t.get(a),a,e,t,n,r))return!1;return!0}case Sn:{if(e.size!==t.size)return!1;const a=Array.from(e.values()),l=Array.from(t.values());for(let f=0;f<a.length;f++){const d=a[f],p=l.findIndex(g=>fe(d,g,void 0,e,t,n,r));if(p===-1)return!1;l.splice(p,1)}return!0}case On:case En:case Nn:case Kn:case qn:case Qn:case Bn:case xn:case Ln:case Pn:case Fn:case zn:{if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let a=0;a<e.length;a++)if(!fe(e[a],t[a],a,e,t,n,r))return!1;return!0}case Mn:return e.byteLength!==t.byteLength?!1:de(new Uint8Array(e),new Uint8Array(t),n,r);case Rn:return e.byteLength!==t.byteLength||e.byteOffset!==t.byteOffset?!1:de(new Uint8Array(e),new Uint8Array(t),n,r);case In:return e.name===t.name&&e.message===t.message;case Be:{if(!(de(e.constructor,t.constructor,n,r)||mt(e)&&mt(t)))return!1;const l=[...Object.keys(e),..._t(e)],f=[...Object.keys(t),..._t(t)];if(l.length!==f.length)return!1;for(let d=0;d<l.length;d++){const p=l[d],g=e[p];if(!Object.hasOwn(t,p))return!1;const w=t[p];if(!fe(g,w,p,e,t,n,r))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}function H(e,t){return Un(e,t,vn)}var x=Ve,h=(()=>{try{return c((()=>{const e=globalThis,t=e==null?null:e.process,n=t==null?null:t.env;return n==null?null:n.DEBUG})())||c((()=>{const e=globalThis,t=e==null?null:e.localStorage,n=t==null?null:t.getItem("debug");return n==null?null:n.startsWith("eucalypt:")})())?console.log:Pe}catch{return Pe}})();h("eucalypt.cljs loading...");var te="html",me={html:{uri:"http://www.w3.org/1999/xhtml"},svg:{uri:"http://www.w3.org/2000/svg","entry-tags":new Set(["svg"]),"boundary-tags":new Set(["foreignObject"])},math:{uri:"http://www.w3.org/1998/Math/MathML","entry-tags":new Set(["math"]),"boundary-tags":new Set(["annotation-xml"])}},Dn=It((function(e,t,n){const o=_(n,"entry-tags");return Me((function(s,u){return A(s,u,t)}),e,(()=>{const s=o;return c(s)?s:new Set([])})())}),{},me),Kt=It((function(e,t,n){const o=_(n,"uri");return c(o)?A(e,o,t):e}),{},me),ie=function(e){const t=Fe(me,[e,"uri"]);return c(t)?t:Fe(me,[te,"uri"])},qe=function(e){const t=(()=>{const n=e;return c(n)?n:ie(te)})();return c(Z(Kt,t))?t:ie(te)},Wn=function(e){return _(Kt,e,te)},Yn=function(e,t){const n=qe(e),r=Wn(n),o=Fe(me,[r,"boundary-tags"],new Set([])),s=_(Dn,t);return c(s)?ie(s):c(Z(o,t))?ie(te):n},nt=function(e){return c(E(e))?qe(e.namespaceURI):ie(te)},Xn=function(e,t){return e["---meta"]=t,e},qt=function(e){return e["---meta"]},Hn=function(e){const t=q(e);for(let n of m(t)){const r=n;if(c((()=>{const o=Ht(r);return c(o)?r.watchers:o})())){const o=r.watchers;for(let s of m(b(o))){const u=s;_(qt(u),"normalized-component")===e&&G(o,(function(i){return Re(V((function(a){return u===a}),i))}))}}}return null},C=null,pe={"component-will-unmount":Hn},ve=x({}),Ce=x({}),_e=x({}),ce=x(0),Qt=x({}),Bt=function(e,t){const n=C;return(()=>{try{return C=Xn((function(){return sr(e)}),{"normalized-component":e}),t()}finally{C=n}})()},xt=function(e){for(let t of m(b(Qt))){const n=t;y(n,0,null);const o=y(n,1,null).watchers;c(o)&&G(o,(function(u){return Re(V((function(i){return _(qt(i),"normalized-component")===e}),u))}))}return null},Ue=function(e){return Ee(v,Ie((function(t){const n=t,r=y(n,0,null),o=y(n,1,null);return v(r,":",o,";")}),e))},Jn={"on-double-click":"ondblclick"},De=function(e,t){return c((()=>{const n=e==="on-change";return n&&_(new Set(["INPUT","TEXTAREA"]),t)})())?"oninput":_(Jn,e,e.replaceAll("-",""))},Zn=function(e,t){for(let n of m(t)){const r=n,o=y(r,0,null),s=y(r,1,null);if(o!=="xmlns")if(o==="ref")c(E(s))&&(e["---ref-fn"]=s,s(e));else if(c(o.startsWith("on-"))){if(c(E(s))){const u=De(o,e.tagName);e[u]=s}}else if(o==="style"){if(c(E(s))){const u=Ue(s);c(O(u))?e.setAttribute("style",u):e.removeAttribute("style")}}else if(o==="class"){const u=c((()=>{const i=ne(s);return c(i)?k(Q(s)):i})())?T(V(be,s)).join(" "):s;c((()=>{const i=u==null;return i||u===""})())?e.removeAttribute("class"):e.setAttribute("class",u)}else c((()=>{const u=o==="checked";return u||o==="selected"})())?c(E(s))&&(e[o]=s):c(E(s))&&e.setAttributeNS(null,o,s)}return null},Vn=function(e){const n=v(e).split("#",2),r=y(n,0,null),o=y(n,1,null),s=r.split(/\./),u=O(s),i=j(u),a=ee(u),l=i,f=a,d=c(ze(l))?"div":l,p=c(o)?o.split(/\./):[],g=O(p),w=j(g),F=ee(g),re=w,X=T(V(ze,et(f,F)));return{"tag-name":d,id:re,classes:c(O(X))?X:null}},er=function(e){const n=O(e),r=j(n),o=ee(n),s=r,u=o,i=Vn(s),a=_(i,"tag-name"),l=_(i,"id"),f=_(i,"classes"),d=c(W(j(u)))?j(u):{},p=(()=>{const X=_(d,"id");return c(X)?X:l})(),g=_(d,"class"),w=(()=>{const X=(()=>{const le=f;return c(le)?le:[]})(),Wt=g==null?[]:c(Q(g))?[g]:c((()=>{const le=ne(g);return c(le)?k(Q(g)):le})())?T(g):[g],ut=T(et(X,Wt));if(c(O(ut)))return ut})(),F=c(p)?A(d,"id",p):d,re=c(E(w))?A(F,"class",w):He(F,"class"),ct=c(W(j(u)))?q(u):u;return{"tag-name":a,attrs:re,content:ct}},tr=function(e,t){const n=er(e),r=_(n,"tag-name"),o=_(n,"attrs"),s=_(n,"content"),u=_(o,"value"),i=He(o,"value"),a=Yn(qe(t),r),l=document.createElementNS(a,r);Zn(l,i);for(let f of m(s)){const p=I(f,a);if(c(p)){const g=p;l.appendChild(g)}}if(c(E(u)))if(c((()=>{const f=l.tagName==="SELECT";return f&&l.multiple})())){const f=Re(u);for(let d of m(l.options)){const p=d;p.selected=Z(f,p.value)}}else l.value=u;return l},nr=function(e){const t=e._eucalypt_id;if(c(t))return t;{const n=v("fn_",Nt());return e._eucalypt_id=n,n}},rt=function(e){if(h("normalize-component called with:",e),h("normalize-component: component metadata:",je(e)),c(ne(e))){const t=j(e),n=q(e);if(c(ue(t))){const r=t,o=T(n),s=je(e),u=nr(r),i=c(Z(s,"key"))?v(u,"_key_",_(s,"key")):v(u,"_pos_",G(ce,Zt)),a=u,l=_(b(_e),i),f=_(b(_e),a);if(c(l))return h("normalize-component: using cached instance for key:",i),M([_(l,"instance")],o);if(c(f))return h("normalize-component: using cached shared for key:",a),M([_(f,"instance")],o);{h("normalize-component: cache miss for keys:",i,"and",a);const d=Ee(r,o);if(c(ue(d))){const g=lt(pe,{"reagent-render":d}),w=M([g],o);return h("normalize-component: Form-2, caching with key:",i),G(_e,A,i,{type:"form-2",instance:g}),w}else{const p=lt(pe,{"reagent-render":r}),g=M([p],o);return h("normalize-component: Form-1, caching with key:",a),G(_e,A,a,{type:"form-1",instance:p}),g}}}else{if(c(Q(t)))return M([A(pe,"reagent-render",(function(){return e}))],n);if(c(W(t))){const r=t,o=_(r,"reagent-render"),s=M({"reagent-render":o},Ie((function(u){const i=u,a=y(i,0,null),l=y(i,1,null),f=_(r,a),d=c(f)?Jt(f,l):l;return[a,d]}),pe));return M([s],n)}else return null}}},ot=function(e){const n=O(e),r=j(n),o=ee(n),s=r,u=o,i=_(s,"reagent-render");h("component->hiccup: calling reagent-render with params:",u);const a=Ee(i,u);return h("component->hiccup: reagent-render returned:",(()=>{const l=a;return l==null?null:l.toString()})()),a},I=(()=>{const e=(function(...t){switch(t.length){case 1:return e.cljs$core$IFn$_invoke$arity$1(t[0]);case 2:return e.cljs$core$IFn$_invoke$arity$2(t[0],t[1]);default:throw new Error(v("Invalid arity: ",t.length))}});return e.cljs$core$IFn$_invoke$arity$1=(function(t){return I(t,ie(te))}),e.cljs$core$IFn$_invoke$arity$2=(function(t,n){h("hiccup->dom called with:",t);const r=c((()=>{const o=Q(t);return c(o)?o:pn(t)})())?document.createTextNode(v(t)):c(K(t))?(()=>{const s=O(t),u=j(s);ee(s);const i=u;if(c(ue(i)))return I(ot(rt(t)),n);if(c(K(i))){const a=document.createDocumentFragment();for(let l of m(t)){const d=I(l,n);if(c(d)){const p=d;a.appendChild(p)}}return a}else if(i==="<>"){const a=document.createDocumentFragment();for(let l of m(q(t))){const d=I(l,n);if(c(d)){const p=d;a.appendChild(p)}}return a}else return tr(t,n)})():c(Je(t))?(()=>{const o=document.createDocumentFragment();for(let s of m(t)){const u=s,i=c((()=>{const l=K(u);return c(l)?je(u):l})())?gn(u,je(u)):u,a=I(i,n);if(c(a)){const l=a;o.appendChild(l)}}return o})():c(ue(t))?I(t(),n):c(W(t))?I(_(t,"reagent-render")(),n):c((()=>{const o=t==null;return o||yn(t)})())?null:document.createTextNode(v(t));return h("hiccup->dom returning:",(()=>{const o=r;return o==null?null:o.toString()})()),r}),e.cljs$lang$maxFixedArity=2,e})(),rr=function(e,t){const n=H(e,t);return h("hiccup-eq?:",n),k(n)&&h("hiccup-eq? details: a:",e,"b:",t),n},pt=function(e){h("is-sequence-of-hiccup-elements? checking:",e);const t=(()=>{const n=ne(e);if(c(n)){const r=k(Q(e));if(r){const o=O(e);return c(o)?$t((function(s){const u=s==null;return u||K(s)}),e):o}else return r}else return n})();return h("is-sequence-of-hiccup-elements? result:",t),t},We=function(e){const t=q(e);return c(W(j(t)))?q(t):t},z=function(e){h("fully-render-hiccup called with:",e);const t=e==null?null:c(ue(e))?z(e()):c(pt(e))||c((()=>{const n=E(e[Symbol.iterator]);if(c(n)){const r=k(K(e));return r&&k(Q(e))}else return n})())?Le(z,e):c(K(e))?(()=>{const n=j(e);if(c(ue(n)))return z(ot(rt(e)));{const r=c(W(xe(e)))?xe(e):null,o=c(r)?_n(2,e):q(e),s=c(r)?[j(e),r]:[j(e)];return M(s,Me((function(u,i){const a=z(i);if(h("fully-render-hiccup reduce: processing child, processed=",v(a)),c((()=>{const l=ne(a);if(c(l)){const f=k(Q(a));return f&&ze(a)}else return l})()))return u;{const l=pt(a);return h("fully-render-hiccup reduce: is-sequence-of-hiccup-elements?=",l),c((()=>{const f=K(a);return c(f)?j(a)==="<>":f})())?(h("fully-render-hiccup reduce: unpacking fragment"),M(u,We(a))):c(l)?(h("fully-render-hiccup reduce: unpacking sequence of hiccup elements"),M(u,a)):(h("fully-render-hiccup reduce: appending single child"),Xe(u,a))}}),[],o))}})():c(W(e))?z(_(e,"reagent-render")()):e;return h("fully-render-hiccup returning:",v(t)),t},st=function(e){if(c(e)){const t=e["---ref-fn"];if(c(t)){const n=t;h("unmount-node-and-children: calling ref-fn for node",v(n)),n(null),e["---ref-fn"]=null}for(let n of m(T(e.childNodes)))st(n);return null}},Lt=function(e){if(c(e))return st(e),e.remove()},Pt=function(e,t,n){h("--- patch-children start for dom:",(()=>{const d=n;return d==null?null:d.toString()})());const r=T(V(be,We(e))),o=T(V(be,We(t))),s=x(T(n.childNodes)),u=ye(r),i=ye(o),a=ye(b(s)),l=nt(n);h("patch-children: len-a:",u,"len-b:",i,"len-dom:",a),h("patch-children: children-a:",v(r)),h("patch-children: children-b:",v(o));let f=0;for(;;){if(f<mn(u,i)){const d=y(r,f),p=y(o,f),g=y(b(s),f),w=Ft(d,p,g);c(B(g,w))&&G(s,A,f,w),f=f+1;continue}break}if(i>u)for(let d of m(D(u,i))){const g=I(y(o,d),l);if(c(g)){const w=g;n.appendChild(w)}}if(u>i){const d=u-i;let p=0;for(;;){if(p<d){Lt(n.lastChild),p=p+1;continue}break}}},Ge=function(e){h("get-attrs called on hiccup:",e);const t=xe(e);return c(W(t))?t:{}},or=function(e,t,n){h("patch-attributes called with hiccup-a:",e,"hiccup-b:",t);const r=Ge(e),o=Ge(t),s=_(r,"ref"),u=_(o,"ref"),i=n.tagName;h("patch-attributes: a-attrs:",r,"b-attrs:",o),h("patch-attributes: a-ref:",s,"b-ref:",u),h("patch-attributes: about to compare refs. are they equal?",s===u,"a-ref:",s,"b-ref:",u),s!==u&&(h("patch-attributes: refs are different, handling lifecycle"),c(s)&&s(null),c(u)&&u(n),n["---ref-fn"]=u);for(let a of m(r)){const l=a,f=y(l,0,null);y(l,1,null),c((()=>{const d=k(Z(o,f));if(d){const p=B(f,"ref");return c(p)?B(f,"xmlns"):p}else return d})())&&(c(f.startsWith("on-"))?n[De(f,i)]=null:n.removeAttribute(f))}for(let a of m(o)){const l=a,f=y(l,0,null),d=y(l,1,null);if(c((()=>{const p=B(f,"ref");return c(p)?B(f,"xmlns"):p})())){const p=_(r,f);if(c(f.startsWith("on-")))n[De(f,i)]=d;else if(c(B(d,p))&&(h("patch-attributes: updating attribute",f,"from",p,"to",d,"on",v(n)),f!=="value"))if(f==="class"){const g=c((()=>{const w=ne(d);return c(w)?k(Q(d)):w})())?T(V(be,d)).join(" "):d;c((()=>{const w=g==null;return w||g===""})())?n.removeAttribute("class"):n.setAttribute("class",g)}else if(f==="style"){const g=Ue(d);c(O(g))?n.setAttribute("style",g):n.removeAttribute("style")}else if(c((()=>{const g=f==="checked";return g||f==="selected"})()))n[f]=d;else if(d==null)n.removeAttribute(f);else{const g=f==="style"?Ue(d):d;n.setAttributeNS(null,f,g)}}}return null},ke=function(e){return c((()=>{const t=Je(e);return c(t)?e.gen:t})())?Le(ke,e):c((()=>{const t=ne(e);return c(t)?k(Q(e)):t})())?M(Ot(e),Ie(ke,e)):e},Ft=function(e,t,n){h("patch: hiccup-a-rendered",v(e),"hiccup-b-rendered",v(t),"dom-a",v(n));const r=ke(e),o=ke(t),s=rr(r,o);if(h("patch: are-equal is",s,"(type",typeof s,")"),c(s))return h("patch: hiccup is equal, doing nothing"),n;if(c((()=>{const u=k(K(r));if(u)return u;{const i=k(K(o));return i||B(j(r),j(o))}})())){const u=n.parentNode,i=nt(u),a=I(o,i);return h("patch: replacing node. dom-a:",v(n),"new-node:",v(a)),c(n)&&h("patch: replacing node. dom-a.textContent:",n.textContent,"new-node.textContent:",a.textContent),st(n),n.replaceWith(a),a}else{h("patch: hiccup not equal, patching children and attributes"),or(r,o,n),Pt(r,o,n);const u=Ge(r),i=Ge(o),a=_(i,"value");if(c((()=>{const l=Z(i,"value");return c(l)?B(_(u,"value"),a):l})()))if(h("patch: value changed from",_(u,"value"),"to",a,"on",v(n)),c((()=>{const l=n.tagName==="SELECT";return l&&n.multiple})())){const l=Re(a);for(let f of m(n.options)){const d=f;d.selected=Z(l,d.value)}}else n.value=a;return n}},sr=function(e){h("modify-dom called for component:",e),xt(e),$(ce,0);const n=_(b(ve),e),r=_(n,"hiccup"),o=_(n,"dom"),s=_(n,"container"),u=Bt(e,(function(){return ot(e)})),i=z(u);if(c((()=>{const a=K(r);return c(a)?j(r)==="<>":a})()))return $(ce,0),Pt(r,i,s),G(ve,A,e,{hiccup:i,dom:o,container:s});{$(ce,0);const a=Ft(r,i,o);if(h("modify-dom: new DOM",v(a)),G(ve,A,e,{hiccup:i,dom:a,container:s}),c(B(o,a)))return h("modify-dom: DOM changed, replacing in container"),s.innerHTML="",s.appendChild(a)}},gt=function(e){h("notify-watchers called with",ye(b(e)),"watchers");for(let t of m(b(e))){const n=t;h("calling watcher");const r=C;try{C=n,n()}finally{C=r}}return null},cr=function(e,t){return Bt(e,(function(){const n=_(j(e),"reagent-render"),r=q(e),o=Ee(n,r),s=I(o,qe(t));return[o,s]}))},ur=function(e){const t=_(b(Ce),e);if(c(t)){const n=t;xt(n);const o=O(n),s=j(o);ee(o),_(s,"component-will-unmount")(n),G(Ce,He,e)}$(_e,{});for(let n of m(T(e.childNodes)))Lt(n);return null},ir=function(e,t){ur(t),$(ce,0);const n=nt(t),o=O(e),s=j(o);ee(o),_(s,"_reagent-render");const i=cr(e,n),a=y(i,0,null),l=y(i,1,null);$(ce,0);const f=z(a);return t.appendChild(l),G(ve,A,e,{hiccup:f,dom:l,container:t}),G(Ce,A,t,e)},ar=function(e){const t=x(e),n=t._deref,r=t._reset_BANG_,o=v("ratom-",Nt());return t["ratom-id"]=o,t.watchers=x(new Set([])),t.cursors=x(new Set([])),t._deref=(function(){return c(C)&&(h("ratom deref: watcher found, adding to set."),G(t.watchers,Xe,C)),n.call(t)}),t._reset_BANG_=(function(s){h("ratom _reset_BANG_ called with",s);const u=r.call(t,s);gt(t.watchers);for(let i of m(b(t.cursors)))gt(i.watchers);return u}),G(Qt,A,o,t),t},lr=function(e,t){h("render called with component:",e,"and container:",v(t));const n=rt(e);return h("render: normalized-component is",n),ir(n,t)},Qe=ar,zt=Qe({page:"home"}),fr=(()=>{const e=(function(...t){switch(t.length){case 0:return e.cljs$core$IFn$_invoke$arity$0();case 1:return e.cljs$core$IFn$_invoke$arity$1(t[0]);default:throw new Error(v("Invalid arity: ",t.length))}});return e.cljs$core$IFn$_invoke$arity$0=(function(){return Math.random()}),e.cljs$core$IFn$_invoke$arity$1=(function(t){return t*Math.random()}),e.cljs$lang$maxFixedArity=1,e})(),Ct=function(){return{board:T(ln(9,null)),"x-turn?":!0}},he=Qe(Ct()),Ut=function(e){return Mt((function(n){const r=n,o=y(r,0,null),s=y(r,1,null),u=y(r,2,null);if(c((()=>{const i=_(e,o);return c(i)?_(e,o)===_(e,s)&&_(e,s)===_(e,u):i})()))return _(e,o)}),[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]])},_r=function(e){const t=b(he),n=_(t,"board"),r=_(t,"x-turn?"),o=_(n,e);return["div",{style:{width:"60px",height:"60px",border:"1px solid #000",display:"flex","align-items":"center","justify-content":"center","font-size":"24px",cursor:"pointer"},"on-click":(function(){if(c((()=>{const s=o==null;return s&&k(Ut(n))})()))return G(he,Ae,"board",A,e,c(r)?"X":"O"),G(he,Ae,"x-turn?",k)})},o]},dr=function(){return["div",{style:{display:"grid","grid-template-columns":"repeat(3, 60px)","grid-template-rows":"repeat(3, 60px)",gap:"2px"}},S(function*(){for(let e of m(D(9)))yield[_r,e]})]},hr=function(){const e=b(he),t=_(e,"board"),n=_(e,"x-turn?"),r=Ut(t);return["div",{style:{"font-family":"sans-serif"}},[dr],c(r)?["p",v("Winner: ",r)]:c($t(E,t))?["p","Draw!"]:["p",v("Next turn: ",c(n)?"X":"O")],["button",{"on-click":(function(){return $(he,Ct())})},"Restart"]]},ae=20,oe=10,Te=Qe({snake:[[5,10],[4,10],[3,10]],dir:[1,0],food:[15,10],"alive?":!0}),mr=function(){return[ft(ae),ft(ae)]},pr=function(){return G(Te,(function(e){const t=e,n=t,r=_(t,"snake"),o=_(t,"dir"),s=_(t,"food"),u=_(t,"alive?");if(k(u))return n;{const i=T([y(j(r),0)+y(o,0),y(j(r),1)+y(o,1)]),a=H(i,s),l=T(on(i,c(a)?r:hn(r))),f=y(i,0),d=y(i,1),p=(()=>{const w=f<0;if(w)return w;{const F=d<0;if(F)return F;{const re=f>=ae;return re||d>=ae}}})(),g=Mt((function(w){return H(i,w)}),q(l));return c(p)||c(g)?A(n,"alive?",!1):c(a)?A(n,"snake",l,"food",mr()):A(n,"snake",l)}}))},yt=function(e){const t=e.key;return G(Te,Ae,"dir",(function(n){switch(t){case"ArrowUp":return c(H(n,[0,1]))?n:[0,-1];case"ArrowDown":return c(H(n,[0,-1]))?n:[0,1];case"ArrowLeft":return c(H(n,[1,0]))?n:[-1,0];case"ArrowRight":return c(H(n,[-1,0]))?n:[1,0];default:return n}}))},vt=function(e,t){const n=e,r=y(n,0,null),o=y(n,1,null);return["rect",{x:r*oe,y:o*oe,width:oe,height:oe,fill:t}]},gr=(()=>{const e=Ve(null),t=(function(n){if(console.log("snake-game-board",n),c(n)){if(b(e)==null)return console.log("snake-game-board mount"),$(e,setInterval(pr,200)),window.addEventListener("keydown",yt)}else if(c(b(e)))return console.log("snake-game-board unmount"),clearInterval(b(e)),$(e,null),window.removeEventListener("keydown",yt)});return function(){const n=b(Te),r=_(n,"snake"),o=_(n,"food"),s=_(n,"alive?");return["div",{ref:t},["svg",{width:ae*oe,height:ae*oe,style:{border:"1px solid black",background:"#eef"}},S(function*(){for(let u of m(r))yield[vt,u,"green"]}),[vt,o,"red"],k(s)?["text",{x:50,y:100,"font-size":20,fill:"black"},"Game Over!"]:null],["p",["button",{"on-click":(function(){return $(Te,{snake:[[5,10],[4,10],[3,10]],dir:[1,0],food:[15,10],"alive?":!0})})},"Restart"]]]}})(),N=30,se=15,Dt=function(){return T(S(function*(){for(let e of m(D(N)))yield T(S(function*(){for(let t of m(D(N)))yield fr()<.2?1:0}))}))},we=Qe({grid:Dt(),"running?":!0}),yr=function(e,t,n){return Me((function(o,s){const u=s,i=y(u,0,null),a=y(u,1,null),l=t+i,f=n+a;return c((()=>{const d=l>=0;if(d){const p=l<N;if(p){const g=f>=0;return g&&f<N}else return p}else return d})())?o+y(y(e,f),l):o}),0,[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]])},vr=function(e){return T(S(function*(){for(let t of m(D(N))){const n=t;yield T(S(function*(){for(let r of m(D(N))){const o=r;yield(()=>{const s=y(y(e,n),o)===1,u=yr(e,o,n);return c((()=>{const i=s;if(i){const a=u===2;return a||u===3}else return i})())||c((()=>{const i=!s;return i&&u===3})())?1:0})()}}))}}))},wr=function(){return G(we,(function(e){const t=e,n=t,r=_(t,"grid"),o=_(t,"running?");return c(o)?A(n,"grid",vr(r)):n}))},br=function(e,t,n){return["rect",{x:e*se,y:t*se,width:se,height:se,fill:n===1?"black":"white",stroke:"#ddd"}]},Ar=(()=>{const e=Ve(null),t=(function(n){if(c(n)){if(b(e)==null)return $(e,setInterval(wr,200))}else if(c(b(e)))return clearInterval(b(e)),$(e,null)});return function(){const n=b(we),r=_(n,"grid"),o=_(n,"running?");return["div",{ref:t},["svg",{width:N*se,height:N*se,style:{border:"1px solid black"}},S(function*(){for(let s of m(D(N))){const u=s;for(let i of m(D(N))){const a=i;yield[br,a,u,y(y(r,u),a)]}}}),k(o)?["text",{x:50,y:50,fill:"red","font-size":20},"Paused"]:null],["p",["button",{"on-click":(function(){return G(we,Ae,"running?",k)})},c(o)?"Pause":"Resume"],["button",{"on-click":(function(){return G(we,A,"grid",Dt())})},"Randomize"]]]}})(),ge=function(e,t){return["a",{href:"#",class:"nav-link","on-click":(function(n){return n.preventDefault(),G(zt,A,"page",e)})},t]},jr=function(){return["div",["h1","Games"],["p","Some games implemented with Eucalypt."]]},Gr=function(){const e=_(b(zt),"page");return["div",["nav",[ge,"home","Home"],[ge,"tic-tac-toe","Tic Tac Toe"],[ge,"snake","Snake"],[ge,"game-of-life","Game of Life"]],["hr"],(()=>{switch(e){case"home":return[jr];case"tic-tac-toe":return[hr];case"snake":return[gr];case"game-of-life":return[Ar];default:return["div","Page not found"]}})()]};lr([Gr],document.getElementById("app"));</script>
  <style rel="stylesheet" crossorigin>body{font-family:sans-serif;background-color:#f0f0f0;color:#333}div#app{max-width:800px;margin:2rem auto;padding:2rem;background-color:#fff;border-radius:8px;box-shadow:0 4px 6px #0000001a}h1{color:#111}a{color:#007bff;text-decoration:none}a:hover{text-decoration:underline}button{padding:10px 15px;font-size:1rem;border-radius:5px;border:1px solid #ccc;cursor:pointer;background-color:#eee}button:hover{background-color:#ddd}.nav-link{margin-right:.5em}.nav-link+.nav-link{border-left:2px solid #ccc;padding-left:.5em}.slider{width:100%}.text-red{color:red}.separator{margin:1rem 0}.color-orange{color:orange}.color-red{color:red}#todo-list .view{display:flex;justify-content:start;align-items:center;border-bottom:1px solid silver}#todo-list .view label{flex-grow:1;margin-left:.5em}</style>
</head>
<body>
    <div id="app"><div class="loader"></div></div>
</body>
</html>
