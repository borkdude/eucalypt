<!DOCTYPE html>
<html lang="en">
<head>
    <title>Eucalypt</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
  <script type="module">function q(t){if(t==null||t instanceof Function)return t;const e=typeof t;return e==="string"?(n,r)=>l(n,t,r):e==="object"?(n,r)=>l(t,n,r):t}var ce=Object.prototype.hasOwnProperty;function ue(t,e,n){for(n of t.keys())if(ft(n,e))return n}function ft(t,e){if(t===e)return!0;var n,r,o;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Array){if((r=t.length)===e.length)for(;r--&&ft(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(const c of t)if(o=c,o&&typeof o=="object"&&(o=ue(e,o),!o)||!e.has(o))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(const c of t)if(o=c[0],o&&typeof o=="object"&&(o=ue(e,o),!o)||!ft(r[1],e.get(o)))return!1;return!0}if(!n||typeof t=="object"){r=0;for(const c in t)if(ce.call(t,c)&&++r&&!ce.call(e,c)||!(c in e)||!ft(t[c],e[c]))return!1;return Object.keys(e).length===r}}return!1}function Pe(t,e){return t.every(function(n,r){return r===0||e(t[r-1],n)})}function y(...t){return Pe(t,(e,n)=>ft(e,n))}function De(t,e,n,...r){if(r.length%2!==0)throw new Error("Illegal argument: assoc expects an odd number of arguments.");switch(C(t)){case F:t.set(e,n);for(let o=0;o<r.length;o+=2)t.set(r[o],r[o+1]);break;case X:case J:t[e]=n;for(let o=0;o<r.length;o+=2)t[r[o]]=r[o+1];break;default:throw new Error(`Illegal argument: assoc! expects a Map, Array, or Object as the first argument, but got ${typeof t}.`)}return t}function $t(t){switch(C(t)){case F:return new Map(t);case W:return new t.constructor(t);case X:return[...t];case J:return{...t};default:throw new Error(`Don't know how to copy object of type ${typeof t}.`)}}function k(t,e,n,...r){t||(t={});const o=$t(t);return De(o,e,n,...r),o}const F=1,X=2,J=3,Mt=4,W=5,Wt=6;function We(t){switch(t){case F:return new Map;case X:return[];case J:return{};case Mt:return new qt;case W:return new Set;case Wt:return R(function*(){})}}function Rt(t){return t.constructor===Object}function Ye(t){return t!=null&&Rt(t)}function C(t){if(t!=null){if(Rt(t))return J;if(t instanceof Map)return F;if(t instanceof Set)return W;if(t instanceof qt)return Mt;if(Array.isArray(t))return X;if(t instanceof Ht)return Wt;if(t instanceof Nt)return W;if(t instanceof Object)return J}}function Ue(...t){if(t=t.map(q),t.length===0)return Lt;if(t.length===1)return t[0];const[e,...n]=t.slice().reverse();return function(...r){let o=e(...r);for(const c of n)o=c(o);return o}}function pe(t,e){for(const n of e)t.add(n);return t}function ve(...t){if(t.length===0)return be();const[e,...n]=t;let r=e;switch(r==null&&(r=[]),C(r)){case W:pe(r,n);break;case Mt:r.unshift(...n.reverse());break;case X:r.push(...n);break;case F:for(const o of n)Array.isArray(o)?r.set(o[0],o[1]):m(o).forEach(c=>{r.set(c[0],c[1])});break;case J:for(const o of n)Array.isArray(o)?r[o[0]]=o[1]:Object.assign(r,o);break;default:throw new Error("Illegal argument: conj! expects a Set, Array, List, Map, or Object as the first argument.")}return r}function Yt(...t){if(t.length===0)return be();const[e,...n]=t;let r=e;r==null&&(r=on());let o,c;switch(C(r)){case W:return r instanceof Nt?pe(new r.constructor(r),n):new r.constructor([...r,...n]);case Mt:return new qt(...n.reverse(),...r);case X:return[...r,...n];case F:o=new Map(r);for(const u of n)Array.isArray(u)?o.set(u[0],u[1]):m(u).forEach(i=>{o.set(i[0],i[1])});return o;case Wt:return R(function*(){yield*n,yield*r});case J:c={...r};for(const u of n)Array.isArray(u)?c[u[0]]=u[1]:Object.assign(c,u);return c;default:throw new Error("Illegal argument: conj expects a Set, Array, List, Map, or Object as the first argument.")}}function V(t,e){switch(C(t)){case W:case F:return t.has(e);case void 0:return!1;default:return e in t}}function Ut(t,...e){if(!t)return;if(e.length===0)return t;const n=$t(t);switch(C(t)){case F:for(const r of e)n.delete(r);break;default:for(const r of e)delete n[r];break}return n}function Xe(t){return t+1}function g(t,e,n){if(t){var r=void 0;if(Array.isArray(t))r=t[e];else{const o=m(t);let c=0;for(const u of o)if(c++==e){r=u;break}}if(r!==void 0)return r}return n}function l(t,e,n=void 0){if(t==null)return n;let r;if(Rt(t))return r=t[e],r===void 0?n:r;let o;switch(C(t)){case W:t.has(e)&&(r=e);break;case F:r=t.get(e);break;case X:r=t[e];break;default:if(o=t.get,o instanceof Function)try{r=t.get(e);break}catch{}r=t[e];break}return r!==void 0?r:n}function Xt(t){return t!=null&&!!t[Symbol.iterator]}const nt=Xt;function He(t){return t==null||!!t[Symbol.iterator]}function m(t){if(t==null)return[];if(He(t))return t;if(t instanceof Object)return Object.entries(t);throw new TypeError(`${t} is not iterable`)}const ge=Symbol("Iterable"),Je=Symbol.iterator;function ye(t){return t[Symbol.iterator]()}const Ve=ye;function E(t){if(t==null)return t;const e=m(t);return e.length===0||e.size===0||e[Symbol.iterator]().next().done?null:e}function G(t){const[e]=m(t);return e}function Qt(t){const[e,n]=m(t);return n}function Q(t){return R(function*(){let e=!0;for(const n of m(t))e?e=!1:yield n})}class ie{value;constructor(e){this.value=e}_deref(){return this.value}}function Et(t,e,n){t=q(t);let r,o;if(arguments.length===2){const c=m(e)[Symbol.iterator](),u=c.next();u.done?o=t():o=u.value,r=c}else o=e,r=m(n);if(o instanceof ie)return o.value;for(const c of r)if(o=t(o,c),o instanceof ie){o=o.value;break}return o}var Ze=!1;class Ht{constructor(e){this.gen=e,this.usages=0}[Symbol.iterator](){return this.usages++,this.usages>=2,this.gen()}}Ht.prototype[ge]=!0;function R(t){return new Ht(t)}class tn{constructor(e,n){this.x=e,this.coll=n}*[Symbol.iterator](){yield this.x,yield*m(this.coll)}}function en(t,e){return new tn(t,e)}function Tt(t,...e){switch(t=q(t),e.length){case 0:return n=>(...r)=>{switch(r.length){case 0:return n();case 1:return n(r[0]);case 2:return n(r[0],t(r[1]));default:return n(r[0],t(...r.slice(1)))}};case 1:return R(function*(){for(const n of m(e[0]))yield t(n)});default:return R(function*(){const n=e.map(r=>Ve(m(r)));for(;;){const r=[];for(const o of n){const c=o.next();if(c.done)return;r.push(c.value)}yield t(...r)}})}}function we(t){return e=>(...n)=>{switch(n.length){case 0:return e();case 1:return e(n[0]);case 2:{const r=n[0],o=n[1];return s(t(o))?e(r,o):r}}}}function nn(t,e){return arguments.length===1?we(t):(t=q(t),R(function*(){for(const n of m(e))s(t(n))&&(yield n)}))}function Z(t,e){return arguments.length===1?we(ae(t)):nn(ae(t),e)}function w(...t){return t.join("")}function S(t){return!s(t)}function wt(t){return t==null}class rn{constructor(e){this.val=e,this._watches={},this._deref=()=>this.val,this._hasWatches=!1,this._reset_BANG_=n=>{const r=this.val;if(this.val=n,this._hasWatches)for(const o of Object.entries(this._watches)){const c=o[0],u=o[1];u(c,this,r,n)}return n},this._add_watch=(n,r)=>{this._watches[n]=r,this._hasWatches=!0},this._remove_watch=n=>{delete this._watches[n]}}}function Jt(t){return new rn(t)}function b(t){return t._deref()}function T(t,e){t._reset_BANG_(e)}function $(t,e,...n){e=q(e);const r=e(b(t),...n);return T(t,r),r}function Y(t,e,n){return R(function*(){let r=t,o=e,c=n;e===void 0&&(r=0,o=t);let u=r||0;c=1;const i=c>=0;for(;o===void 0||i&&u<o||!i&&o<u;)yield u,u+=c})}function be(...t){return t}function O(t){return C(t)===X}function zt(...t){if(t.length===2){const[r,o]=t,c=m(o);if(Array.isArray(c)){const u=new Array(c.length);for(var e=0;e<c.length;e++)u[e]=r(c[e]);return u}else{var n=[];for(const u of c)n.push(r(u));return n}}return[...Tt(...t)]}function M(t){return sn(t)?t:[...m(t)]}function It(t){return new Set(m(t))}const Ae=Symbol("IApply__apply");function jt(t,...e){t=q(t);const n=e.slice(0,e.length-1),r=m(e[e.length-1]),o=t[Ae];return o?o(...n,r):t(...n,...r)}function ae(t){return t=q(t),(...e)=>S(t(...e))}class qt extends Array{constructor(...e){super(),this.push(...e)}}function on(...t){return new qt(...t)}function sn(t){return Array.isArray(t)}function ke(t){return R(function*(){for(const e of t)yield*m(e)})}function Vt(...t){return ke(t)}Vt[Ae]=t=>ke(t);function Lt(t){return t}function Ge(t){const e=C(t);if(e!=null)return We(e);throw new Error(`Can't create empty of ${typeof t}`)}function le(...t){const e=t[0];let n;return e==null?n={}:n=I(Ge(e),e),ve(n,...t.slice(1))}function I(...t){let e,n,r,o,c;switch(t.length){case 0:return[];case 1:return t[0];case 2:return Yt(t[0]??[],...m(t[1]));case 3:return e=t[0],n=t[1],r=t[2],o=$t(e),c=(u,i)=>i===void 0?u:ve(u,i),Ee(n,c,o,r);default:throw TypeError(`Invalid arity call of into: ${t.length}`)}}function cn(...t){if(t.length==0||t.length>2)throw new Error(`Invalid arity: ${t.length}`);return{[ge]:!0,[Je]:t.length==1?function*(){const e=t[0];for(;;)yield e}:function*(){const[e,n]=t;for(var r=0;r<e;r++)yield n}}}function un(t){return e=>{let n=t;return(...r)=>{const o=r.length;if(o===0)return e();if(o===1)return e(r[0]);if(o===2){const c=r[0],u=r[1],i=n;return n--,i>0?c:e(c,u)}}}}function an(t,e){return arguments.length===1?un(t):R(function*(){const n=ye(m(e));for(let r=0;r<t;r++)n.next();yield*n})}function bt(t,e,n,...r){return n=q(n),k(t,e,n(l(t,e),...r))}function xt(t,e,n){let r=t;for(const o of e)r=l(r,o);return r===void 0?n:r}function Se(t,e){t=q(t);for(const n of m(e))if(!t(n))return!1;return!0}function ln(t,e){return arguments.length===1&&(e=t,t=void 0),t=q(t),e=m(e),[...e].sort(t||Zt)}function $e(t,e){t=q(t);for(const n of m(e)){const r=t(n);if(s(r))return r}}function Ft(t){return!E(t)}function _e(t){return Math.floor(Math.random()*t)}function _n(t){const e=[...m(t)];return e.pop(),e.length>0?e:null}function vt(t){if(!t)return 0;const e=t.length||t.size;if(typeof e=="number")return e;let n=0;for(const r of m(t))n++;return n}function N(t){return t!=null}function Me(t,e,n){if(!n)return e;var r=e;for(const o of m(n))r=t(r,o[0],o[1]);return r}function fn(t,e,...n){return e==null?t:Math.min(t,e,...n)}function U(t){return t==null?!1:!!(Rt(t)||t instanceof Map)}function tt(t){if(Array.isArray(t)){const e=t.slice(1);return e.length>0?e:null}else return E(Q(t))}function Zt(t,e){if(t===e)return 0;{if(t==null)return-1;if(e==null)return 1;const n=typeof t,r=typeof e;if(n==="number"&&r==="number"||n==="string"&&r==="string")return t===e?0:t<e?-1:1;if(Array.isArray(t)&&Array.isArray(e)){if(t.length<e.length)return-1;if(t.length>e.length)return 1;for(let o=0;o<t.length;o++){let c=Zt(t[o],e[o]);if(c!=0)return c}return 0}else throw new Error(`comparing ${n} to ${r}`)}}function s(t){return t!=null&&t!==!1}function ut(t){return typeof t=="function"}function dn(t){return typeof t=="number"}function z(t){return typeof t=="string"}const Re=Symbol("meta");function At(t){return t instanceof Object?t[Re]:null}function hn(t,e){const n=$t(t);return n[Re]=e,n}function mn(t){return t===!0||t===!1}function Ee(t,...e){switch(e.length){case 2:{const n=e[0],r=e[1];return Ee(t,n,n(),r)}default:{let n=e[0];const r=e[1],o=e[2];n=t(n);const c=Et(n,r,o);return n(c)}}}class Nt{constructor(e){e instanceof Nt||(e=ln(e));const r=new Set(e);this._elts=[...r],this._set=r}add(e){if(this._set.has(e))return this;const n=this._elts;let r=!1;for(let o=0;o<n.length;o++)if(Zt(e,n[o])<=0){n.splice(o,0,e),r=!0;break}return r?this._set=new Set(n):(n.push(e),this._set.add(e)),this.size=n.length,this}delete(e){if(!this._set.has(e))return this;const n=this._elts,r=n.indexOf(e);return n.splice(r,1),this._set=new Set(n),this.size=n.length,this}has(e){return this._set.has(e)}keys(){return this.values()}values(){return this._elts[Symbol.iterator]()}entries(){return this._set.entries()}forEach(...e){return this.set.forEach(...e)}clear(){this._elts=[],this._set=new Set(this._elts)}[Symbol.iterator](){return this.keys()}}function Te(){return crypto.randomUUID()}function L(t,e,...n){if(e===void 0||t===e)return!1;for(const r of n)if(t===r)return!1;return!0}var x=Jt,h=(()=>{try{return s((()=>{const t=globalThis,e=t==null?null:t.process,n=e==null?null:e.env;return n==null?null:n.DEBUG})())||s((()=>{const t=globalThis,e=t==null?null:t.localStorage,n=e==null?null:e.getItem("debug");return n==null?null:n.startsWith("eucalypt:")})())?console.log:Lt}catch{return Lt}})();h("eucalypt.cljs loading...");var et="html",ht={html:{uri:"http://www.w3.org/1999/xhtml"},svg:{uri:"http://www.w3.org/2000/svg","entry-tags":new Set(["svg"]),"boundary-tags":new Set(["foreignObject"])},math:{uri:"http://www.w3.org/1998/Math/MathML","entry-tags":new Set(["math"]),"boundary-tags":new Set(["annotation-xml"])}},pn=Me((function(t,e,n){const o=l(n,"entry-tags");return Et((function(c,u){return k(c,u,e)}),t,(()=>{const c=o;return s(c)?c:new Set([])})())}),{},ht),Ie=Me((function(t,e,n){const o=l(n,"uri");return s(o)?k(t,o,e):t}),{},ht),it=function(t){const e=xt(ht,[t,"uri"]);return s(e)?e:xt(ht,[et,"uri"])},Kt=function(t){const e=(()=>{const n=t;return s(n)?n:it(et)})();return s(V(Ie,e))?e:it(et)},vn=function(t){return l(Ie,t,et)},gn=function(t,e){const n=Kt(t),r=vn(n),o=xt(ht,[r,"boundary-tags"],new Set([])),c=l(pn,e);return s(c)?it(c):s(V(o,e))?it(et):n},te=function(t){return s(N(t))?Kt(t.namespaceURI):it(et)},yn=function(t,e){return t["---meta"]=e,t},je=function(t){return t["---meta"]},wn=function(t){const e=Q(t);for(let n of m(e)){const r=n;if(s((()=>{const o=Ye(r);return s(o)?r.watchers:o})())){const o=r.watchers;for(let c of m(b(o))){const u=c;s(y(l(je(u),"normalized-component"),t))&&$(o,(function(i){return It(Z((function(a){return y(u,a)}),i))}))}}}return null},D=null,mt={"component-will-unmount":wn},gt=x({}),Ct=x({}),_t=x({}),ct=x(0),qe=x({}),Ne=function(t,e){const n=D;return(()=>{try{return D=yn((function(){return En(t)}),{"normalized-component":t}),e()}finally{D=n}})()},Ke=function(t){for(let e of m(b(qe))){const n=e;g(n,0,null);const o=g(n,1,null).watchers;s(o)&&$(o,(function(u){return It(Z((function(i){return y(l(je(i),"normalized-component"),t)}),u))}))}return null},Bt=function(t){return jt(w,Tt((function(e){const n=e,r=g(n,0,null),o=g(n,1,null);return w(r,":",o,";")}),t))},bn={"on-double-click":"ondblclick"},Pt=function(t,e){return s((()=>{const n=y(t,"on-change");return s(n)?l(new Set(["INPUT","TEXTAREA"]),e):n})())?"oninput":l(bn,t,t.replaceAll("-",""))},An=function(t,e){for(let n of m(e)){const r=n,o=g(r,0,null),c=g(r,1,null);if(!s(y("xmlns",o)))if(s(y("ref",o)))s(N(c))&&(t["---ref-fn"]=c,c(t));else if(s(o.startsWith("on-"))){if(s(N(c))){const u=Pt(o,t.tagName);t[u]=c}}else if(s(y("style",o))){if(s(N(c))){const u=Bt(c);s(E(u))?t.setAttribute("style",u):t.removeAttribute("style")}}else if(s(y("class",o))){const u=s((()=>{const i=nt(c);return s(i)?S(z(c)):i})())?M(Z(wt,c)).join(" "):c;s((()=>{const i=u==null;return i||y("",u)})())?t.removeAttribute("class"):t.setAttribute("class",u)}else s((()=>{const u=y("checked",o);return s(u)?u:y("selected",o)})())?s(N(c))&&(t[o]=c):s(N(c))&&t.setAttributeNS(null,o,c)}return null},kn=function(t){const n=w(t).split("#",2),r=g(n,0,null),o=g(n,1,null),c=r.split(/\./),u=E(c),i=G(u),a=tt(u),f=i,_=a,d=s(Ft(f))?"div":f,v=s(o)?o.split(/\./):[],p=E(v),A=G(p),B=tt(p),rt=A,H=M(Z(Ft,Vt(_,B)));return{"tag-name":d,id:rt,classes:s(E(H))?H:null}},Gn=function(t){const n=E(t),r=G(n),o=tt(n),c=r,u=o,i=kn(c),a=l(i,"tag-name"),f=l(i,"id"),_=l(i,"classes"),d=s(U(G(u)))?G(u):{},v=(()=>{const H=l(d,"id");return s(H)?H:f})(),p=l(d,"class"),A=(()=>{const H=(()=>{const lt=_;return s(lt)?lt:[]})(),Be=p==null?[]:s(z(p))?[p]:s((()=>{const lt=nt(p);return s(lt)?S(z(p)):lt})())?M(p):[p],se=M(Vt(H,Be));if(s(E(se)))return se})(),B=s(v)?k(d,"id",v):d,rt=s(N(A))?k(B,"class",A):Ut(B,"class"),oe=s(U(G(u)))?Q(u):u;return{"tag-name":a,attrs:rt,content:oe}},Sn=function(t,e){const n=Gn(t),r=l(n,"tag-name"),o=l(n,"attrs"),c=l(n,"content"),u=l(o,"value"),i=Ut(o,"value"),a=gn(Kt(e),r),f=document.createElementNS(a,r);An(f,i);for(let _ of m(c)){const v=j(_,a);if(s(v)){const p=v;f.appendChild(p)}}if(s(N(u)))if(s((()=>{const _=y(f.tagName,"SELECT");return s(_)?f.multiple:_})())){const _=It(u);for(let d of m(f.options)){const v=d;v.selected=V(_,v.value)}}else f.value=u;return f},$n=function(t){const e=t._eucalypt_id;if(s(e))return e;{const n=w("fn_",Te());return t._eucalypt_id=n,n}},ee=function(t){if(h("normalize-component called with:",t),h("normalize-component: component metadata:",At(t)),s(nt(t))){const e=G(t),n=Q(t);if(s(ut(e))){const r=e,o=M(n),c=At(t),u=$n(r),i=s(V(c,"key"))?w(u,"_key_",l(c,"key")):w(u,"_pos_",$(ct,Xe)),a=u,f=l(b(_t),i),_=l(b(_t),a);if(s(f))return h("normalize-component: using cached instance for key:",i),I([l(f,"instance")],o);if(s(_))return h("normalize-component: using cached shared for key:",a),I([l(_,"instance")],o);{h("normalize-component: cache miss for keys:",i,"and",a);const d=jt(r,o);if(s(ut(d))){const p=le(mt,{"reagent-render":d}),A=I([p],o);return h("normalize-component: Form-2, caching with key:",i),$(_t,k,i,{type:"form-2",instance:p}),A}else{const v=le(mt,{"reagent-render":r}),p=I([v],o);return h("normalize-component: Form-1, caching with key:",a),$(_t,k,a,{type:"form-1",instance:v}),p}}}else{if(s(z(e)))return I([k(mt,"reagent-render",(function(){return t}))],n);if(s(U(e))){const r=e,o=l(r,"reagent-render"),c=I({"reagent-render":o},Tt((function(u){const i=u,a=g(i,0,null),f=g(i,1,null),_=l(r,a),d=s(_)?Ue(_,f):f;return[a,d]}),mt));return I([c],n)}else return null}}},ne=function(t){const n=E(t),r=G(n),o=tt(n),c=r,u=o,i=l(c,"reagent-render");h("component->hiccup: calling reagent-render with params:",u);const a=jt(i,u);return h("component->hiccup: reagent-render returned:",(()=>{const f=a;return f==null?null:f.toString()})()),a},j=(()=>{const t=(function(...e){switch(e.length){case 1:return t.cljs$core$IFn$_invoke$arity$1(e[0]);case 2:return t.cljs$core$IFn$_invoke$arity$2(e[0],e[1]);default:throw new Error(w("Invalid arity: ",e.length))}});return t.cljs$core$IFn$_invoke$arity$1=(function(e){return j(e,it(et))}),t.cljs$core$IFn$_invoke$arity$2=(function(e,n){h("hiccup->dom called with:",e);const r=s((()=>{const o=z(e);return s(o)?o:dn(e)})())?document.createTextNode(w(e)):s(O(e))?(()=>{const c=E(e),u=G(c);tt(c);const i=u;if(s(ut(i)))return j(ne(ee(e)),n);if(s(O(i))){const a=document.createDocumentFragment();for(let f of m(e)){const d=j(f,n);if(s(d)){const v=d;a.appendChild(v)}}return a}else if(s(y("<>",i))){const a=document.createDocumentFragment();for(let f of m(Q(e))){const d=j(f,n);if(s(d)){const v=d;a.appendChild(v)}}return a}else return Sn(e,n)})():s(Xt(e))?(()=>{const o=document.createDocumentFragment();for(let c of m(e)){const u=c,i=s((()=>{const f=O(u);return s(f)?At(u):f})())?hn(u,At(u)):u,a=j(i,n);if(s(a)){const f=a;o.appendChild(f)}}return o})():s(ut(e))?j(e(),n):s(U(e))?j(l(e,"reagent-render")(),n):s((()=>{const o=e==null;return o||mn(e)})())?null:document.createTextNode(w(e));return h("hiccup->dom returning:",(()=>{const o=r;return o==null?null:o.toString()})()),r}),t.cljs$lang$maxFixedArity=2,t})(),Mn=function(t,e){const n=y(t,e);return h("hiccup-eq?:",n),S(n)&&h("hiccup-eq? details: a:",t,"b:",e),n},fe=function(t){h("is-sequence-of-hiccup-elements? checking:",t);const e=(()=>{const n=nt(t);if(s(n)){const r=S(z(t));if(r){const o=E(t);return s(o)?Se((function(c){const u=c==null;return u||O(c)}),t):o}else return r}else return n})();return h("is-sequence-of-hiccup-elements? result:",e),e},Dt=function(t){const e=Q(t);return s(U(G(e)))?Q(e):e},P=function(t){h("fully-render-hiccup called with:",t);const e=t==null?null:s(ut(t))?P(t()):s(fe(t))||s((()=>{const n=N(t[Symbol.iterator]);if(s(n)){const r=S(O(t));return r&&S(z(t))}else return n})())?zt(P,t):s(O(t))?(()=>{const n=G(t);if(s(ut(n)))return P(ne(ee(t)));{const r=s(U(Qt(t)))?Qt(t):null,o=s(r)?an(2,t):Q(t),c=s(r)?[G(t),r]:[G(t)];return I(c,Et((function(u,i){const a=P(i);if(h("fully-render-hiccup reduce: processing child, processed=",w(a)),s((()=>{const f=nt(a);if(s(f)){const _=S(z(a));return _&&Ft(a)}else return f})()))return u;{const f=fe(a);return h("fully-render-hiccup reduce: is-sequence-of-hiccup-elements?=",f),s((()=>{const _=O(a);return s(_)?y("<>",G(a)):_})())?(h("fully-render-hiccup reduce: unpacking fragment"),I(u,Dt(a))):s(f)?(h("fully-render-hiccup reduce: unpacking sequence of hiccup elements"),I(u,a)):(h("fully-render-hiccup reduce: appending single child"),Yt(u,a))}}),[],o))}})():s(U(t))?P(l(t,"reagent-render")()):t;return h("fully-render-hiccup returning:",w(e)),e},re=function(t){if(s(t)){const e=t["---ref-fn"];if(s(e)){const n=e;h("unmount-node-and-children: calling ref-fn for node",w(n)),n(null),t["---ref-fn"]=null}for(let n of m(M(t.childNodes)))re(n);return null}},Oe=function(t){if(s(t))return re(t),t.remove()},Qe=function(t,e,n){h("--- patch-children start for dom:",(()=>{const d=n;return d==null?null:d.toString()})());const r=M(Z(wt,Dt(t))),o=M(Z(wt,Dt(e))),c=x(M(n.childNodes)),u=vt(r),i=vt(o),a=vt(b(c)),f=te(n);h("patch-children: len-a:",u,"len-b:",i,"len-dom:",a),h("patch-children: children-a:",w(r)),h("patch-children: children-b:",w(o));let _=0;for(;;){if(_<fn(u,i)){const d=g(r,_),v=g(o,_),p=g(b(c),_),A=ze(d,v,p);s(L(p,A))&&$(c,k,_,A),_=_+1;continue}break}if(i>u)for(let d of m(Y(u,i))){const p=j(g(o,d),f);if(s(p)){const A=p;n.appendChild(A)}}if(u>i){const d=u-i;let v=0;for(;;){if(v<d){Oe(n.lastChild),v=v+1;continue}break}}},kt=function(t){h("get-attrs called on hiccup:",t);const e=Qt(t);return s(U(e))?e:{}},Rn=function(t,e,n){h("patch-attributes called with hiccup-a:",t,"hiccup-b:",e);const r=kt(t),o=kt(e),c=l(r,"ref"),u=l(o,"ref"),i=n.tagName;h("patch-attributes: a-attrs:",r,"b-attrs:",o),h("patch-attributes: a-ref:",c,"b-ref:",u),h("patch-attributes: about to compare refs. are they equal?",y(c,u),"a-ref:",c,"b-ref:",u),S(y(c,u))&&(h("patch-attributes: refs are different, handling lifecycle"),s(c)&&c(null),s(u)&&u(n),n["---ref-fn"]=u);for(let a of m(r)){const f=a,_=g(f,0,null);g(f,1,null),s((()=>{const d=S(V(o,_));if(d){const v=L(_,"ref");return s(v)?L(_,"xmlns"):v}else return d})())&&(s(_.startsWith("on-"))?n[Pt(_,i)]=null:n.removeAttribute(_))}for(let a of m(o)){const f=a,_=g(f,0,null),d=g(f,1,null);if(s((()=>{const v=L(_,"ref");return s(v)?L(_,"xmlns"):v})())){const v=l(r,_);if(s(_.startsWith("on-")))n[Pt(_,i)]=d;else if(s(L(d,v))&&(h("patch-attributes: updating attribute",_,"from",v,"to",d,"on",w(n)),!s(y("value",_))))if(s(y("class",_))){const p=s((()=>{const A=nt(d);return s(A)?S(z(d)):A})())?M(Z(wt,d)).join(" "):d;s((()=>{const A=p==null;return A||y("",p)})())?n.removeAttribute("class"):n.setAttribute("class",p)}else if(s(y("style",_))){const p=Bt(d);s(E(p))?n.setAttribute("style",p):n.removeAttribute("style")}else if(s((()=>{const p=y("checked",_);return s(p)?p:y("selected",_)})()))n[_]=d;else if(d==null)n.removeAttribute(_);else{const p=s(y(_,"style"))?Bt(d):d;n.setAttributeNS(null,_,p)}}}return null},Gt=function(t){return s((()=>{const e=Xt(t);return s(e)?t.gen:e})())?zt(Gt,t):s((()=>{const e=nt(t);return s(e)?S(z(t)):e})())?I(Ge(t),Tt(Gt,t)):t},ze=function(t,e,n){h("patch: hiccup-a-rendered",w(t),"hiccup-b-rendered",w(e),"dom-a",w(n));const r=Gt(t),o=Gt(e),c=Mn(r,o);if(h("patch: are-equal is",c,"(type",typeof c,")"),s(c))return h("patch: hiccup is equal, doing nothing"),n;if(s((()=>{const u=S(O(r));if(u)return u;{const i=S(O(o));return i||L(G(r),G(o))}})())){const u=n.parentNode,i=te(u),a=j(o,i);return h("patch: replacing node. dom-a:",w(n),"new-node:",w(a)),s(n)&&h("patch: replacing node. dom-a.textContent:",n.textContent,"new-node.textContent:",a.textContent),re(n),n.replaceWith(a),a}else{h("patch: hiccup not equal, patching children and attributes"),Rn(r,o,n),Qe(r,o,n);const u=kt(r),i=kt(o),a=l(i,"value");if(s((()=>{const f=V(i,"value");return s(f)?L(l(u,"value"),a):f})()))if(h("patch: value changed from",l(u,"value"),"to",a,"on",w(n)),s((()=>{const f=y(n.tagName,"SELECT");return s(f)?n.multiple:f})())){const f=It(a);for(let _ of m(n.options)){const d=_;d.selected=V(f,d.value)}}else n.value=a;return n}},En=function(t){h("modify-dom called for component:",t),Ke(t),T(ct,0);const n=l(b(gt),t),r=l(n,"hiccup"),o=l(n,"dom"),c=l(n,"container"),u=Ne(t,(function(){return ne(t)})),i=P(u);if(s((()=>{const a=O(r);return s(a)?y("<>",G(r)):a})()))return T(ct,0),Qe(r,i,c),$(gt,k,t,{hiccup:i,dom:o,container:c});{T(ct,0);const a=ze(r,i,o);if(h("modify-dom: new DOM",w(a)),$(gt,k,t,{hiccup:i,dom:a,container:c}),s(L(o,a)))return h("modify-dom: DOM changed, replacing in container"),c.innerHTML="",c.appendChild(a)}},de=function(t){h("notify-watchers called with",vt(b(t)),"watchers");for(let e of m(b(t))){const n=e;h("calling watcher");const r=D;try{D=n,n()}finally{D=r}}return null},Tn=function(t,e){return Ne(t,(function(){const n=l(G(t),"reagent-render"),r=Q(t),o=jt(n,r),c=j(o,Kt(e));return[o,c]}))},In=function(t){const e=l(b(Ct),t);if(s(e)){const n=e;Ke(n);const o=E(n),c=G(o);tt(o),l(c,"component-will-unmount")(n),$(Ct,Ut,t)}T(_t,{});for(let n of m(M(t.childNodes)))Oe(n);return null},jn=function(t,e){In(e),T(ct,0);const n=te(e),o=E(t),c=G(o);tt(o),l(c,"_reagent-render");const i=Tn(t,n),a=g(i,0,null),f=g(i,1,null);T(ct,0);const _=P(a);return e.appendChild(f),$(gt,k,t,{hiccup:_,dom:f,container:e}),$(Ct,k,e,t)},qn=function(t){const e=x(t),n=e._deref,r=e._reset_BANG_,o=w("ratom-",Te());return e["ratom-id"]=o,e.watchers=x(new Set([])),e.cursors=x(new Set([])),e._deref=(function(){return s(D)&&(h("ratom deref: watcher found, adding to set."),$(e.watchers,Yt,D)),n.call(e)}),e._reset_BANG_=(function(c){h("ratom _reset_BANG_ called with",c);const u=r.call(e,c);de(e.watchers);for(let i of m(b(e.cursors)))de(i.watchers);return u}),$(qe,k,o,e),e},Nn=function(t,e){h("render called with component:",t,"and container:",w(e));const n=ee(t);return h("render: normalized-component is",n),jn(n,e)},Ot=qn,Le=Ot({page:"home"}),Kn=(()=>{const t=(function(...e){switch(e.length){case 0:return t.cljs$core$IFn$_invoke$arity$0();case 1:return t.cljs$core$IFn$_invoke$arity$1(e[0]);default:throw new Error(w("Invalid arity: ",e.length))}});return t.cljs$core$IFn$_invoke$arity$0=(function(){return Math.random()}),t.cljs$core$IFn$_invoke$arity$1=(function(e){return e*Math.random()}),t.cljs$lang$maxFixedArity=1,t})(),xe=function(){return{board:M(cn(9,null)),"x-turn?":!0}},dt=Ot(xe()),Fe=function(t){return $e((function(n){const r=n,o=g(r,0,null),c=g(r,1,null),u=g(r,2,null);if(s((()=>{const i=l(t,o);return s(i)?y(l(t,o),l(t,c),l(t,u)):i})()))return l(t,o)}),[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]])},On=function(t){const e=b(dt),n=l(e,"board"),r=l(e,"x-turn?"),o=l(n,t);return["div",{style:{width:"60px",height:"60px",border:"1px solid #000",display:"flex","align-items":"center","justify-content":"center","font-size":"24px",cursor:"pointer"},"on-click":(function(){if(s((()=>{const c=o==null;return c&&S(Fe(n))})()))return $(dt,bt,"board",k,t,s(r)?"X":"O"),$(dt,bt,"x-turn?",S)})},o]},Qn=function(){return["div",{style:{display:"grid","grid-template-columns":"repeat(3, 60px)","grid-template-rows":"repeat(3, 60px)",gap:"2px"}},R(function*(){for(let t of m(Y(9)))yield[On,t]})]},zn=function(){const t=b(dt),e=l(t,"board"),n=l(t,"x-turn?"),r=Fe(e);return["div",{style:{"font-family":"sans-serif"}},[Qn],s(r)?["p",w("Winner: ",r)]:s(Se(N,e))?["p","Draw!"]:["p",w("Next turn: ",s(n)?"X":"O")],["button",{"on-click":(function(){return T(dt,xe())})},"Restart"]]},at=20,ot=10,St=Ot({snake:[[5,10],[4,10],[3,10]],dir:[1,0],food:[15,10],"alive?":!0}),Ln=function(){return[_e(at),_e(at)]},xn=function(){return $(St,(function(t){const e=t,n=e,r=l(e,"snake"),o=l(e,"dir"),c=l(e,"food"),u=l(e,"alive?");if(S(u))return n;{const i=M([g(G(r),0)+g(o,0),g(G(r),1)+g(o,1)]),a=y(i,c),f=M(en(i,s(a)?r:_n(r))),_=g(i,0),d=g(i,1),v=(()=>{const A=_<0;if(A)return A;{const B=d<0;if(B)return B;{const rt=_>=at;return rt||d>=at}}})(),p=$e((function(A){return y(i,A)}),Q(f));return s(v)||s(p)?k(n,"alive?",!1):s(a)?k(n,"snake",f,"food",Ln()):k(n,"snake",f)}}))},he=function(t){const e=t.key;return $(St,bt,"dir",(function(n){switch(e){case"ArrowUp":return s(y(n,[0,1]))?n:[0,-1];case"ArrowDown":return s(y(n,[0,-1]))?n:[0,1];case"ArrowLeft":return s(y(n,[1,0]))?n:[-1,0];case"ArrowRight":return s(y(n,[-1,0]))?n:[1,0];default:return n}}))},me=function(t,e){const n=t,r=g(n,0,null),o=g(n,1,null);return["rect",{x:r*ot,y:o*ot,width:ot,height:ot,fill:e}]},Fn=(()=>{const t=Jt(null),e=(function(n){if(console.log("snake-game-board",n),s(n)){if(b(t)==null)return console.log("snake-game-board mount"),T(t,setInterval(xn,200)),window.addEventListener("keydown",he)}else if(s(b(t)))return console.log("snake-game-board unmount"),clearInterval(b(t)),T(t,null),window.removeEventListener("keydown",he)});return function(){const n=b(St),r=l(n,"snake"),o=l(n,"food"),c=l(n,"alive?");return["div",{ref:e},["svg",{width:at*ot,height:at*ot,style:{border:"1px solid black",background:"#eef"}},R(function*(){for(let u of m(r))yield[me,u,"green"]}),[me,o,"red"],S(c)?["text",{x:50,y:100,"font-size":20,fill:"black"},"Game Over!"]:null],["p",["button",{"on-click":(function(){return T(St,{snake:[[5,10],[4,10],[3,10]],dir:[1,0],food:[15,10],"alive?":!0})})},"Restart"]]]}})(),K=30,st=15,Ce=function(){return M(R(function*(){for(let t of m(Y(K)))yield M(R(function*(){for(let e of m(Y(K)))yield Kn()<.2?1:0}))}))},yt=Ot({grid:Ce(),"running?":!0}),Cn=function(t,e,n){return Et((function(o,c){const u=c,i=g(u,0,null),a=g(u,1,null),f=e+i,_=n+a;return s((()=>{const d=f>=0;if(d){const v=f<K;if(v){const p=_>=0;return p&&_<K}else return v}else return d})())?o+g(g(t,_),f):o}),0,[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]])},Bn=function(t){return M(R(function*(){for(let e of m(Y(K))){const n=e;yield M(R(function*(){for(let r of m(Y(K))){const o=r;yield(()=>{const c=y(g(g(t,n),o),1),u=Cn(t,o,n);return s((()=>{const i=c;if(s(i)){const a=y(u,2);return s(a)?a:y(u,3)}else return i})())||s((()=>{const i=S(c);return i&&y(u,3)})())?1:0})()}}))}}))},Pn=function(){return $(yt,(function(t){const e=t,n=e,r=l(e,"grid"),o=l(e,"running?");return s(o)?k(n,"grid",Bn(r)):n}))},Dn=function(t,e,n){return["rect",{x:t*st,y:e*st,width:st,height:st,fill:s(y(n,1))?"black":"white",stroke:"#ddd"}]},Wn=(()=>{const t=Jt(null),e=(function(n){if(s(n)){if(b(t)==null)return T(t,setInterval(Pn,200))}else if(s(b(t)))return clearInterval(b(t)),T(t,null)});return function(){const n=b(yt),r=l(n,"grid"),o=l(n,"running?");return["div",{ref:e},["svg",{width:K*st,height:K*st,style:{border:"1px solid black"}},R(function*(){for(let c of m(Y(K))){const u=c;for(let i of m(Y(K))){const a=i;yield[Dn,a,u,g(g(r,u),a)]}}}),S(o)?["text",{x:50,y:50,fill:"red","font-size":20},"Paused"]:null],["p",["button",{"on-click":(function(){return $(yt,bt,"running?",S)})},s(o)?"Pause":"Resume"],["button",{"on-click":(function(){return $(yt,k,"grid",Ce())})},"Randomize"]]]}})(),pt=function(t,e){return["a",{href:"#",class:"nav-link","on-click":(function(n){return n.preventDefault(),$(Le,k,"page",t)})},e]},Yn=function(){return["div",["h1","Games"],["p","Some games implemented with Eucalypt."]]},Un=function(){const t=l(b(Le),"page");return["div",["nav",[pt,"home","Home"],[pt,"tic-tac-toe","Tic Tac Toe"],[pt,"snake","Snake"],[pt,"game-of-life","Game of Life"]],["hr"],(()=>{switch(t){case"home":return[Yn];case"tic-tac-toe":return[zn];case"snake":return[Fn];case"game-of-life":return[Wn];default:return["div","Page not found"]}})()]};Nn([Un],document.getElementById("app"));</script>
  <style rel="stylesheet" crossorigin>body{font-family:sans-serif;background-color:#f0f0f0;color:#333}div#app{max-width:800px;margin:2rem auto;padding:2rem;background-color:#fff;border-radius:8px;box-shadow:0 4px 6px #0000001a}h1{color:#111}a{color:#007bff;text-decoration:none}a:hover{text-decoration:underline}button{padding:10px 15px;font-size:1rem;border-radius:5px;border:1px solid #ccc;cursor:pointer;background-color:#eee}button:hover{background-color:#ddd}.nav-link{margin-right:.5em}.nav-link+.nav-link{border-left:2px solid #ccc;padding-left:.5em}.slider{width:100%}.text-red{color:red}.separator{margin:1rem 0}.color-orange{color:orange}.color-red{color:red}#todo-list .view{display:flex;justify-content:start;align-items:center;border-bottom:1px solid silver}#todo-list .view label{flex-grow:1;margin-left:.5em}</style>
</head>
<body>
    <div id="app"><div class="loader"></div></div>
</body>
</html>
