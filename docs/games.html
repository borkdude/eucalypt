<!DOCTYPE html>
<html lang="en">
<head>
    <title>Eucalypt</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
  <script type="module">function E(e){if(e==null||e instanceof Function)return e;const t=typeof e;return t==="string"?(n,r)=>_(n,e,r):t==="object"?(n,r)=>_(e,n,r):e}function xt(e,t,n,...r){if(r.length%2!==0)throw new Error("Illegal argument: assoc expects an odd number of arguments.");switch(x(e)){case P:e.set(t,n);for(let o=0;o<r.length;o+=2)e.set(r[o],r[o+1]);break;case W:case J:e[t]=n;for(let o=0;o<r.length;o+=2)e[r[o]]=r[o+1];break;default:throw new Error(`Illegal argument: assoc! expects a Map, Array, or Object as the first argument, but got ${typeof e}.`)}return e}function Ge(e){switch(x(e)){case P:return new Map(e);case F:return new e.constructor(e);case W:return[...e];case J:return{...e};default:throw new Error(`Don't know how to copy object of type ${typeof e}.`)}}function G(e,t,n,...r){e||(e={});const o=Ge(e);return xt(o,t,n,...r),o}const P=1,W=2,J=3,Te=4,F=5,Ce=6;function Ct(e){switch(e){case P:return new Map;case W:return[];case J:return{};case Te:return new Re;case F:return new Set;case Ce:return S(function*(){})}}function ke(e){return e.constructor===Object}function zt(e){return e!=null&&ke(e)}function x(e){if(e!=null){if(ke(e))return J;if(e instanceof Map)return P;if(e instanceof Set)return F;if(e instanceof Re)return Te;if(Array.isArray(e))return W;if(e instanceof We)return Ce;if(e instanceof Ee)return F;if(e instanceof Object)return J}}function Ft(...e){if(e=e.map(E),e.length===0)return Qe;if(e.length===1)return e[0];const[t,...n]=e.slice().reverse();return function(...r){let o=t(...r);for(const s of n)o=s(o);return o}}function ht(e,t){for(const n of t)e.add(n);return e}function mt(...e){if(e.length===0)return vt();const[t,...n]=e;let r=t;switch(r==null&&(r=[]),x(r)){case F:ht(r,n);break;case Te:r.unshift(...n.reverse());break;case W:r.push(...n);break;case P:for(const o of n)Array.isArray(o)?r.set(o[0],o[1]):m(o).forEach(s=>{r.set(s[0],s[1])});break;case J:for(const o of n)Array.isArray(o)?r[o[0]]=o[1]:Object.assign(r,o);break;default:throw new Error("Illegal argument: conj! expects a Set, Array, List, Map, or Object as the first argument.")}return r}function ze(...e){if(e.length===0)return vt();const[t,...n]=e;let r=t;r==null&&(r=en());let o,s;switch(x(r)){case F:return r instanceof Ee?ht(new r.constructor(r),n):new r.constructor([...r,...n]);case Te:return new Re(...n.reverse(),...r);case W:return[...r,...n];case P:o=new Map(r);for(const c of n)Array.isArray(c)?o.set(c[0],c[1]):m(c).forEach(i=>{o.set(i[0],i[1])});return o;case Ce:return S(function*(){yield*n,yield*r});case J:s={...r};for(const c of n)Array.isArray(c)?s[c[0]]=c[1]:Object.assign(s,c);return s;default:throw new Error("Illegal argument: conj expects a Set, Array, List, Map, or Object as the first argument.")}}function _e(e,t){switch(x(e)){case F:case P:return e.has(t);case void 0:return!1;default:return t in e}}function Fe(e,...t){if(t.length===0)return e;const n=Ge(e);switch(x(e)){case P:for(const r of t)n.delete(r);break;default:for(const r of t)delete n[r];break}return n}function Ut(e){return e+1}function g(e,t,n){if(e){var r=void 0;if(Array.isArray(e))r=e[t];else{const o=m(e);let s=0;for(const c of o)if(s++==t){r=c;break}}if(r!==void 0)return r}return n}function _(e,t,n=void 0){if(e==null)return n;let r;if(ke(e))return r=e[t],r===void 0?n:r;let o;switch(x(e)){case F:e.has(t)&&(r=t);break;case P:r=e.get(t);break;case W:r=e[t];break;default:if(o=e.get,o instanceof Function)try{r=e.get(t);break}catch{}r=e[t];break}return r!==void 0?r:n}function Ue(e){return e!=null&&!!e[Symbol.iterator]}const ee=Ue;function Dt(e){return e==null||!!e[Symbol.iterator]}function m(e){if(e==null)return[];if(Dt(e))return e;if(e instanceof Object)return Object.entries(e);throw new TypeError(`${e} is not iterable`)}const pt=Symbol("Iterable"),Wt=Symbol.iterator;function gt(e){return e[Symbol.iterator]()}const Yt=gt;function R(e){if(e==null)return e;const t=m(e);return t.length===0||t.size===0||t[Symbol.iterator]().next().done?null:t}function b(e){const[t]=m(e);return t}function $e(e){const[t,n]=m(e);return n}function $(e){return S(function*(){let t=!0;for(const n of m(e))t?t=!1:yield n})}class nt{value;constructor(t){this.value=t}_deref(){return this.value}}function De(e,t,n){e=E(e);let r,o;if(arguments.length===2){const s=m(t)[Symbol.iterator](),c=s.next();c.done?o=e():o=c.value,r=s}else o=t,r=m(n);if(o instanceof nt)return o.value;for(const s of r)if(o=e(o,s),o instanceof nt){o=o.value;break}return o}var Xt=!1;class We{constructor(t){this.gen=t,this.usages=0}[Symbol.iterator](){return this.usages++,this.usages>=2,this.gen()}}We.prototype[pt]=!0;function S(e){return new We(e)}class Ht{constructor(t,n){this.x=t,this.coll=n}*[Symbol.iterator](){yield this.x,yield*m(this.coll)}}function Jt(e,t){return new Ht(e,t)}function Se(e,...t){switch(e=E(e),t.length){case 0:return n=>(...r)=>{switch(r.length){case 0:return n();case 1:return n(r[0]);case 2:return n(r[0],e(r[1]));default:return n(r[0],e(...r.slice(1)))}};case 1:return S(function*(){for(const n of m(t[0]))yield e(n)});default:return S(function*(){const n=t.map(r=>Yt(m(r)));for(;;){const r=[];for(const o of n){const s=o.next();if(s.done)return;r.push(s.value)}yield e(...r)}})}}function yt(e){return t=>(...n)=>{switch(n.length){case 0:return t();case 1:return t(n[0]);case 2:{const r=n[0],o=n[1];return u(e(o))?t(r,o):r}}}}function Zt(e,t){return arguments.length===1?yt(e):(e=E(e),S(function*(){for(const n of m(t))u(e(n))&&(yield n)}))}function Z(e,t){return arguments.length===1?yt(rt(e)):Zt(rt(e),t)}function v(...e){return e.join("")}function T(e){return!u(e)}function ye(e){return e==null}class Vt{constructor(t){this.val=t,this._watches={},this._deref=()=>this.val,this._hasWatches=!1,this._reset_BANG_=n=>{const r=this.val;if(this.val=n,this._hasWatches)for(const o of Object.entries(this._watches)){const s=o[0],c=o[1];c(s,this,r,n)}return n},this._add_watch=(n,r)=>{this._watches[n]=r,this._hasWatches=!0},this._remove_watch=n=>{delete this._watches[n]}}}function Ye(e){return new Vt(e)}function w(e){return e._deref()}function O(e,t){e._reset_BANG_(t)}function A(e,t,...n){t=E(t);const r=t(w(e),...n);return O(e,r),r}function U(e,t,n){return S(function*(){let r=e,o=t,s=n;t===void 0&&(r=0,o=e);let c=r||0;s=1;const i=s>=0;for(;o===void 0||i&&c<o||!i&&o<c;)yield c,c+=s})}function vt(...e){return e}function K(e){return x(e)===W}function qe(...e){if(e.length===2){const[r,o]=e,s=m(o);if(Array.isArray(s)){const c=new Array(s.length);for(var t=0;t<s.length;t++)c[t]=r(s[t]);return c}else{var n=[];for(const c of s)n.push(r(c));return n}}return[...Se(...e)]}function k(e){return tn(e)?e:[...m(e)]}function Oe(e){return new Set(m(e))}const wt=Symbol("IApply__apply");function Me(e,...t){e=E(e);const n=t.slice(0,t.length-1),r=m(t[t.length-1]),o=e[wt];return o?o(...n,r):e(...n,...r)}function rt(e){return e=E(e),(...t)=>T(e(...t))}class Re extends Array{constructor(...t){super(),this.push(...t)}}function en(...e){return new Re(...e)}function tn(e){return Array.isArray(e)}function bt(e){return S(function*(){for(const t of e)yield*m(t)})}function Xe(...e){return bt(e)}Xe[wt]=e=>bt(e);function Qe(e){return e}function At(e){const t=x(e);if(t!=null)return Ct(t);throw new Error(`Can't create empty of ${typeof e}`)}function ot(...e){const t=e[0];let n;return t==null?n={}:n=M(At(t),t),mt(n,...e.slice(1))}function M(...e){let t,n,r,o,s;switch(e.length){case 0:return[];case 1:return e[0];case 2:return ze(e[0]??[],...m(e[1]));case 3:return t=e[0],n=e[1],r=e[2],o=Ge(t),s=(c,i)=>i===void 0?c:mt(c,i),kt(n,s,o,r);default:throw TypeError(`Invalid arity call of into: ${e.length}`)}}function nn(...e){if(e.length==0||e.length>2)throw new Error(`Invalid arity: ${e.length}`);return{[pt]:!0,[Wt]:e.length==1?function*(){const t=e[0];for(;;)yield t}:function*(){const[t,n]=e;for(var r=0;r<t;r++)yield n}}}function rn(e){return t=>{let n=e;return(...r)=>{const o=r.length;if(o===0)return t();if(o===1)return t(r[0]);if(o===2){const s=r[0],c=r[1],i=n;return n--,i>0?s:t(s,c)}}}}function on(e,t){return arguments.length===1?rn(e):S(function*(){const n=gt(m(t));for(let r=0;r<e;r++)n.next();yield*n})}function ve(e,t,n,...r){return n=E(n),G(e,t,n(_(e,t),...r))}function jt(e,t){e=E(e);for(const n of m(t))if(!e(n))return!1;return!0}function sn(e,t){return arguments.length===1&&(t=e,e=void 0),e=E(e),t=m(t),[...t].sort(e||He)}function Gt(e,t){e=E(e);for(const n of m(t)){const r=e(n);if(u(r))return r}}function Be(e){return!R(e)}function st(e){return Math.floor(Math.random()*e)}function cn(e){const t=[...m(e)];return t.pop(),t.length>0?t:null}function me(e){if(!e)return 0;const t=e.length||e.size;if(typeof t=="number")return t;let n=0;for(const r of m(e))n++;return n}function Q(e){return e!=null}function un(e,t,...n){return t==null?e:Math.min(e,t,...n)}function D(e){return e==null?!1:!!(ke(e)||e instanceof Map)}function V(e){if(Array.isArray(e)){const t=e.slice(1);return t.length>0?t:null}else return R($(e))}function He(e,t){if(e===t)return 0;{if(e==null)return-1;if(t==null)return 1;const n=typeof e,r=typeof t;if(n==="number"&&r==="number"||n==="string"&&r==="string")return e===t?0:e<t?-1:1;if(Array.isArray(e)&&Array.isArray(t)){if(e.length<t.length)return-1;if(e.length>t.length)return 1;for(let o=0;o<e.length;o++){let s=He(e[o],t[o]);if(s!=0)return s}return 0}else throw new Error(`comparing ${n} to ${r}`)}}function u(e){return e!=null&&e!==!1}function se(e){return typeof e=="function"}function an(e){return typeof e=="number"}function q(e){return typeof e=="string"}const Tt=Symbol("meta");function we(e){return e instanceof Object?e[Tt]:null}function ln(e,t){const n=Ge(e);return n[Tt]=t,n}function fn(e){return e===!0||e===!1}function kt(e,...t){switch(t.length){case 2:{const n=t[0],r=t[1];return kt(e,n,n(),r)}default:{let n=t[0];const r=t[1],o=t[2];n=e(n);const s=De(n,r,o);return n(s)}}}class Ee{constructor(t){t instanceof Ee||(t=sn(t));const r=new Set(t);this._elts=[...r],this._set=r}add(t){if(this._set.has(t))return this;const n=this._elts;let r=!1;for(let o=0;o<n.length;o++)if(He(t,n[o])<=0){n.splice(o,0,t),r=!0;break}return r?this._set=new Set(n):(n.push(t),this._set.add(t)),this.size=n.length,this}delete(t){if(!this._set.has(t))return this;const n=this._elts,r=n.indexOf(t);return n.splice(r,1),this._set=new Set(n),this.size=n.length,this}has(t){return this._set.has(t)}keys(){return this.values()}values(){return this._elts[Symbol.iterator]()}entries(){return this._set.entries()}forEach(...t){return this.set.forEach(...t)}clear(){this._elts=[],this._set=new Set(this._elts)}[Symbol.iterator](){return this.keys()}}function St(){return crypto.randomUUID()}function B(e,t,...n){if(t===void 0||e===t)return!1;for(const r of n)if(e===r)return!1;return!0}function _n(){}function ct(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function ut(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const dn="[object RegExp]",hn="[object String]",mn="[object Number]",pn="[object Boolean]",it="[object Arguments]",gn="[object Symbol]",yn="[object Date]",vn="[object Map]",wn="[object Set]",bn="[object Array]",An="[object Function]",jn="[object ArrayBuffer]",Ne="[object Object]",Gn="[object Error]",Tn="[object DataView]",kn="[object Uint8Array]",Sn="[object Uint8ClampedArray]",On="[object Uint16Array]",Mn="[object Uint32Array]",Rn="[object BigUint64Array]",En="[object Int8Array]",In="[object Int16Array]",Nn="[object Int32Array]",Kn="[object BigInt64Array]",$n="[object Float32Array]",qn="[object Float64Array]";function at(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype||Object.getPrototypeOf(t)===null?Object.prototype.toString.call(e)==="[object Object]":!1}function Qn(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function Bn(e,t,n){return ie(e,t,void 0,void 0,void 0,void 0,n)}function ie(e,t,n,r,o,s,c){const i=c(e,t,n,r,o,s);if(i!==void 0)return i;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return e===t;case"number":return e===t||Object.is(e,t);case"function":return e===t;case"object":return le(e,t,s,c)}return le(e,t,s,c)}function le(e,t,n,r){if(Object.is(e,t))return!0;let o=ut(e),s=ut(t);if(o===it&&(o=Ne),s===it&&(s=Ne),o!==s)return!1;switch(o){case hn:return e.toString()===t.toString();case mn:{const a=e.valueOf(),l=t.valueOf();return Qn(a,l)}case pn:case yn:case gn:return Object.is(e.valueOf(),t.valueOf());case dn:return e.source===t.source&&e.flags===t.flags;case An:return e===t}n=n??new Map;const c=n.get(e),i=n.get(t);if(c!=null&&i!=null)return c===t;n.set(e,t),n.set(t,e);try{switch(o){case vn:{if(e.size!==t.size)return!1;for(const[a,l]of e.entries())if(!t.has(a)||!ie(l,t.get(a),a,e,t,n,r))return!1;return!0}case wn:{if(e.size!==t.size)return!1;const a=Array.from(e.values()),l=Array.from(t.values());for(let f=0;f<a.length;f++){const d=a[f],p=l.findIndex(y=>ie(d,y,void 0,e,t,n,r));if(p===-1)return!1;l.splice(p,1)}return!0}case bn:case kn:case Sn:case On:case Mn:case Rn:case En:case In:case Nn:case Kn:case $n:case qn:{if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let a=0;a<e.length;a++)if(!ie(e[a],t[a],a,e,t,n,r))return!1;return!0}case jn:return e.byteLength!==t.byteLength?!1:le(new Uint8Array(e),new Uint8Array(t),n,r);case Tn:return e.byteLength!==t.byteLength||e.byteOffset!==t.byteOffset?!1:le(new Uint8Array(e),new Uint8Array(t),n,r);case Gn:return e.name===t.name&&e.message===t.message;case Ne:{if(!(le(e.constructor,t.constructor,n,r)||at(e)&&at(t)))return!1;const l=[...Object.keys(e),...ct(e)],f=[...Object.keys(t),...ct(t)];if(l.length!==f.length)return!1;for(let d=0;d<l.length;d++){const p=l[d],y=e[p];if(!Object.hasOwn(t,p))return!1;const j=t[p];if(!ie(y,j,p,e,t,n,r))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}function H(e,t){return Bn(e,t,_n)}var L=Ye,h=(()=>{try{return u((()=>{const e=globalThis,t=e==null?null:e.process,n=t==null?null:t.env;return n==null?null:n.DEBUG})())||u((()=>{const e=globalThis,t=e==null?null:e.localStorage,n=t==null?null:t.getItem("debug");return n==null?null:n.startsWith("eucalypt:")})())?console.log:Qe}catch{return Qe}})();h("eucalypt.cljs loading...");var Ln=function(e,t){return e["---meta"]=t,e},Ot=function(e){return e["---meta"]},Pn=function(e){const t=$(e);for(let n of m(t)){const r=n;if(u((()=>{const o=zt(r);return u(o)?r.watchers:o})())){const o=r.watchers;for(let s of m(w(o))){const c=s;_(Ot(c),"normalized-component")===e&&A(o,(function(i){return Oe(Z((function(a){return c===a}),i))}))}}}return null},z=null,Ke="http://www.w3.org/1999/xhtml",de={"component-will-unmount":Pn},pe=L({}),Le=L({}),ae=L({}),oe=L(0),Mt=L({}),Rt=function(e,t){const n=z;return(()=>{try{return z=Ln((function(){return Xn(e)}),{"normalized-component":e}),t()}finally{z=n}})()},Et=function(e){for(let t of m(w(Mt))){const n=t;g(n,0,null);const o=g(n,1,null).watchers;u(o)&&A(o,(function(c){return Oe(Z((function(i){return _(Ot(i),"normalized-component")===e}),c))}))}return null},It=function(e){return Me(v,Se((function(t){const n=t,r=g(n,0,null),o=g(n,1,null);return v(r,":",o,";")}),e))},xn={"on-double-click":"ondblclick"},Pe=function(e,t){return u((()=>{const n=e==="on-change";return n&&_(new Set(["INPUT","TEXTAREA"]),t)})())?"oninput":_(xn,e,e.replaceAll("-",""))},Cn=function(e,t){for(let n of m(t)){const r=n,o=g(r,0,null),s=g(r,1,null);if(o!=="xmlns")if(o==="ref")u(Q(s))&&(e["---ref-fn"]=s,s(e));else if(u(o.startsWith("on-"))){if(u(Q(s))){const c=Pe(o,e.tagName);e[c]=s}}else if(o==="style")u(Q(s))&&(e.style=It(s));else if(o==="class"){const c=u((()=>{const i=ee(s);return u(i)?T(q(s)):i})())?k(Z(ye,s)).join(" "):s;u((()=>{const i=c==null;return i||c===""})())?e.removeAttribute("class"):e.setAttribute("class",c)}else u((()=>{const c=o==="checked";return c||o==="selected"})())?u(Q(s))&&(e[o]=s):u(Q(s))&&e.setAttributeNS(null,o,s)}return null},zn=function(e){const n=v(e).split("#",2),r=g(n,0,null),o=g(n,1,null),s=r.split(/\./),c=R(s),i=b(c),a=V(c),l=i,f=a,d=u(Be(l))?"div":l,p=u(o)?o.split(/\./):[],y=R(p),j=b(y),Y=V(y),te=j,X=k(Z(Be,Xe(f,Y)));return{"tag-name":d,id:te,classes:u(R(X))?X:null}},Fn=function(e){const n=R(e),r=b(n),o=V(n),s=r,c=o,i=zn(s),a=_(i,"tag-name"),l=_(i,"id"),f=_(i,"classes"),d=u(D(b(c)))?b(c):{},p=(()=>{const X=_(d,"id");return u(X)?X:l})(),y=_(d,"class"),j=(()=>{const X=(()=>{const ue=f;return u(ue)?ue:[]})(),Pt=y==null?[]:u(q(y))?[y]:u((()=>{const ue=ee(y);return u(ue)?T(q(y)):ue})())?k(y):[y],tt=k(Xe(X,Pt));if(u(R(tt)))return tt})(),Y=u(p)?G(d,"id",p):d,te=u(Q(j))?G(Y,"class",j):Fe(Y,"class"),et=u(D(b(c)))?$(c):c;return{"tag-name":a,attrs:te,content:et}},Un=function(e){const t=Fn(e),n=_(t,"tag-name"),r=_(t,"attrs"),o=_(t,"content"),s=_(r,"value"),c=Fe(r,"value"),i=Ke,a=n==="svg"?"http://www.w3.org/2000/svg":i,l=document.createElementNS(a,n);return(()=>{try{Ke=a,Cn(l,c);for(let f of m(o)){const p=I(f);if(u(p)){const y=p;l.appendChild(y)}}if(u(Q(s)))if(u((()=>{const f=l.tagName==="SELECT";return f&&l.multiple})())){const f=Oe(s);for(let d of m(l.options)){const p=d;p.selected=_e(f,p.value)}}else l.value=s;return l}finally{Ke=i}})()},Dn=function(e){const t=e._eucalypt_id;if(u(t))return t;{const n=v("fn_",St());return e._eucalypt_id=n,n}},Je=function(e){if(h("normalize-component called with:",e),h("normalize-component: component metadata:",we(e)),u(ee(e))){const t=b(e),n=$(e);if(u(se(t))){const r=t,o=k(n),s=we(e),c=Dn(r),i=u(_e(s,"key"))?v(c,"_key_",_(s,"key")):v(c,"_pos_",A(oe,Ut)),a=c,l=_(w(ae),i),f=_(w(ae),a);if(u(l))return h("normalize-component: using cached instance for key:",i),M([_(l,"instance")],o);if(u(f))return h("normalize-component: using cached shared for key:",a),M([_(f,"instance")],o);{h("normalize-component: cache miss for keys:",i,"and",a);const d=Me(r,o);if(u(se(d))){const y=ot(de,{"reagent-render":d}),j=M([y],o);return h("normalize-component: Form-2, caching with key:",i),A(ae,G,i,{type:"form-2",instance:y}),j}else{const p=ot(de,{"reagent-render":r}),y=M([p],o);return h("normalize-component: Form-1, caching with key:",a),A(ae,G,a,{type:"form-1",instance:p}),y}}}else{if(u(q(t)))return M([G(de,"reagent-render",(function(){return e}))],n);if(u(D(t))){const r=t,o=_(r,"reagent-render"),s=M({"reagent-render":o},Se((function(c){const i=c,a=g(i,0,null),l=g(i,1,null),f=_(r,a),d=u(f)?Ft(f,l):l;return[a,d]}),de));return M([s],n)}else return null}}},Ze=function(e){const n=R(e),r=b(n),o=V(n),s=r,c=o,i=_(s,"reagent-render");h("component->hiccup: calling reagent-render with params:",c);const a=Me(i,c);return h("component->hiccup: reagent-render returned:",(()=>{const l=a;return l==null?null:l.toString()})()),a},I=function(e){h("hiccup->dom called with:",e);const t=u((()=>{const n=q(e);return u(n)?n:an(e)})())?document.createTextNode(v(e)):u(K(e))?(()=>{const r=R(e),o=b(r);V(r);const s=o;if(u(se(s)))return I(Ze(Je(e)));if(u(K(s))){const c=document.createDocumentFragment();for(let i of m(e)){const l=I(i);if(u(l)){const f=l;c.appendChild(f)}}return c}else if(s==="<>"){const c=document.createDocumentFragment();for(let i of m($(e))){const l=I(i);if(u(l)){const f=l;c.appendChild(f)}}return c}else return Un(e)})():u(Ue(e))?(()=>{const n=document.createDocumentFragment();for(let r of m(e)){const o=r,s=u((()=>{const i=K(o);return u(i)?we(o):i})())?ln(o,we(o)):o,c=I(s);if(u(c)){const i=c;n.appendChild(i)}}return n})():u(se(e))?I(e()):u(D(e))?I(_(e,"reagent-render")()):u((()=>{const n=e==null;return n||fn(e)})())?null:document.createTextNode(v(e));return h("hiccup->dom returning:",(()=>{const n=t;return n==null?null:n.toString()})()),t},Wn=function(e,t){const n=H(e,t);return h("hiccup-eq?:",n),T(n)&&h("hiccup-eq? details: a:",e,"b:",t),n},lt=function(e){h("is-sequence-of-hiccup-elements? checking:",e);const t=(()=>{const n=ee(e);if(u(n)){const r=T(q(e));if(r){const o=R(e);return u(o)?jt((function(s){const c=s==null;return c||K(s)}),e):o}else return r}else return n})();return h("is-sequence-of-hiccup-elements? result:",t),t},xe=function(e){const t=$(e);return u(D(b(t)))?$(t):t},C=function(e){h("fully-render-hiccup called with:",e);const t=e==null?null:u(se(e))?C(e()):u(lt(e))||u((()=>{const n=Q(e[Symbol.iterator]);if(u(n)){const r=T(K(e));return r&&T(q(e))}else return n})())?qe(C,e):u(K(e))?(()=>{const n=b(e);if(u(se(n)))return C(Ze(Je(e)));{const r=u(D($e(e)))?$e(e):null,o=u(r)?on(2,e):$(e),s=u(r)?[b(e),r]:[b(e)];return M(s,De((function(c,i){const a=C(i);if(h("fully-render-hiccup reduce: processing child, processed=",v(a)),u((()=>{const l=ee(a);if(u(l)){const f=T(q(a));return f&&Be(a)}else return l})()))return c;{const l=lt(a);return h("fully-render-hiccup reduce: is-sequence-of-hiccup-elements?=",l),u((()=>{const f=K(a);return u(f)?b(a)==="<>":f})())?(h("fully-render-hiccup reduce: unpacking fragment"),M(c,xe(a))):u(l)?(h("fully-render-hiccup reduce: unpacking sequence of hiccup elements"),M(c,a)):(h("fully-render-hiccup reduce: appending single child"),ze(c,a))}}),[],o))}})():u(D(e))?C(_(e,"reagent-render")()):e;return h("fully-render-hiccup returning:",v(t)),t},Ve=function(e){if(u(e)){const t=e["---ref-fn"];if(u(t)){const n=t;h("unmount-node-and-children: calling ref-fn for node",v(n)),n(null),e["---ref-fn"]=null}for(let n of m(k(e.childNodes)))Ve(n);return null}},Nt=function(e){if(u(e))return Ve(e),e.remove()},Kt=function(e,t,n){h("--- patch-children start for dom:",(()=>{const f=n;return f==null?null:f.toString()})());const r=k(Z(ye,xe(e))),o=k(Z(ye,xe(t))),s=L(k(n.childNodes)),c=me(r),i=me(o),a=me(w(s));h("patch-children: len-a:",c,"len-b:",i,"len-dom:",a),h("patch-children: children-a:",v(r)),h("patch-children: children-b:",v(o));let l=0;for(;;){if(l<un(c,i)){const f=g(r,l),d=g(o,l),p=g(w(s),l),y=$t(f,d,p);u(B(p,y))&&A(s,G,l,y),l=l+1;continue}break}if(i>c)for(let f of m(U(c,i))){const d=f;n.appendChild(I(g(o,d)))}if(c>i){const f=c-i;let d=0;for(;;){if(d<f){Nt(n.lastChild),d=d+1;continue}break}}},be=function(e){h("get-attrs called on hiccup:",e);const t=$e(e);return u(D(t))?t:{}},Yn=function(e,t,n){h("patch-attributes called with hiccup-a:",e,"hiccup-b:",t);const r=be(e),o=be(t),s=_(r,"ref"),c=_(o,"ref"),i=n.tagName;h("patch-attributes: a-attrs:",r,"b-attrs:",o),h("patch-attributes: a-ref:",s,"b-ref:",c),h("patch-attributes: about to compare refs. are they equal?",s===c,"a-ref:",s,"b-ref:",c),s!==c&&(h("patch-attributes: refs are different, handling lifecycle"),u(s)&&s(null),u(c)&&c(n),n["---ref-fn"]=c);for(let a of m(r)){const l=a,f=g(l,0,null);g(l,1,null),u((()=>{const d=T(_e(o,f));if(d){const p=B(f,"ref");return u(p)?B(f,"xmlns"):p}else return d})())&&(u(f.startsWith("on-"))?n[Pe(f,i)]=null:n.removeAttribute(f))}for(let a of m(o)){const l=a,f=g(l,0,null),d=g(l,1,null);if(u((()=>{const p=B(f,"ref");return u(p)?B(f,"xmlns"):p})())){const p=_(r,f);if(u(f.startsWith("on-")))n[Pe(f,i)]=d;else if(u(B(d,p))&&(h("patch-attributes: updating attribute",f,"from",p,"to",d,"on",v(n)),f!=="value"))if(f==="class"){const y=u((()=>{const j=ee(d);return u(j)?T(q(d)):j})())?k(Z(ye,d)).join(" "):d;u((()=>{const j=y==null;return j||y===""})())?n.removeAttribute("class"):n.setAttribute("class",y)}else if(u((()=>{const y=f==="checked";return y||f==="selected"})()))n[f]=d;else if(d==null)n.removeAttribute(f);else{const y=f==="style"?It(d):d;n.setAttributeNS(null,f,y)}}}return null},Ae=function(e){return u((()=>{const t=Ue(e);return u(t)?e.gen:t})())?qe(Ae,e):u((()=>{const t=ee(e);return u(t)?T(q(e)):t})())?M(At(e),Se(Ae,e)):e},$t=function(e,t,n){h("patch: hiccup-a-rendered",v(e),"hiccup-b-rendered",v(t),"dom-a",v(n));const r=Ae(e),o=Ae(t),s=Wn(r,o);if(h("patch: are-equal is",s,"(type",typeof s,")"),u(s))return h("patch: hiccup is equal, doing nothing"),n;if(u((()=>{const c=T(K(r));if(c)return c;{const i=T(K(o));return i||B(b(r),b(o))}})())){const c=I(o);return h("patch: replacing node. dom-a:",v(n),"new-node:",v(c)),u(n)&&h("patch: replacing node. dom-a.textContent:",n.textContent,"new-node.textContent:",c.textContent),Ve(n),n.replaceWith(c),c}else{h("patch: hiccup not equal, patching children and attributes"),Yn(r,o,n),Kt(r,o,n);const c=be(r),i=be(o),a=_(i,"value");if(u((()=>{const l=_e(i,"value");return u(l)?B(_(c,"value"),a):l})()))if(h("patch: value changed from",_(c,"value"),"to",a,"on",v(n)),u((()=>{const l=n.tagName==="SELECT";return l&&n.multiple})())){const l=Oe(a);for(let f of m(n.options)){const d=f;d.selected=_e(l,d.value)}}else n.value=a;return n}},Xn=function(e){h("modify-dom called for component:",e),Et(e),O(oe,0);const n=_(w(pe),e),r=_(n,"hiccup"),o=_(n,"dom"),s=_(n,"container"),c=Rt(e,(function(){return Ze(e)})),i=C(c);if(u((()=>{const a=K(r);return u(a)?b(r)==="<>":a})()))return O(oe,0),Kt(r,i,s),A(pe,G,e,{hiccup:i,dom:o,container:s});{O(oe,0);const a=$t(r,i,o);if(h("modify-dom: new DOM",v(a)),A(pe,G,e,{hiccup:i,dom:a,container:s}),u(B(o,a)))return h("modify-dom: DOM changed, replacing in container"),s.innerHTML="",s.appendChild(a)}},ft=function(e){h("notify-watchers called with",me(w(e)),"watchers");for(let t of m(w(e))){const n=t;h("calling watcher");const r=z;try{z=n,n()}finally{z=r}}return null},Hn=function(e){return Rt(e,(function(){const t=_(b(e),"reagent-render"),n=$(e),r=Me(t,n),o=I(r);return[r,o]}))},Jn=function(e){const t=_(w(Le),e);if(u(t)){const n=t;Et(n);const o=R(n),s=b(o);V(o),_(s,"component-will-unmount")(n),A(Le,Fe,e)}O(ae,{});for(let n of m(k(e.childNodes)))Nt(n);return null},Zn=function(e,t){Jn(t),O(oe,0);const r=R(e),o=b(r);V(r),_(o,"_reagent-render");const c=Hn(e),i=g(c,0,null),a=g(c,1,null);O(oe,0);const l=C(i);return t.appendChild(a),A(pe,G,e,{hiccup:l,dom:a,container:t}),A(Le,G,t,e)},Vn=function(e){const t=L(e),n=t._deref,r=t._reset_BANG_,o=v("ratom-",St());return t["ratom-id"]=o,t.watchers=L(new Set([])),t.cursors=L(new Set([])),t._deref=(function(){return u(z)&&(h("ratom deref: watcher found, adding to set."),A(t.watchers,ze,z)),n.call(t)}),t._reset_BANG_=(function(s){h("ratom _reset_BANG_ called with",s);const c=r.call(t,s);ft(t.watchers);for(let i of m(w(t.cursors)))ft(i.watchers);return c}),A(Mt,G,o,t),t},er=function(e,t){h("render called with component:",e,"and container:",v(t));const n=Je(e);return h("render: normalized-component is",n),Zn(n,t)},Ie=Vn,qt=Ie({page:"home"}),tr=(()=>{const e=(function(...t){switch(t.length){case 0:return e.cljs$core$IFn$_invoke$arity$0();case 1:return e.cljs$core$IFn$_invoke$arity$1(t[0]);default:throw new Error(v("Invalid arity: ",t.length))}});return e.cljs$core$IFn$_invoke$arity$0=(function(){return Math.random()}),e.cljs$core$IFn$_invoke$arity$1=(function(t){return t*Math.random()}),e.cljs$lang$maxFixedArity=1,e})(),Qt=function(){return{board:k(nn(9,null)),"x-turn?":!0}},fe=Ie(Qt()),Bt=function(e){return Gt((function(n){const r=n,o=g(r,0,null),s=g(r,1,null),c=g(r,2,null);if(u((()=>{const i=_(e,o);return u(i)?_(e,o)===_(e,s)&&_(e,s)===_(e,c):i})()))return _(e,o)}),[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]])},nr=function(e){const t=w(fe),n=_(t,"board"),r=_(t,"x-turn?"),o=_(n,e);return["div",{style:{width:"60px",height:"60px",border:"1px solid #000",display:"flex","align-items":"center","justify-content":"center","font-size":"24px",cursor:"pointer"},"on-click":(function(){if(u((()=>{const s=o==null;return s&&T(Bt(n))})()))return A(fe,ve,"board",G,e,u(r)?"X":"O"),A(fe,ve,"x-turn?",T)})},o]},rr=function(){return["div",{style:{display:"grid","grid-template-columns":"repeat(3, 60px)","grid-template-rows":"repeat(3, 60px)",gap:"2px"}},S(function*(){for(let e of m(U(9)))yield[nr,e]})]},or=function(){const e=w(fe),t=_(e,"board"),n=_(e,"x-turn?"),r=Bt(t);return["div",{style:{"font-family":"sans-serif"}},[rr],u(r)?["p",v("Winner: ",r)]:u(jt(Q,t))?["p","Draw!"]:["p",v("Next turn: ",u(n)?"X":"O")],["button",{"on-click":(function(){return O(fe,Qt())})},"Restart"]]},ce=20,ne=10,je=Ie({snake:[[5,10],[4,10],[3,10]],dir:[1,0],food:[15,10],"alive?":!0}),sr=function(){return[st(ce),st(ce)]},cr=function(){return A(je,(function(e){const t=e,n=t,r=_(t,"snake"),o=_(t,"dir"),s=_(t,"food"),c=_(t,"alive?");if(T(c))return n;{const i=k([g(b(r),0)+g(o,0),g(b(r),1)+g(o,1)]),a=H(i,s),l=k(Jt(i,u(a)?r:cn(r))),f=g(i,0),d=g(i,1),p=(()=>{const j=f<0;if(j)return j;{const Y=d<0;if(Y)return Y;{const te=f>=ce;return te||d>=ce}}})(),y=Gt((function(j){return H(i,j)}),$(l));return u(p)||u(y)?G(n,"alive?",!1):u(a)?G(n,"snake",l,"food",sr()):G(n,"snake",l)}}))},_t=function(e){const t=e.key;return A(je,ve,"dir",(function(n){switch(t){case"ArrowUp":return u(H(n,[0,1]))?n:[0,-1];case"ArrowDown":return u(H(n,[0,-1]))?n:[0,1];case"ArrowLeft":return u(H(n,[1,0]))?n:[-1,0];case"ArrowRight":return u(H(n,[-1,0]))?n:[1,0];default:return n}}))},dt=function(e,t){const n=e,r=g(n,0,null),o=g(n,1,null);return["rect",{x:r*ne,y:o*ne,width:ne,height:ne,fill:t}]},ur=(()=>{const e=Ye(null),t=(function(n){if(console.log("snake-game-board",n),u(n)){if(w(e)==null)return console.log("snake-game-board mount"),O(e,setInterval(cr,200)),window.addEventListener("keydown",_t)}else if(u(w(e)))return console.log("snake-game-board unmount"),clearInterval(w(e)),O(e,null),window.removeEventListener("keydown",_t)});return function(){const n=w(je),r=_(n,"snake"),o=_(n,"food"),s=_(n,"alive?");return["div",{ref:t},["svg",{width:ce*ne,height:ce*ne,style:{border:"1px solid black",background:"#eef"}},S(function*(){for(let c of m(r))yield[dt,c,"green"]}),[dt,o,"red"],T(s)?["text",{x:50,y:100,"font-size":20,fill:"black"},"Game Over!"]:null],["p",["button",{"on-click":(function(){return O(je,{snake:[[5,10],[4,10],[3,10]],dir:[1,0],food:[15,10],"alive?":!0})})},"Restart"]]]}})(),N=30,re=15,Lt=function(){return k(S(function*(){for(let e of m(U(N)))yield k(S(function*(){for(let t of m(U(N)))yield tr()<.2?1:0}))}))},ge=Ie({grid:Lt(),"running?":!0}),ir=function(e,t,n){return De((function(o,s){const c=s,i=g(c,0,null),a=g(c,1,null),l=t+i,f=n+a;return u((()=>{const d=l>=0;if(d){const p=l<N;if(p){const y=f>=0;return y&&f<N}else return p}else return d})())?o+g(g(e,f),l):o}),0,[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]])},ar=function(e){return k(S(function*(){for(let t of m(U(N))){const n=t;yield k(S(function*(){for(let r of m(U(N))){const o=r;yield(()=>{const s=g(g(e,n),o)===1,c=ir(e,o,n);return u((()=>{const i=s;if(i){const a=c===2;return a||c===3}else return i})())||u((()=>{const i=!s;return i&&c===3})())?1:0})()}}))}}))},lr=function(){return A(ge,(function(e){const t=e,n=t,r=_(t,"grid"),o=_(t,"running?");return u(o)?G(n,"grid",ar(r)):n}))},fr=function(e,t,n){return["rect",{x:e*re,y:t*re,width:re,height:re,fill:n===1?"black":"white",stroke:"#ddd"}]},_r=(()=>{const e=Ye(null),t=(function(n){if(u(n)){if(w(e)==null)return O(e,setInterval(lr,200))}else if(u(w(e)))return clearInterval(w(e)),O(e,null)});return function(){const n=w(ge),r=_(n,"grid"),o=_(n,"running?");return["div",{ref:t},["svg",{width:N*re,height:N*re,style:{border:"1px solid black"}},S(function*(){for(let s of m(U(N))){const c=s;for(let i of m(U(N))){const a=i;yield[fr,a,c,g(g(r,c),a)]}}}),T(o)?["text",{x:50,y:50,fill:"red","font-size":20},"Paused"]:null],["p",["button",{"on-click":(function(){return A(ge,ve,"running?",T)})},u(o)?"Pause":"Resume"],["button",{"on-click":(function(){return A(ge,G,"grid",Lt())})},"Randomize"]]]}})(),he=function(e,t){return["a",{href:"#",class:"nav-link","on-click":(function(n){return n.preventDefault(),A(qt,G,"page",e)})},t]},dr=function(){return["div",["h1","Games"],["p","Some games implemented with Eucalypt."]]},hr=function(){const e=_(w(qt),"page");return["div",["nav",[he,"home","Home"],[he,"tic-tac-toe","Tic Tac Toe"],[he,"snake","Snake"],[he,"game-of-life","Game of Life"]],["hr"],(()=>{switch(e){case"home":return[dr];case"tic-tac-toe":return[or];case"snake":return[ur];case"game-of-life":return[_r];default:return["div","Page not found"]}})()]};er([hr],document.getElementById("app"));</script>
  <style rel="stylesheet" crossorigin>body{font-family:sans-serif;background-color:#f0f0f0;color:#333}div#app{max-width:800px;margin:2rem auto;padding:2rem;background-color:#fff;border-radius:8px;box-shadow:0 4px 6px #0000001a}h1{color:#111}a{color:#007bff;text-decoration:none}a:hover{text-decoration:underline}button{padding:10px 15px;font-size:1rem;border-radius:5px;border:1px solid #ccc;cursor:pointer;background-color:#eee}button:hover{background-color:#ddd}.nav-link{margin-right:.5em}.nav-link+.nav-link{border-left:2px solid #ccc;padding-left:.5em}.slider{width:100%}.text-red{color:red}.separator{margin:1rem 0}.color-orange{color:orange}.color-red{color:red}#todo-list .view{display:flex;justify-content:start;align-items:center;border-bottom:1px solid silver}#todo-list .view label{flex-grow:1;margin-left:.5em}</style>
</head>
<body>
    <div id="app"><div class="loader"></div></div>
</body>
</html>
